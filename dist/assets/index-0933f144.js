(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sc={exports:{}},ki={},ic={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Yh=Symbol.for("react.memo"),Xh=Symbol.for("react.lazy"),Cl=Symbol.iterator;function Zh(e){return e===null||typeof e!="object"?null:(e=Cl&&e[Cl]||e["@@iterator"],typeof e=="function"?e:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ac=Object.assign,lc={};function nn(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||oc}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uc(){}uc.prototype=nn.prototype;function ba(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||oc}var Pa=ba.prototype=new uc;Pa.constructor=ba;ac(Pa,nn.prototype);Pa.isPureReactComponent=!0;var bl=Array.isArray,cc=Object.prototype.hasOwnProperty,Aa={current:null},dc={key:!0,ref:!0,__self:!0,__source:!0};function hc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cc.call(t,n)&&!dc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ns,type:e,key:i,ref:o,props:s,_owner:Aa.current}}function ef(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function tf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pl=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tf(""+e.key):t.toString(36)}function zs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case Hh:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ki(o,0):n,bl(s)?(r="",e!=null&&(r=e.replace(Pl,"$&/")+"/"),zs(s,t,r,"",function(c){return c})):s!=null&&(Oa(s)&&(s=ef(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",bl(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+Ki(i,l);o+=zs(i,t,r,u,s)}else if(u=Zh(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+Ki(i,l++),o+=zs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,r){if(e==null)return e;var n=[],s=0;return zs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Fs={transition:null},nf={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Aa};function fc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Oa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=nn;H.Fragment=Wh;H.Profiler=qh;H.PureComponent=ba;H.StrictMode=Vh;H.Suspense=Jh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;H.act=fc;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ac({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Aa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)cc.call(t,u)&&!dc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ns,type:e.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Kh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gh,_context:e},e.Consumer=e};H.createElement=hc;H.createFactory=function(e){var t=hc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Qh,render:e}};H.isValidElement=Oa;H.lazy=function(e){return{$$typeof:Xh,_payload:{_status:-1,_result:e},_init:rf}};H.memo=function(e,t){return{$$typeof:Yh,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};H.unstable_act=fc;H.useCallback=function(e,t){return Ae.current.useCallback(e,t)};H.useContext=function(e){return Ae.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ae.current.useEffect(e,t)};H.useId=function(){return Ae.current.useId()};H.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ae.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};H.useRef=function(e){return Ae.current.useRef(e)};H.useState=function(e){return Ae.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ae.current.useTransition()};H.version="18.3.1";ic.exports=H;var L=ic.exports;const sf=Fh(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=L,af=Symbol.for("react.element"),lf=Symbol.for("react.fragment"),uf=Object.prototype.hasOwnProperty,cf=of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,df={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)uf.call(t,n)&&!df.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:af,type:e,key:i,ref:o,props:s,_owner:cf.current}}ki.Fragment=lf;ki.jsx=pc;ki.jsxs=pc;sc.exports=ki;var a=sc.exports,To={},mc={exports:{}},qe={},gc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,P){var $=b.length;b.push(P);e:for(;0<$;){var Z=$-1>>>1,le=b[Z];if(0<s(le,P))b[Z]=P,b[$]=le,$=Z;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var P=b[0],$=b.pop();if($!==P){b[0]=$;e:for(var Z=0,le=b.length,rr=le>>>1;Z<rr;){var Te=2*(Z+1)-1,Sr=b[Te],fe=Te+1,E=b[fe];if(0>s(Sr,$))fe<le&&0>s(E,Sr)?(b[Z]=E,b[fe]=$,Z=fe):(b[Z]=Sr,b[Te]=$,Z=Te);else if(fe<le&&0>s(E,$))b[Z]=E,b[fe]=$,Z=fe;else break e}}return P}function s(b,P){var $=b.sortIndex-P.sortIndex;return $!==0?$:b.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,g=3,w=!1,y=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(b){for(var P=r(c);P!==null;){if(P.callback===null)n(c);else if(P.startTime<=b)n(c),P.sortIndex=P.expirationTime,t(u,P);else break;P=r(c)}}function v(b){if(_=!1,h(b),!y)if(r(u)!==null)y=!0,F(S);else{var P=r(c);P!==null&&q(v,P.startTime-b)}}function S(b,P){y=!1,_&&(_=!1,m(N),N=-1),w=!0;var $=g;try{for(h(P),p=r(u);p!==null&&(!(p.expirationTime>P)||b&&!W());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,g=p.priorityLevel;var le=Z(p.expirationTime<=P);P=e.unstable_now(),typeof le=="function"?p.callback=le:p===r(u)&&n(u),h(P)}else n(u);p=r(u)}if(p!==null)var rr=!0;else{var Te=r(c);Te!==null&&q(v,Te.startTime-P),rr=!1}return rr}finally{p=null,g=$,w=!1}}var k=!1,x=null,N=-1,I=5,R=-1;function W(){return!(e.unstable_now()-R<I)}function ae(){if(x!==null){var b=e.unstable_now();R=b;var P=!0;try{P=x(!0,b)}finally{P?C():(k=!1,x=null)}}else k=!1}var C;if(typeof f=="function")C=function(){f(ae)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=ae,C=function(){z.postMessage(null)}}else C=function(){j(ae,0)};function F(b){x=b,k||(k=!0,C())}function q(b,P){N=j(function(){b(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,F(S))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(b){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var $=g;g=P;try{return b()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,P){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=g;g=b;try{return P()}finally{g=$}},e.unstable_scheduleCallback=function(b,P,$){var Z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,b){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,b={id:d++,callback:P,priorityLevel:b,startTime:$,expirationTime:le,sortIndex:-1},$>Z?(b.sortIndex=$,t(c,b),r(u)===null&&b===r(c)&&(_?(m(N),N=-1):_=!0,q(v,$-Z))):(b.sortIndex=le,t(u,b),y||w||(y=!0,F(S))),b},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(b){var P=g;return function(){var $=g;g=P;try{return b.apply(this,arguments)}finally{g=$}}}})(vc);gc.exports=vc;var hf=gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=L,Ve=hf;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yc=new Set,Mn={};function wr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(Mn[e]=t,e=0;e<t.length;e++)yc.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Al={},Ol={};function mf(e){return Co.call(Ol,e)?!0:Co.call(Al,e)?!1:pf.test(e)?Ol[e]=!0:(Al[e]=!0,!1)}function gf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vf(e,t,r,n){if(t===null||typeof t>"u"||gf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ra=/[\-:]([a-z])/g;function La(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ra,La);Se[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ra,La);Se[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ra,La);Se[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ia(e,t,r,n){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vf(t,r,s,n)&&(r=null),n||s===null?mf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),$a=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),wc=Symbol.for("react.provider"),_c=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Ua=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),Rl=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=Rl&&e[Rl]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Qi;function _n(e){if(Qi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qi=t&&t[1]||""}return`
`+Qi+e}var Ji=!1;function Yi(e,t){if(!e||Ji)return"";Ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ji=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function yf(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=Yi(e.type,!1),e;case 11:return e=Yi(e.type.render,!1),e;case 1:return e=Yi(e.type,!0),e;default:return""}}function Oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Pr:return"Portal";case bo:return"Profiler";case $a:return"StrictMode";case Po:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _c:return(e.displayName||"Context")+".Consumer";case wc:return(e._context.displayName||"Context")+".Provider";case Da:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ua:return t=e.displayName||null,t!==null?t:Oo(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return Oo(e(t))}catch{}}return null}function wf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oo(t);case 8:return t===$a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _f(e){var t=Sc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=_f(e))}function jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ro(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ll(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kc(e,t){t=t.checked,t!=null&&Ia(e,"checked",t,!1)}function Lo(e,t){kc(e,t);var r=Jt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Io(e,t.type,r):t.hasOwnProperty("defaultValue")&&Io(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Il(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Io(e,t,r){(t!=="number"||Xs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xn=Array.isArray;function Br(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $l(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(xn(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jt(r)}}function Nc(e,t){var r=Jt(t.value),n=Jt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ec(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Tc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){xf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function Cc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function bc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Sf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(e,t){if(t){if(Sf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fo=null,Hr=null,Wr=null;function Ul(e){if(e=os(e)){if(typeof Fo!="function")throw Error(T(280));var t=e.stateNode;t&&(t=bi(t),Fo(e.stateNode,e.type,t))}}function Pc(e){Hr?Wr?Wr.push(e):Wr=[e]:Hr=e}function Ac(){if(Hr){var e=Hr,t=Wr;if(Wr=Hr=null,Ul(e),t)for(e=0;e<t.length;e++)Ul(t[e])}}function Oc(e,t){return e(t)}function Rc(){}var Xi=!1;function Lc(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return Oc(e,t,r)}finally{Xi=!1,(Hr!==null||Wr!==null)&&(Rc(),Ac())}}function Fn(e,t){var r=e.stateNode;if(r===null)return null;var n=bi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Bo=!1;if(Tt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Bo=!1}function jf(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Tn=!1,Zs=null,ei=!1,Ho=null,kf={onError:function(e){Tn=!0,Zs=e}};function Nf(e,t,r,n,s,i,o,l,u){Tn=!1,Zs=null,jf.apply(kf,arguments)}function Ef(e,t,r,n,s,i,o,l,u){if(Nf.apply(this,arguments),Tn){if(Tn){var c=Zs;Tn=!1,Zs=null}else throw Error(T(198));ei||(ei=!0,Ho=c)}}function _r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ic(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ml(e){if(_r(e)!==e)throw Error(T(188))}function Tf(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ml(s),e;if(i===n)return Ml(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function $c(e){return e=Tf(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var Uc=Ve.unstable_scheduleCallback,zl=Ve.unstable_cancelCallback,Cf=Ve.unstable_shouldYield,bf=Ve.unstable_requestPaint,de=Ve.unstable_now,Pf=Ve.unstable_getCurrentPriorityLevel,za=Ve.unstable_ImmediatePriority,Mc=Ve.unstable_UserBlockingPriority,ti=Ve.unstable_NormalPriority,Af=Ve.unstable_LowPriority,zc=Ve.unstable_IdlePriority,Ni=null,pt=null;function Of(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ni,e,void 0,(e.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:If,Rf=Math.log,Lf=Math.LN2;function If(e){return e>>>=0,e===0?32:31-(Rf(e)/Lf|0)|0}var _s=64,xs=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Sn(l):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-lt(t),s=1<<r,n|=e[r],t&=~s;return n}function $f(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Df(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lt(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=$f(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fc(){var e=_s;return _s<<=1,!(_s&4194240)&&(_s=64),e}function Zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lt(t),e[t]=r}function Uf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-lt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Fa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Bc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hc,Ba,Wc,Vc,qc,Vo=!1,Ss=[],Bt=null,Ht=null,Wt=null,Bn=new Map,Hn=new Map,Dt=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function fn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=os(t),t!==null&&Ba(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zf(e,t,r,n,s){switch(t){case"focusin":return Bt=fn(Bt,e,t,r,n,s),!0;case"dragenter":return Ht=fn(Ht,e,t,r,n,s),!0;case"mouseover":return Wt=fn(Wt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bn.set(i,fn(Bn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hn.set(i,fn(Hn.get(i)||null,e,t,r,n,s)),!0}return!1}function Gc(e){var t=ur(e.target);if(t!==null){var r=_r(t);if(r!==null){if(t=r.tag,t===13){if(t=Ic(r),t!==null){e.blockedOn=t,qc(e.priority,function(){Wc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zo=n,r.target.dispatchEvent(n),zo=null}else return t=os(r),t!==null&&Ba(t),e.blockedOn=r,!1;t.shift()}return!0}function Bl(e,t,r){Bs(e)&&r.delete(t)}function Ff(){Vo=!1,Bt!==null&&Bs(Bt)&&(Bt=null),Ht!==null&&Bs(Ht)&&(Ht=null),Wt!==null&&Bs(Wt)&&(Wt=null),Bn.forEach(Bl),Hn.forEach(Bl)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,Vo||(Vo=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Ff)))}function Wn(e){function t(s){return pn(s,e)}if(0<Ss.length){pn(Ss[0],e);for(var r=1;r<Ss.length;r++){var n=Ss[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&pn(Bt,e),Ht!==null&&pn(Ht,e),Wt!==null&&pn(Wt,e),Bn.forEach(t),Hn.forEach(t),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)Gc(r),r.blockedOn===null&&Dt.shift()}var Vr=At.ReactCurrentBatchConfig,ni=!0;function Bf(e,t,r,n){var s=K,i=Vr.transition;Vr.transition=null;try{K=1,Ha(e,t,r,n)}finally{K=s,Vr.transition=i}}function Hf(e,t,r,n){var s=K,i=Vr.transition;Vr.transition=null;try{K=4,Ha(e,t,r,n)}finally{K=s,Vr.transition=i}}function Ha(e,t,r,n){if(ni){var s=qo(e,t,r,n);if(s===null)uo(e,t,n,si,r),Fl(e,n);else if(zf(s,e,t,r,n))n.stopPropagation();else if(Fl(e,n),t&4&&-1<Mf.indexOf(e)){for(;s!==null;){var i=os(s);if(i!==null&&Hc(i),i=qo(e,t,r,n),i===null&&uo(e,t,n,si,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else uo(e,t,n,null,r)}}var si=null;function qo(e,t,r,n){if(si=null,e=Ma(n),e=ur(e),e!==null)if(t=_r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ic(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function Kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case za:return 1;case Mc:return 4;case ti:case Af:return 16;case zc:return 536870912;default:return 16}default:return 16}}var zt=null,Wa=null,Hs=null;function Qc(){if(Hs)return Hs;var e,t=Wa,r=t.length,n,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Hs=s.slice(e,1<n?1-n:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Hl(){return!1}function Ge(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?js:Hl,this.isPropagationStopped=Hl,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ge(sn),is=oe({},sn,{view:0,detail:0}),Wf=Ge(is),eo,to,mn,Ei=oe({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(eo=e.screenX-mn.screenX,to=e.screenY-mn.screenY):to=eo=0,mn=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Wl=Ge(Ei),Vf=oe({},Ei,{dataTransfer:0}),qf=Ge(Vf),Gf=oe({},is,{relatedTarget:0}),ro=Ge(Gf),Kf=oe({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=Ge(Kf),Jf=oe({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yf=Ge(Jf),Xf=oe({},sn,{data:0}),Vl=Ge(Xf),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tp[e])?!!t[e]:!1}function qa(){return rp}var np=oe({},is,{key:function(e){if(e.key){var t=Zf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=Ge(np),ip=oe({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Ge(ip),op=oe({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),ap=Ge(op),lp=oe({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=Ge(lp),cp=oe({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dp=Ge(cp),hp=[9,13,27,32],Ga=Tt&&"CompositionEvent"in window,Cn=null;Tt&&"documentMode"in document&&(Cn=document.documentMode);var fp=Tt&&"TextEvent"in window&&!Cn,Jc=Tt&&(!Ga||Cn&&8<Cn&&11>=Cn),Gl=String.fromCharCode(32),Kl=!1;function Yc(e,t){switch(e){case"keyup":return hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function pp(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Kl=!0,Gl);case"textInput":return e=t.data,e===Gl&&Kl?null:e;default:return null}}function mp(e,t){if(Or)return e==="compositionend"||!Ga&&Yc(e,t)?(e=Qc(),Hs=Wa=zt=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jc&&t.locale!=="ko"?null:t.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gp[e.type]:t==="textarea"}function Zc(e,t,r,n){Pc(n),t=ii(t,"onChange"),0<t.length&&(r=new Va("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bn=null,Vn=null;function vp(e){cd(e,0)}function Ti(e){var t=Ir(e);if(jc(t))return e}function yp(e,t){if(e==="change")return t}var ed=!1;if(Tt){var no;if(Tt){var so="oninput"in document;if(!so){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),so=typeof Jl.oninput=="function"}no=so}else no=!1;ed=no&&(!document.documentMode||9<document.documentMode)}function Yl(){bn&&(bn.detachEvent("onpropertychange",td),Vn=bn=null)}function td(e){if(e.propertyName==="value"&&Ti(Vn)){var t=[];Zc(t,Vn,e,Ma(e)),Lc(vp,t)}}function wp(e,t,r){e==="focusin"?(Yl(),bn=t,Vn=r,bn.attachEvent("onpropertychange",td)):e==="focusout"&&Yl()}function _p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(Vn)}function xp(e,t){if(e==="click")return Ti(t)}function Sp(e,t){if(e==="input"||e==="change")return Ti(t)}function jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:jp;function qn(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Co.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function Xl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zl(e,t){var r=Xl(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xl(r)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kp(e){var t=nd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rd(r.ownerDocument.documentElement,r)){if(n!==null&&Ka(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Zl(r,i);var o=Zl(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=Tt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Go=null,Pn=null,Ko=!1;function eu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ko||Rr==null||Rr!==Xs(n)||(n=Rr,"selectionStart"in n&&Ka(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pn&&qn(Pn,n)||(Pn=n,n=ii(Go,"onSelect"),0<n.length&&(t=new Va("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rr)))}function ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},io={},sd={};Tt&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ci(e){if(io[e])return io[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sd)return io[e]=t[r];return e}var id=Ci("animationend"),od=Ci("animationiteration"),ad=Ci("animationstart"),ld=Ci("transitionend"),ud=new Map,tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){ud.set(e,t),wr(t,[e])}for(var oo=0;oo<tu.length;oo++){var ao=tu[oo],Ep=ao.toLowerCase(),Tp=ao[0].toUpperCase()+ao.slice(1);Xt(Ep,"on"+Tp)}Xt(id,"onAnimationEnd");Xt(od,"onAnimationIteration");Xt(ad,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(ld,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function ru(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ef(n,t,void 0,e),e.currentTarget=null}function cd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;ru(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;ru(s,l,c),i=u}}}if(ei)throw e=Ho,ei=!1,Ho=null,e}function te(e,t){var r=t[Zo];r===void 0&&(r=t[Zo]=new Set);var n=e+"__bubble";r.has(n)||(dd(t,e,2,!1),r.add(n))}function lo(e,t,r){var n=0;t&&(n|=4),dd(r,e,n,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Ns]){e[Ns]=!0,yc.forEach(function(r){r!=="selectionchange"&&(Cp.has(r)||lo(r,!1,e),lo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,lo("selectionchange",!1,t))}}function dd(e,t,r,n){switch(Kc(t)){case 1:var s=Bf;break;case 4:s=Hf;break;default:s=Ha}r=s.bind(null,t,r,e),s=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function uo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Lc(function(){var c=i,d=Ma(r),p=[];e:{var g=ud.get(e);if(g!==void 0){var w=Va,y=e;switch(e){case"keypress":if(Ws(r)===0)break e;case"keydown":case"keyup":w=sp;break;case"focusin":y="focus",w=ro;break;case"focusout":y="blur",w=ro;break;case"beforeblur":case"afterblur":w=ro;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ap;break;case id:case od:case ad:w=Qf;break;case ld:w=up;break;case"scroll":w=Wf;break;case"wheel":w=dp;break;case"copy":case"cut":case"paste":w=Yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ql}var _=(t&4)!==0,j=!_&&e==="scroll",m=_?g!==null?g+"Capture":null:g;_=[];for(var f=c,h;f!==null;){h=f;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,m!==null&&(v=Fn(f,m),v!=null&&_.push(Kn(f,v,h)))),j)break;f=f.return}0<_.length&&(g=new w(g,y,null,r,d),p.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&r!==zo&&(y=r.relatedTarget||r.fromElement)&&(ur(y)||y[Ct]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=r.relatedTarget||r.toElement,w=c,y=y?ur(y):null,y!==null&&(j=_r(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=c),w!==y)){if(_=Wl,v="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=ql,v="onPointerLeave",m="onPointerEnter",f="pointer"),j=w==null?g:Ir(w),h=y==null?g:Ir(y),g=new _(v,f+"leave",w,r,d),g.target=j,g.relatedTarget=h,v=null,ur(d)===c&&(_=new _(m,f+"enter",y,r,d),_.target=h,_.relatedTarget=j,v=_),j=v,w&&y)t:{for(_=w,m=y,f=0,h=_;h;h=jr(h))f++;for(h=0,v=m;v;v=jr(v))h++;for(;0<f-h;)_=jr(_),f--;for(;0<h-f;)m=jr(m),h--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=jr(_),m=jr(m)}_=null}else _=null;w!==null&&nu(p,g,w,_,!1),y!==null&&j!==null&&nu(p,j,y,_,!0)}}e:{if(g=c?Ir(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var S=yp;else if(Ql(g))if(ed)S=Sp;else{S=_p;var k=wp}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=xp);if(S&&(S=S(e,c))){Zc(p,S,r,d);break e}k&&k(e,g,c),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Io(g,"number",g.value)}switch(k=c?Ir(c):window,e){case"focusin":(Ql(k)||k.contentEditable==="true")&&(Rr=k,Go=c,Pn=null);break;case"focusout":Pn=Go=Rr=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,eu(p,r,d);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":eu(p,r,d)}var x;if(Ga)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Or?Yc(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Jc&&r.locale!=="ko"&&(Or||N!=="onCompositionStart"?N==="onCompositionEnd"&&Or&&(x=Qc()):(zt=d,Wa="value"in zt?zt.value:zt.textContent,Or=!0)),k=ii(c,N),0<k.length&&(N=new Vl(N,e,null,r,d),p.push({event:N,listeners:k}),x?N.data=x:(x=Xc(r),x!==null&&(N.data=x)))),(x=fp?pp(e,r):mp(e,r))&&(c=ii(c,"onBeforeInput"),0<c.length&&(d=new Vl("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=x))}cd(p,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ii(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fn(e,r),i!=null&&n.unshift(Kn(e,i,s)),i=Fn(e,t),i!=null&&n.push(Kn(e,i,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Fn(r,i),u!=null&&o.unshift(Kn(r,u,l))):s||(u=Fn(r,i),u!=null&&o.push(Kn(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function su(e){return(typeof e=="string"?e:""+e).replace(bp,`
`).replace(Pp,"")}function Es(e,t,r){if(t=su(t),su(e)!==t&&r)throw Error(T(425))}function oi(){}var Qo=null,Jo=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(e){return iu.resolve(null).then(e).catch(Rp)}:Xo;function Rp(e){setTimeout(function(){throw e})}function co(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ou(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),ft="__reactFiber$"+on,Qn="__reactProps$"+on,Ct="__reactContainer$"+on,Zo="__reactEvents$"+on,Lp="__reactListeners$"+on,Ip="__reactHandles$"+on;function ur(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ct]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ou(e);e!==null;){if(r=e[ft])return r;e=ou(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[ft]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function bi(e){return e[Qn]||null}var ea=[],$r=-1;function Zt(e){return{current:e}}function re(e){0>$r||(e.current=ea[$r],ea[$r]=null,$r--)}function X(e,t){$r++,ea[$r]=e.current,e.current=t}var Yt={},Ee=Zt(Yt),Ue=Zt(!1),pr=Yt;function Jr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function ai(){re(Ue),re(Ee)}function au(e,t,r){if(Ee.current!==Yt)throw Error(T(168));X(Ee,t),X(Ue,r)}function hd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,wf(e)||"Unknown",s));return oe({},r,n)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,pr=Ee.current,X(Ee,e),X(Ue,Ue.current),!0}function lu(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=hd(e,t,pr),n.__reactInternalMemoizedMergedChildContext=e,re(Ue),re(Ee),X(Ee,e)):re(Ue),X(Ue,r)}var jt=null,Pi=!1,ho=!1;function fd(e){jt===null?jt=[e]:jt.push(e)}function $p(e){Pi=!0,fd(e)}function er(){if(!ho&&jt!==null){ho=!0;var e=0,t=K;try{var r=jt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jt=null,Pi=!1}catch(s){throw jt!==null&&(jt=jt.slice(e+1)),Uc(za,er),s}finally{K=t,ho=!1}}return null}var Dr=[],Ur=0,ui=null,ci=0,Ke=[],Qe=0,mr=null,kt=1,Nt="";function ir(e,t){Dr[Ur++]=ci,Dr[Ur++]=ui,ui=e,ci=t}function pd(e,t,r){Ke[Qe++]=kt,Ke[Qe++]=Nt,Ke[Qe++]=mr,mr=e;var n=kt;e=Nt;var s=32-lt(n)-1;n&=~(1<<s),r+=1;var i=32-lt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,kt=1<<32-lt(t)+s|r<<s|n,Nt=i+e}else kt=1<<i|r<<s|n,Nt=e}function Qa(e){e.return!==null&&(ir(e,1),pd(e,1,0))}function Ja(e){for(;e===ui;)ui=Dr[--Ur],Dr[Ur]=null,ci=Dr[--Ur],Dr[Ur]=null;for(;e===mr;)mr=Ke[--Qe],Ke[Qe]=null,Nt=Ke[--Qe],Ke[Qe]=null,kt=Ke[--Qe],Ke[Qe]=null}var We=null,He=null,ne=!1,at=null;function md(e,t){var r=Je(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,He=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:kt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Je(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,He=null,!0):!1;default:return!1}}function ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(ne){var t=He;if(t){var r=t;if(!uu(e,t)){if(ta(e))throw Error(T(418));t=Vt(r.nextSibling);var n=We;t&&uu(e,t)?md(n,r):(e.flags=e.flags&-4097|2,ne=!1,We=e)}}else{if(ta(e))throw Error(T(418));e.flags=e.flags&-4097|2,ne=!1,We=e}}}function cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Ts(e){if(e!==We)return!1;if(!ne)return cu(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=He)){if(ta(e))throw gd(),Error(T(418));for(;t;)md(e,t),t=Vt(t.nextSibling)}if(cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=We?Vt(e.stateNode.nextSibling):null;return!0}function gd(){for(var e=He;e;)e=Vt(e.nextSibling)}function Yr(){He=We=null,ne=!1}function Ya(e){at===null?at=[e]:at.push(e)}var Dp=At.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function du(e){var t=e._init;return t(e._payload)}function vd(e){function t(m,f){if(e){var h=m.deletions;h===null?(m.deletions=[f],m.flags|=16):h.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Qt(m,f),m.index=0,m.sibling=null,m}function i(m,f,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<f?(m.flags|=2,f):h):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,h,v){return f===null||f.tag!==6?(f=wo(h,m.mode,v),f.return=m,f):(f=s(f,h),f.return=m,f)}function u(m,f,h,v){var S=h.type;return S===Ar?d(m,f,h.props.children,v,h.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&du(S)===f.type)?(v=s(f,h.props),v.ref=gn(m,f,h),v.return=m,v):(v=Ys(h.type,h.key,h.props,null,m.mode,v),v.ref=gn(m,f,h),v.return=m,v)}function c(m,f,h,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=_o(h,m.mode,v),f.return=m,f):(f=s(f,h.children||[]),f.return=m,f)}function d(m,f,h,v,S){return f===null||f.tag!==7?(f=fr(h,m.mode,v,S),f.return=m,f):(f=s(f,h),f.return=m,f)}function p(m,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=wo(""+f,m.mode,h),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:return h=Ys(f.type,f.key,f.props,null,m.mode,h),h.ref=gn(m,null,f),h.return=m,h;case Pr:return f=_o(f,m.mode,h),f.return=m,f;case Lt:var v=f._init;return p(m,v(f._payload),h)}if(xn(f)||dn(f))return f=fr(f,m.mode,h,null),f.return=m,f;Cs(m,f)}return null}function g(m,f,h,v){var S=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:l(m,f,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case vs:return h.key===S?u(m,f,h,v):null;case Pr:return h.key===S?c(m,f,h,v):null;case Lt:return S=h._init,g(m,f,S(h._payload),v)}if(xn(h)||dn(h))return S!==null?null:d(m,f,h,v,null);Cs(m,h)}return null}function w(m,f,h,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(h)||null,l(f,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:return m=m.get(v.key===null?h:v.key)||null,u(f,m,v,S);case Pr:return m=m.get(v.key===null?h:v.key)||null,c(f,m,v,S);case Lt:var k=v._init;return w(m,f,h,k(v._payload),S)}if(xn(v)||dn(v))return m=m.get(h)||null,d(f,m,v,S,null);Cs(f,v)}return null}function y(m,f,h,v){for(var S=null,k=null,x=f,N=f=0,I=null;x!==null&&N<h.length;N++){x.index>N?(I=x,x=null):I=x.sibling;var R=g(m,x,h[N],v);if(R===null){x===null&&(x=I);break}e&&x&&R.alternate===null&&t(m,x),f=i(R,f,N),k===null?S=R:k.sibling=R,k=R,x=I}if(N===h.length)return r(m,x),ne&&ir(m,N),S;if(x===null){for(;N<h.length;N++)x=p(m,h[N],v),x!==null&&(f=i(x,f,N),k===null?S=x:k.sibling=x,k=x);return ne&&ir(m,N),S}for(x=n(m,x);N<h.length;N++)I=w(x,m,N,h[N],v),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?N:I.key),f=i(I,f,N),k===null?S=I:k.sibling=I,k=I);return e&&x.forEach(function(W){return t(m,W)}),ne&&ir(m,N),S}function _(m,f,h,v){var S=dn(h);if(typeof S!="function")throw Error(T(150));if(h=S.call(h),h==null)throw Error(T(151));for(var k=S=null,x=f,N=f=0,I=null,R=h.next();x!==null&&!R.done;N++,R=h.next()){x.index>N?(I=x,x=null):I=x.sibling;var W=g(m,x,R.value,v);if(W===null){x===null&&(x=I);break}e&&x&&W.alternate===null&&t(m,x),f=i(W,f,N),k===null?S=W:k.sibling=W,k=W,x=I}if(R.done)return r(m,x),ne&&ir(m,N),S;if(x===null){for(;!R.done;N++,R=h.next())R=p(m,R.value,v),R!==null&&(f=i(R,f,N),k===null?S=R:k.sibling=R,k=R);return ne&&ir(m,N),S}for(x=n(m,x);!R.done;N++,R=h.next())R=w(x,m,N,R.value,v),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?N:R.key),f=i(R,f,N),k===null?S=R:k.sibling=R,k=R);return e&&x.forEach(function(ae){return t(m,ae)}),ne&&ir(m,N),S}function j(m,f,h,v){if(typeof h=="object"&&h!==null&&h.type===Ar&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case vs:e:{for(var S=h.key,k=f;k!==null;){if(k.key===S){if(S=h.type,S===Ar){if(k.tag===7){r(m,k.sibling),f=s(k,h.props.children),f.return=m,m=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&du(S)===k.type){r(m,k.sibling),f=s(k,h.props),f.ref=gn(m,k,h),f.return=m,m=f;break e}r(m,k);break}else t(m,k);k=k.sibling}h.type===Ar?(f=fr(h.props.children,m.mode,v,h.key),f.return=m,m=f):(v=Ys(h.type,h.key,h.props,null,m.mode,v),v.ref=gn(m,f,h),v.return=m,m=v)}return o(m);case Pr:e:{for(k=h.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){r(m,f.sibling),f=s(f,h.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else t(m,f);f=f.sibling}f=_o(h,m.mode,v),f.return=m,m=f}return o(m);case Lt:return k=h._init,j(m,f,k(h._payload),v)}if(xn(h))return y(m,f,h,v);if(dn(h))return _(m,f,h,v);Cs(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,h),f.return=m,m=f):(r(m,f),f=wo(h,m.mode,v),f.return=m,m=f),o(m)):r(m,f)}return j}var Xr=vd(!0),yd=vd(!1),di=Zt(null),hi=null,Mr=null,Xa=null;function Za(){Xa=Mr=hi=null}function el(e){var t=di.current;re(di),e._currentValue=t}function na(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qr(e,t){hi=e,Xa=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(hi===null)throw Error(T(308));Mr=e,hi.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var cr=null;function tl(e){cr===null?cr=[e]:cr.push(e)}function wd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,tl(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var It=!1;function rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bt(e,r)}return s=n.interleaved,s===null?(t.next=t,tl(n)):(t.next=s.next,s.next=t),n.interleaved=t,bt(e,r)}function Vs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fa(e,r)}}function hu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fi(e,t,r,n){var s=e.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,l=i;do{var g=l.lane,w=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,_=l;switch(g=t,w=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){p=y.call(w,p,g);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,g=typeof y=="function"?y.call(w,p,g):y,g==null)break e;p=oe({},p,g);break e;case 2:It=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vr|=o,e.lanes=o,e.memoizedState=p}}function fu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var as={},mt=Zt(as),Jn=Zt(as),Yn=Zt(as);function dr(e){if(e===as)throw Error(T(174));return e}function nl(e,t){switch(X(Yn,t),X(Jn,e),X(mt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Do(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Do(t,e)}re(mt),X(mt,t)}function Zr(){re(mt),re(Jn),re(Yn)}function xd(e){dr(Yn.current);var t=dr(mt.current),r=Do(t,e.type);t!==r&&(X(Jn,e),X(mt,r))}function sl(e){Jn.current===e&&(re(mt),re(Jn))}var se=Zt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function il(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var qs=At.ReactCurrentDispatcher,po=At.ReactCurrentBatchConfig,gr=0,ie=null,pe=null,ve=null,mi=!1,An=!1,Xn=0,Up=0;function je(){throw Error(T(321))}function ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ct(e[r],t[r]))return!1;return!0}function al(e,t,r,n,s,i){if(gr=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Bp:Hp,e=r(n,s),An){i=0;do{if(An=!1,Xn=0,25<=i)throw Error(T(301));i+=1,ve=pe=null,t.updateQueue=null,qs.current=Wp,e=r(n,s)}while(An)}if(qs.current=gi,t=pe!==null&&pe.next!==null,gr=0,ve=pe=ie=null,mi=!1,t)throw Error(T(300));return e}function ll(){var e=Xn!==0;return Xn=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ie.memoizedState=ve=e:ve=ve.next=e,ve}function et(){if(pe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ve===null?ie.memoizedState:ve.next;if(t!==null)ve=t,pe=e;else{if(e===null)throw Error(T(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?ie.memoizedState=ve=e:ve=ve.next=e}return ve}function Zn(e,t){return typeof t=="function"?t(e):t}function mo(e){var t=et(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((gr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=n):u=u.next=p,ie.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,ct(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ie.lanes|=i,vr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function go(e){var t=et(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ct(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Sd(){}function jd(e,t){var r=ie,n=et(),s=t(),i=!ct(n.memoizedState,s);if(i&&(n.memoizedState=s,De=!0),n=n.queue,ul(Ed.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,es(9,Nd.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(T(349));gr&30||kd(r,t,s)}return s}function kd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nd(e,t,r,n){t.value=r,t.getSnapshot=n,Td(t)&&Cd(e)}function Ed(e,t,r){return r(function(){Td(t)&&Cd(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ct(e,r)}catch{return!0}}function Cd(e){var t=bt(e,1);t!==null&&ut(t,e,1,-1)}function pu(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Fp.bind(null,ie,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bd(){return et().memoizedState}function Gs(e,t,r,n){var s=ht();ie.flags|=e,s.memoizedState=es(1|t,r,void 0,n===void 0?null:n)}function Ai(e,t,r,n){var s=et();n=n===void 0?null:n;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,n!==null&&ol(n,o.deps)){s.memoizedState=es(t,r,i,n);return}}ie.flags|=e,s.memoizedState=es(1|t,r,i,n)}function mu(e,t){return Gs(8390656,8,e,t)}function ul(e,t){return Ai(2048,8,e,t)}function Pd(e,t){return Ai(4,2,e,t)}function Ad(e,t){return Ai(4,4,e,t)}function Od(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,r){return r=r!=null?r.concat([e]):null,Ai(4,4,Od.bind(null,t,e),r)}function cl(){}function Ld(e,t){var r=et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ol(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Id(e,t){var r=et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ol(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $d(e,t,r){return gr&21?(ct(r,t)||(r=Fc(),ie.lanes|=r,vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function Mp(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=po.transition;po.transition={};try{e(!1),t()}finally{K=r,po.transition=n}}function Dd(){return et().memoizedState}function zp(e,t,r){var n=Kt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ud(e))Md(t,r);else if(r=wd(e,t,r,n),r!==null){var s=Pe();ut(r,e,n,s),zd(r,t,n)}}function Fp(e,t,r){var n=Kt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ud(e))Md(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ct(l,o)){var u=t.interleaved;u===null?(s.next=s,tl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=wd(e,t,s,n),r!==null&&(s=Pe(),ut(r,e,n,s),zd(r,t,n))}}function Ud(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Md(e,t){An=mi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fa(e,r)}}var gi={readContext:Ze,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Bp={readContext:Ze,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:mu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gs(4194308,4,Od.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zp.bind(null,ie,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:cl,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=Mp.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ie,s=ht();if(ne){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),ye===null)throw Error(T(349));gr&30||kd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,mu(Ed.bind(null,n,i,e),[e]),n.flags|=2048,es(9,Nd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ht(),t=ye.identifierPrefix;if(ne){var r=Nt,n=kt;r=(n&~(1<<32-lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Up++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hp={readContext:Ze,useCallback:Ld,useContext:Ze,useEffect:ul,useImperativeHandle:Rd,useInsertionEffect:Pd,useLayoutEffect:Ad,useMemo:Id,useReducer:mo,useRef:bd,useState:function(){return mo(Zn)},useDebugValue:cl,useDeferredValue:function(e){var t=et();return $d(t,pe.memoizedState,e)},useTransition:function(){var e=mo(Zn)[0],t=et().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:jd,useId:Dd,unstable_isNewReconciler:!1},Wp={readContext:Ze,useCallback:Ld,useContext:Ze,useEffect:ul,useImperativeHandle:Rd,useInsertionEffect:Pd,useLayoutEffect:Ad,useMemo:Id,useReducer:go,useRef:bd,useState:function(){return go(Zn)},useDebugValue:cl,useDeferredValue:function(e){var t=et();return pe===null?t.memoizedState=e:$d(t,pe.memoizedState,e)},useTransition:function(){var e=go(Zn)[0],t=et().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:jd,useId:Dd,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oi={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Kt(e),i=Et(n,s);i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(ut(t,e,s,n),Vs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Kt(e),i=Et(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(ut(t,e,s,n),Vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Kt(e),s=Et(r,n);s.tag=2,t!=null&&(s.callback=t),t=qt(e,s,n),t!==null&&(ut(t,e,n,r),Vs(t,e,n))}};function gu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!qn(r,n)||!qn(s,i):!0}function Fd(e,t,r){var n=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=Me(t)?pr:Ee.current,n=t.contextTypes,i=(n=n!=null)?Jr(e,s):Yt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function vu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function ia(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=Me(t)?pr:Ee.current,s.context=Jr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(sa(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),fi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",n=t;do r+=yf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function oa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,r){r=Et(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yi||(yi=!0,ga=n),oa(e,t)},r}function Hd(e,t,r){r=Et(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){oa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){oa(e,t),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function yu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Vp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=im.bind(null,e,t,r),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _u(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Et(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var qp=At.ReactCurrentOwner,De=!1;function be(e,t,r,n){t.child=e===null?yd(t,null,r,n):Xr(t,e.child,r,n)}function xu(e,t,r,n,s){r=r.render;var i=t.ref;return qr(t,s),n=al(e,t,r,n,i,s),r=ll(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pt(e,t,s)):(ne&&r&&Qa(t),t.flags|=1,be(e,t,n,s),t.child)}function Su(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!yl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Wd(e,t,i,n,s)):(e=Ys(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:qn,r(o,n)&&e.ref===t.ref)return Pt(e,t,s)}return t.flags|=1,e=Qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(qn(i,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Pt(e,t,s)}return aa(e,t,r,n,s)}function Vd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Fr,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Fr,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(Fr,Be),Be|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,X(Fr,Be),Be|=n;return be(e,t,s,r),t.child}function qd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function aa(e,t,r,n,s){var i=Me(r)?pr:Ee.current;return i=Jr(t,i),qr(t,s),r=al(e,t,r,n,i,s),n=ll(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pt(e,t,s)):(ne&&n&&Qa(t),t.flags|=1,be(e,t,r,s),t.child)}function ju(e,t,r,n,s){if(Me(r)){var i=!0;li(t)}else i=!1;if(qr(t,s),t.stateNode===null)Ks(e,t),Fd(t,r,n),ia(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ze(c):(c=Me(r)?pr:Ee.current,c=Jr(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&vu(t,o,n,c),It=!1;var g=t.memoizedState;o.state=g,fi(t,n,o,s),u=t.memoizedState,l!==n||g!==u||Ue.current||It?(typeof d=="function"&&(sa(t,r,d,n),u=t.memoizedState),(l=It||gu(t,r,l,n,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_d(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:st(t.type,l),o.props=c,p=t.pendingProps,g=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ze(u):(u=Me(r)?pr:Ee.current,u=Jr(t,u));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&vu(t,o,n,u),It=!1,g=t.memoizedState,o.state=g,fi(t,n,o,s);var y=t.memoizedState;l!==p||g!==y||Ue.current||It?(typeof w=="function"&&(sa(t,r,w,n),y=t.memoizedState),(c=It||gu(t,r,c,n,g,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return la(e,t,r,n,i,s)}function la(e,t,r,n,s,i){qd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&lu(t,r,!1),Pt(e,t,i);n=t.stateNode,qp.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xr(t,e.child,null,i),t.child=Xr(t,null,l,i)):be(e,t,l,i),t.memoizedState=n.state,s&&lu(t,r,!0),t.child}function Gd(e){var t=e.stateNode;t.pendingContext?au(e,t.pendingContext,t.pendingContext!==t.context):t.context&&au(e,t.context,!1),nl(e,t.containerInfo)}function ku(e,t,r,n,s){return Yr(),Ya(s),t.flags|=256,be(e,t,r,n),t.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kd(e,t,r){var n=t.pendingProps,s=se.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(se,s&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ii(o,n,0,null),e=fr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ca(r),t.memoizedState=ua,e):dl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Gp(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qt(l,i):(i=fr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ca(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ua,n}return i=e.child,e=i.sibling,n=Qt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dl(e,t){return t=Ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,r,n){return n!==null&&Ya(n),Xr(t,e.child,null,r),e=dl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gp(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=vo(Error(T(422))),bs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ii({mode:"visible",children:n.children},s,0,null),i=fr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Xr(t,e.child,null,o),t.child.memoizedState=ca(o),t.memoizedState=ua,i);if(!(t.mode&1))return bs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=vo(i,n,void 0),bs(e,t,o,n)}if(l=(o&e.childLanes)!==0,De||l){if(n=ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),ut(n,e,s,-1))}return vl(),n=vo(Error(T(421))),bs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=om.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=Vt(s.nextSibling),We=t,ne=!0,at=null,e!==null&&(Ke[Qe++]=kt,Ke[Qe++]=Nt,Ke[Qe++]=mr,kt=e.id,Nt=e.overflow,mr=t),t=dl(t,n.children),t.flags|=4096,t)}function Nu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),na(e.return,t,r)}function yo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(be(e,t,n.children,r),n=se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nu(e,r,t);else if(e.tag===19)Nu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(se,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),yo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}yo(t,!0,r,null,i);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Kp(e,t,r){switch(t.tag){case 3:Gd(t),Yr();break;case 5:xd(t);break;case 1:Me(t.type)&&li(t);break;case 4:nl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(di,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(se,se.current&1),t.flags|=128,null):r&t.child.childLanes?Kd(e,t,r):(X(se,se.current&1),e=Pt(e,t,r),e!==null?e.sibling:null);X(se,se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),n)break;return null;case 22:case 23:return t.lanes=0,Vd(e,t,r)}return Pt(e,t,r)}var Jd,da,Yd,Xd;Jd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};da=function(){};Yd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,dr(mt.current);var i=null;switch(r){case"input":s=Ro(e,s),n=Ro(e,n),i=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":s=$o(e,s),n=$o(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=oi)}Uo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Xd=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qp(e,t,r){var n=t.pendingProps;switch(Ja(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Me(t.type)&&ai(),ke(t),null;case 3:return n=t.stateNode,Zr(),re(Ue),re(Ee),il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(wa(at),at=null))),da(e,t),ke(t),null;case 5:sl(t);var s=dr(Yn.current);if(r=t.type,e!==null&&t.stateNode!=null)Yd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return ke(t),null}if(e=dr(mt.current),Ts(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ft]=t,n[Qn]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<jn.length;s++)te(jn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Ll(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":$l(n,i),te("invalid",n)}Uo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",""+l]):Mn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":ys(n),Il(n,i,!0);break;case"textarea":ys(n),Dl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=oi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ec(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ft]=t,e[Qn]=n,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mo(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<jn.length;s++)te(jn[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":Ll(e,n),s=Ro(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":$l(e,n),s=$o(e,n),te("invalid",e);break;default:s=n}Uo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?bc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tc(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&zn(e,u):typeof u=="number"&&zn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&te("scroll",e):u!=null&&Ia(e,i,u,o))}switch(r){case"input":ys(e),Il(e,n,!1);break;case"textarea":ys(e),Dl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Br(e,!!n.multiple,i,!1):n.defaultValue!=null&&Br(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=dr(Yn.current),dr(mt.current),Ts(t)){if(n=t.stateNode,r=t.memoizedProps,n[ft]=t,(i=n.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:Es(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ft]=t,t.stateNode=n}return ke(t),null;case 13:if(re(se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&He!==null&&t.mode&1&&!(t.flags&128))gd(),Yr(),t.flags|=98560,i=!1;else if(i=Ts(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[ft]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else at!==null&&(wa(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?me===0&&(me=3):vl())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Zr(),da(e,t),e===null&&Gn(t.stateNode.containerInfo),ke(t),null;case 10:return el(t.type._context),ke(t),null;case 17:return Me(t.type)&&ai(),ke(t),null;case 19:if(re(se),i=t.memoizedState,i===null)return ke(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pi(e),o!==null){for(t.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>tn&&(t.flags|=128,n=!0,vn(i,!1),t.lanes=4194304)}else{if(!n)if(e=pi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return ke(t),null}else 2*de()-i.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,n=!0,vn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=se.current,X(se,n?r&1|2:r&1),t):(ke(t),null);case 22:case 23:return gl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Jp(e,t){switch(Ja(t),t.tag){case 1:return Me(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),re(Ue),re(Ee),il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sl(t),null;case 13:if(re(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(se),null;case 4:return Zr(),null;case 10:return el(t.type._context),null;case 22:case 23:return gl(),null;case 24:return null;default:return null}}var Ps=!1,Ne=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,O=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(e,t,n)}else r.current=null}function ha(e,t,r){try{r()}catch(n){ue(e,t,n)}}var Eu=!1;function Xp(e,t){if(Qo=ni,e=nd(),Ka(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=e,g=null;t:for(;;){for(var w;p!==r||s!==0&&p.nodeType!==3||(l=o+s),p!==i||n!==0&&p.nodeType!==3||(u=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===e)break t;if(g===r&&++c===s&&(l=o),g===i&&++d===n&&(u=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jo={focusedElem:e,selectionRange:r},ni=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,j=y.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:st(t.type,_),j);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(v){ue(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return y=Eu,Eu=!1,y}function On(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ha(t,r,i)}s=s.next}while(s!==n)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Qn],delete t[Zo],delete t[Lp],delete t[Ip])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eh(e){return e.tag===5||e.tag===3||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=oi));else if(n!==4&&(e=e.child,e!==null))for(pa(e,t,r),e=e.sibling;e!==null;)pa(e,t,r),e=e.sibling}function ma(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ma(e,t,r),e=e.sibling;e!==null;)ma(e,t,r),e=e.sibling}var _e=null,it=!1;function Ot(e,t,r){for(r=r.child;r!==null;)th(e,t,r),r=r.sibling}function th(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ni,r)}catch{}switch(r.tag){case 5:Ne||zr(r,t);case 6:var n=_e,s=it;_e=null,Ot(e,t,r),_e=n,it=s,_e!==null&&(it?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(it?(e=_e,r=r.stateNode,e.nodeType===8?co(e.parentNode,r):e.nodeType===1&&co(e,r),Wn(e)):co(_e,r.stateNode));break;case 4:n=_e,s=it,_e=r.stateNode.containerInfo,it=!0,Ot(e,t,r),_e=n,it=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ha(r,t,o),s=s.next}while(s!==n)}Ot(e,t,r);break;case 1:if(!Ne&&(zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ue(r,t,l)}Ot(e,t,r);break;case 21:Ot(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Ot(e,t,r),Ne=n):Ot(e,t,r);break;default:Ot(e,t,r)}}function Cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Yp),t.forEach(function(n){var s=am.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,it=!1;break e;case 3:_e=l.stateNode.containerInfo,it=!0;break e;case 4:_e=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(_e===null)throw Error(T(160));th(i,o,s),_e=null,it=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ue(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),dt(e),n&4){try{On(3,e,e.return),Ri(3,e)}catch(_){ue(e,e.return,_)}try{On(5,e,e.return)}catch(_){ue(e,e.return,_)}}break;case 1:rt(t,e),dt(e),n&512&&r!==null&&zr(r,r.return);break;case 5:if(rt(t,e),dt(e),n&512&&r!==null&&zr(r,r.return),e.flags&32){var s=e.stateNode;try{zn(s,"")}catch(_){ue(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kc(s,i),Mo(l,o);var c=Mo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?bc(s,p):d==="dangerouslySetInnerHTML"?Tc(s,p):d==="children"?zn(s,p):Ia(s,d,p,c)}switch(l){case"input":Lo(s,i);break;case"textarea":Nc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Br(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(_){ue(e,e.return,_)}}break;case 6:if(rt(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){ue(e,e.return,_)}}break;case 3:if(rt(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(_){ue(e,e.return,_)}break;case 4:rt(t,e),dt(e);break;case 13:rt(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pl=de())),n&4&&Cu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||d,rt(t,e),Ne=c):rt(t,e),dt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(p=O=d;O!==null;){switch(g=O,w=g.child,g.tag){case 0:case 11:case 14:case 15:On(4,g,g.return);break;case 1:zr(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){ue(n,r,_)}}break;case 5:zr(g,g.return);break;case 22:if(g.memoizedState!==null){Pu(p);continue}}w!==null?(w.return=g,O=w):Pu(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Cc("display",o))}catch(_){ue(e,e.return,_)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){ue(e,e.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rt(t,e),dt(e),n&4&&Cu(e);break;case 21:break;default:rt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eh(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zn(s,""),n.flags&=-33);var i=Tu(e);ma(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Tu(e);pa(e,l,o);break;default:throw Error(T(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zp(e,t,r){O=e,nh(e)}function nh(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ps;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ne;l=Ps;var c=Ne;if(Ps=o,(Ne=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?Au(s):u!==null?(u.return=o,O=u):Au(s);for(;i!==null;)O=i,nh(i),i=i.sibling;O=s,Ps=l,Ne=c}bu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):bu(e)}}function bu(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ri(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:st(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&fu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Wn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ne||t.flags&512&&fa(t)}catch(g){ue(t,t.return,g)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Pu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Au(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ri(4,t)}catch(u){ue(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ue(t,s,u)}}var i=t.return;try{fa(t)}catch(u){ue(t,i,u)}break;case 5:var o=t.return;try{fa(t)}catch(u){ue(t,o,u)}}}catch(u){ue(t,t.return,u)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var em=Math.ceil,vi=At.ReactCurrentDispatcher,hl=At.ReactCurrentOwner,Ye=At.ReactCurrentBatchConfig,V=0,ye=null,he=null,xe=0,Be=0,Fr=Zt(0),me=0,ts=null,vr=0,Li=0,fl=0,Rn=null,Ie=null,pl=0,tn=1/0,xt=null,yi=!1,ga=null,Gt=null,As=!1,Ft=null,wi=0,Ln=0,va=null,Qs=-1,Js=0;function Pe(){return V&6?de():Qs!==-1?Qs:Qs=de()}function Kt(e){return e.mode&1?V&2&&xe!==0?xe&-xe:Dp.transition!==null?(Js===0&&(Js=Fc()),Js):(e=K,e!==0||(e=window.event,e=e===void 0?16:Kc(e.type)),e):1}function ut(e,t,r,n){if(50<Ln)throw Ln=0,va=null,Error(T(185));ss(e,r,n),(!(V&2)||e!==ye)&&(e===ye&&(!(V&2)&&(Li|=r),me===4&&Ut(e,xe)),ze(e,n),r===1&&V===0&&!(t.mode&1)&&(tn=de()+500,Pi&&er()))}function ze(e,t){var r=e.callbackNode;Df(e,t);var n=ri(e,e===ye?xe:0);if(n===0)r!==null&&zl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&zl(r),t===1)e.tag===0?$p(Ou.bind(null,e)):fd(Ou.bind(null,e)),Op(function(){!(V&6)&&er()}),r=null;else{switch(Bc(n)){case 1:r=za;break;case 4:r=Mc;break;case 16:r=ti;break;case 536870912:r=zc;break;default:r=ti}r=dh(r,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sh(e,t){if(Qs=-1,Js=0,V&6)throw Error(T(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var n=ri(e,e===ye?xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_i(e,n);else{t=n;var s=V;V|=2;var i=oh();(ye!==e||xe!==t)&&(xt=null,tn=de()+500,hr(e,t));do try{nm();break}catch(l){ih(e,l)}while(1);Za(),vi.current=i,V=s,he!==null?t=0:(ye=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=Wo(e),s!==0&&(n=s,t=ya(e,s))),t===1)throw r=ts,hr(e,0),Ut(e,n),ze(e,de()),r;if(t===6)Ut(e,n);else{if(s=e.current.alternate,!(n&30)&&!tm(s)&&(t=_i(e,n),t===2&&(i=Wo(e),i!==0&&(n=i,t=ya(e,i))),t===1))throw r=ts,hr(e,0),Ut(e,n),ze(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:or(e,Ie,xt);break;case 3:if(Ut(e,n),(n&130023424)===n&&(t=pl+500-de(),10<t)){if(ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xo(or.bind(null,e,Ie,xt),t);break}or(e,Ie,xt);break;case 4:if(Ut(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-lt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*em(n/1960))-n,10<n){e.timeoutHandle=Xo(or.bind(null,e,Ie,xt),n);break}or(e,Ie,xt);break;case 5:or(e,Ie,xt);break;default:throw Error(T(329))}}}return ze(e,de()),e.callbackNode===r?sh.bind(null,e):null}function ya(e,t){var r=Rn;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=_i(e,t),e!==2&&(t=Ie,Ie=r,t!==null&&wa(t)),e}function wa(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function tm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~fl,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function Ou(e){if(V&6)throw Error(T(327));Gr();var t=ri(e,0);if(!(t&1))return ze(e,de()),null;var r=_i(e,t);if(e.tag!==0&&r===2){var n=Wo(e);n!==0&&(t=n,r=ya(e,n))}if(r===1)throw r=ts,hr(e,0),Ut(e,t),ze(e,de()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Ie,xt),ze(e,de()),null}function ml(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(tn=de()+500,Pi&&er())}}function yr(e){Ft!==null&&Ft.tag===0&&!(V&6)&&Gr();var t=V;V|=1;var r=Ye.transition,n=K;try{if(Ye.transition=null,K=1,e)return e()}finally{K=n,Ye.transition=r,V=t,!(V&6)&&er()}}function gl(){Be=Fr.current,re(Fr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ap(r)),he!==null)for(r=he.return;r!==null;){var n=r;switch(Ja(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ai();break;case 3:Zr(),re(Ue),re(Ee),il();break;case 5:sl(n);break;case 4:Zr();break;case 13:re(se);break;case 19:re(se);break;case 10:el(n.type._context);break;case 22:case 23:gl()}r=r.return}if(ye=e,he=e=Qt(e.current,null),xe=Be=t,me=0,ts=null,fl=Li=vr=0,Ie=Rn=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return e}function ih(e,t){do{var r=he;try{if(Za(),qs.current=gi,mi){for(var n=ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mi=!1}if(gr=0,ve=pe=ie=null,An=!1,Xn=0,hl.current=null,r===null||r.return===null){me=1,ts=t,he=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=xe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=wu(o);if(w!==null){w.flags&=-257,_u(w,o,l,i,t),w.mode&1&&yu(i,c,t),t=w,u=c;var y=t.updateQueue;if(y===null){var _=new Set;_.add(u),t.updateQueue=_}else y.add(u);break e}else{if(!(t&1)){yu(i,c,t),vl();break e}u=Error(T(426))}}else if(ne&&l.mode&1){var j=wu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),_u(j,o,l,i,t),Ya(en(u,l));break e}}i=u=en(u,l),me!==4&&(me=2),Rn===null?Rn=[i]:Rn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Bd(i,u,t);hu(i,m);break e;case 1:l=u;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Gt===null||!Gt.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Hd(i,l,t);hu(i,v);break e}}i=i.return}while(i!==null)}lh(r)}catch(S){t=S,he===r&&r!==null&&(he=r=r.return);continue}break}while(1)}function oh(){var e=vi.current;return vi.current=gi,e===null?gi:e}function vl(){(me===0||me===3||me===2)&&(me=4),ye===null||!(vr&268435455)&&!(Li&268435455)||Ut(ye,xe)}function _i(e,t){var r=V;V|=2;var n=oh();(ye!==e||xe!==t)&&(xt=null,hr(e,t));do try{rm();break}catch(s){ih(e,s)}while(1);if(Za(),V=r,vi.current=n,he!==null)throw Error(T(261));return ye=null,xe=0,me}function rm(){for(;he!==null;)ah(he)}function nm(){for(;he!==null&&!Cf();)ah(he)}function ah(e){var t=ch(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?lh(e):he=t,hl.current=null}function lh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jp(r,t),r!==null){r.flags&=32767,he=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,he=null;return}}else if(r=Qp(r,t,Be),r!==null){he=r;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);me===0&&(me=5)}function or(e,t,r){var n=K,s=Ye.transition;try{Ye.transition=null,K=1,sm(e,t,r,n)}finally{Ye.transition=s,K=n}return null}function sm(e,t,r,n){do Gr();while(Ft!==null);if(V&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Uf(e,i),e===ye&&(he=ye=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||As||(As=!0,dh(ti,function(){return Gr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ye.transition,Ye.transition=null;var o=K;K=1;var l=V;V|=4,hl.current=null,Xp(e,r),rh(r,e),kp(Jo),ni=!!Qo,Jo=Qo=null,e.current=r,Zp(r),bf(),V=l,K=o,Ye.transition=i}else e.current=r;if(As&&(As=!1,Ft=e,wi=s),i=e.pendingLanes,i===0&&(Gt=null),Of(r.stateNode),ze(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yi)throw yi=!1,e=ga,ga=null,e;return wi&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===va?Ln++:(Ln=0,va=e):Ln=0,er(),null}function Gr(){if(Ft!==null){var e=Bc(wi),t=Ye.transition,r=K;try{if(Ye.transition=null,K=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,wi=0,V&6)throw Error(T(331));var s=V;for(V|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:On(8,d,i)}var p=d.child;if(p!==null)p.return=d,O=p;else for(;O!==null;){d=O;var g=d.sibling,w=d.return;if(Zd(d),d===c){O=null;break}if(g!==null){g.return=w,O=g;break}O=w}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:On(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){o=O;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,O=h;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ri(9,l)}}catch(S){ue(l,l.return,S)}if(l===o){O=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,O=v;break e}O=l.return}}if(V=s,er(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ni,e)}catch{}n=!0}return n}finally{K=r,Ye.transition=t}}return!1}function Ru(e,t,r){t=en(r,t),t=Bd(e,t,1),e=qt(e,t,1),t=Pe(),e!==null&&(ss(e,1,t),ze(e,t))}function ue(e,t,r){if(e.tag===3)Ru(e,e,r);else for(;t!==null;){if(t.tag===3){Ru(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){e=en(r,e),e=Hd(t,e,1),t=qt(t,e,1),e=Pe(),t!==null&&(ss(t,1,e),ze(t,e));break}}t=t.return}}function im(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(xe&r)===r&&(me===4||me===3&&(xe&130023424)===xe&&500>de()-pl?hr(e,0):fl|=r),ze(e,t)}function uh(e,t){t===0&&(e.mode&1?(t=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):t=1);var r=Pe();e=bt(e,t),e!==null&&(ss(e,t,r),ze(e,r))}function om(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uh(e,r)}function am(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),uh(e,r)}var ch;ch=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,Kp(e,t,r);De=!!(e.flags&131072)}else De=!1,ne&&t.flags&1048576&&pd(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ks(e,t),e=t.pendingProps;var s=Jr(t,Ee.current);qr(t,r),s=al(null,t,n,e,s,r);var i=ll();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(i=!0,li(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rl(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,ia(t,n,e,r),t=la(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&Qa(t),be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=um(n),e=st(n,e),s){case 0:t=aa(null,t,n,e,r);break e;case 1:t=ju(null,t,n,e,r);break e;case 11:t=xu(null,t,n,e,r);break e;case 14:t=Su(null,t,n,st(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),aa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),ju(e,t,n,s,r);case 3:e:{if(Gd(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_d(e,t),fi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=en(Error(T(423)),t),t=ku(e,t,n,r,s);break e}else if(n!==s){s=en(Error(T(424)),t),t=ku(e,t,n,r,s);break e}else for(He=Vt(t.stateNode.containerInfo.firstChild),We=t,ne=!0,at=null,r=yd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),n===s){t=Pt(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return xd(t),e===null&&ra(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Yo(n,s)?o=null:i!==null&&Yo(n,i)&&(t.flags|=32),qd(e,t),be(e,t,o,r),t.child;case 6:return e===null&&ra(t),null;case 13:return Kd(e,t,r);case 4:return nl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xr(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),xu(e,t,n,s,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,X(di,n._currentValue),n._currentValue=o,i!==null)if(ct(i.value,o)){if(i.children===s.children&&!Ue.current){t=Pt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Et(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),na(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),na(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qr(t,r),s=Ze(s),n=n(s),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,s=st(n,t.pendingProps),s=st(n.type,s),Su(e,t,n,s,r);case 15:return Wd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Ks(e,t),t.tag=1,Me(n)?(e=!0,li(t)):e=!1,qr(t,r),Fd(t,n,s),ia(t,n,s,r),la(null,t,n,!0,e,r);case 19:return Qd(e,t,r);case 22:return Vd(e,t,r)}throw Error(T(156,t.tag))};function dh(e,t){return Uc(e,t)}function lm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,r,n){return new lm(e,t,r,n)}function yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function um(e){if(typeof e=="function")return yl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ua)return 14}return 2}function Qt(e,t){var r=e.alternate;return r===null?(r=Je(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")yl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ar:return fr(r.children,s,i,t);case $a:o=8,s|=8;break;case bo:return e=Je(12,r,t,s|2),e.elementType=bo,e.lanes=i,e;case Po:return e=Je(13,r,t,s),e.elementType=Po,e.lanes=i,e;case Ao:return e=Je(19,r,t,s),e.elementType=Ao,e.lanes=i,e;case xc:return Ii(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wc:o=10;break e;case _c:o=9;break e;case Da:o=11;break e;case Ua:o=14;break e;case Lt:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Je(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function fr(e,t,r,n){return e=Je(7,e,n,t),e.lanes=r,e}function Ii(e,t,r,n){return e=Je(22,e,n,t),e.elementType=xc,e.lanes=r,e.stateNode={isHidden:!1},e}function wo(e,t,r){return e=Je(6,e,null,t),e.lanes=r,e}function _o(e,t,r){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wl(e,t,r,n,s,i,o,l,u){return e=new cm(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rl(i),e}function dm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hh(e){if(!e)return Yt;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Me(r))return hd(e,r,t)}return t}function fh(e,t,r,n,s,i,o,l,u){return e=wl(r,n,!0,e,s,i,o,l,u),e.context=hh(null),r=e.current,n=Pe(),s=Kt(r),i=Et(n,s),i.callback=t??null,qt(r,i,s),e.current.lanes=s,ss(e,s,n),ze(e,n),e}function $i(e,t,r,n){var s=t.current,i=Pe(),o=Kt(s);return r=hh(r),t.context===null?t.context=r:t.pendingContext=r,t=Et(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qt(s,t,o),e!==null&&(ut(e,s,o,i),Vs(e,s,o)),o}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _l(e,t){Lu(e,t),(e=e.alternate)&&Lu(e,t)}function hm(){return null}var ph=typeof reportError=="function"?reportError:function(e){console.error(e)};function xl(e){this._internalRoot=e}Di.prototype.render=xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));$i(e,t,null,null)};Di.prototype.unmount=xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){$i(null,e,null,null)}),t[Ct]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&t!==0&&t<Dt[r].priority;r++);Dt.splice(r,0,e),r===0&&Gc(e)}};function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function fm(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=xi(o);i.call(c)}}var o=fh(t,n,e,0,null,!1,!1,"",Iu);return e._reactRootContainer=o,e[Ct]=o.current,Gn(e.nodeType===8?e.parentNode:e),yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=xi(u);l.call(c)}}var u=wl(e,0,!1,null,null,!1,!1,"",Iu);return e._reactRootContainer=u,e[Ct]=u.current,Gn(e.nodeType===8?e.parentNode:e),yr(function(){$i(t,u,r,n)}),u}function Mi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=xi(o);l.call(u)}}$i(t,o,e,s)}else o=fm(r,t,e,s,n);return xi(o)}Hc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Fa(t,r|1),ze(t,de()),!(V&6)&&(tn=de()+500,er()))}break;case 13:yr(function(){var n=bt(e,1);if(n!==null){var s=Pe();ut(n,e,1,s)}}),_l(e,1)}};Ba=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=Pe();ut(t,e,134217728,r)}_l(e,134217728)}};Wc=function(e){if(e.tag===13){var t=Kt(e),r=bt(e,t);if(r!==null){var n=Pe();ut(r,e,t,n)}_l(e,t)}};Vc=function(){return K};qc=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};Fo=function(e,t,r){switch(t){case"input":if(Lo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bi(n);if(!s)throw Error(T(90));jc(n),Lo(n,s)}}}break;case"textarea":Nc(e,r);break;case"select":t=r.value,t!=null&&Br(e,!!r.multiple,t,!1)}};Oc=ml;Rc=yr;var pm={usingClientEntryPoint:!1,Events:[os,Ir,bi,Pc,Ac,ml]},yn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mm={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$c(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ni=Os.inject(mm),pt=Os}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pm;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(t))throw Error(T(200));return dm(e,t,null,r)};qe.createRoot=function(e,t){if(!Sl(e))throw Error(T(299));var r=!1,n="",s=ph;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wl(e,1,!1,null,null,r,!1,n,s),e[Ct]=t.current,Gn(e.nodeType===8?e.parentNode:e),new xl(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=$c(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return yr(e)};qe.hydrate=function(e,t,r){if(!Ui(t))throw Error(T(200));return Mi(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!Sl(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ph;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fh(t,null,e,1,r??null,s,!1,i,o),e[Ct]=t.current,Gn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Di(t)};qe.render=function(e,t,r){if(!Ui(t))throw Error(T(200));return Mi(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!Ui(e))throw Error(T(40));return e._reactRootContainer?(yr(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1};qe.unstable_batchedUpdates=ml;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ui(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Mi(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mh)}catch(e){console.error(e)}}mh(),mc.exports=qe;var gm=mc.exports,$u=gm;To.createRoot=$u.createRoot,To.hydrateRoot=$u.hydrateRoot;const vm="modulepreload",ym=function(e){return"/"+e},Du={},ls=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=ym(i),i in Du)return;Du[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const p=s[d];if(p.href===i&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":vm,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},wm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ls(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class jl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _m extends jl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xm extends jl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sm extends jl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _a;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_a||(_a={}));var jm=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class km{constructor(t,{headers:r={},customFetch:n,region:s=_a.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=wm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return jm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(y=>{throw new _m(y)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new xm(d);if(!d.ok)throw new Sm(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield d.json():g==="application/octet-stream"?w=yield d.blob():g==="text/event-stream"?w=d:g==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null}}catch(s){return{data:null,error:s}}})}}var $e={},kl={},zi={},us={},Fi={},Bi={},Nm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rn=Nm();const Em=rn.fetch,gh=rn.fetch.bind(rn),vh=rn.Headers,Tm=rn.Request,Cm=rn.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:vh,Request:Tm,Response:Cm,default:gh,fetch:Em},Symbol.toStringTag,{value:"Module"})),bm=Bh(an);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});let Pm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hi.default=Pm;var yh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});const Am=yh(bm),Om=yh(Hi);let Rm=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Am.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,p=null,g=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&j&&j.length>1&&(p=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(d=[],c=null,g=200,w="OK")}catch{i.status===404&&_===""?(g=204,w="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,g=200,w="OK"),c&&this.shouldThrowOnError)throw new Om.default(c)}return{error:c,data:d,count:p,status:g,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Bi.default=Rm;var Lm=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fi,"__esModule",{value:!0});const Im=Lm(Bi);let $m=class extends Im.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fi.default=$m;var Dm=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});const Um=Dm(Fi);let Mm=class extends Um.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};us.default=Mm;var zm=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});const wn=zm(us);let Fm=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new wn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new wn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zi.default=Fm;var Wi={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.version=void 0;Vi.version="0.0.0-automated";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.DEFAULT_HEADERS=void 0;const Bm=Vi;Wi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bm.version}`};var wh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kl,"__esModule",{value:!0});const Hm=wh(zi),Wm=wh(us),Vm=Wi;let qm=class _h{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Vm.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Hm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _h(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Wm.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};kl.default=qm;var ln=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const xh=ln(kl);$e.PostgrestClient=xh.default;const Sh=ln(zi);$e.PostgrestQueryBuilder=Sh.default;const jh=ln(us);$e.PostgrestFilterBuilder=jh.default;const kh=ln(Fi);$e.PostgrestTransformBuilder=kh.default;const Nh=ln(Bi);$e.PostgrestBuilder=Nh.default;const Eh=ln(Hi);$e.PostgrestError=Eh.default;var Gm=$e.default={PostgrestClient:xh.default,PostgrestQueryBuilder:Sh.default,PostgrestFilterBuilder:jh.default,PostgrestTransformBuilder:kh.default,PostgrestBuilder:Nh.default,PostgrestError:Eh.default};const{PostgrestClient:Km,PostgrestQueryBuilder:n0,PostgrestFilterBuilder:s0,PostgrestTransformBuilder:i0,PostgrestBuilder:o0,PostgrestError:a0}=Gm;let xa;typeof window>"u"?xa=require("ws"):xa=window.WebSocket;const Qm=xa,Jm="2.11.10",Ym={"X-Client-Info":`realtime-js/${Jm}`},Xm="1.0.0",Th=1e4,Zm=1e3;var Kr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kr||(Kr={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var Sa;(function(e){e.websocket="websocket"})(Sa||(Sa={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class eg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Ch{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const Uu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=tg(o,e,t,s),i),{})},tg=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?bh(i,o):ja(o)},bh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ig(t,r)}switch(e){case Y.bool:return rg(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return ng(t);case Y.json:case Y.jsonb:return sg(t);case Y.timestamp:return og(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return ja(t);default:return ja(t)}},ja=e=>e,rg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ng=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ig=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bh(t,l))}return e},og=e=>typeof e=="string"?e.replace(" ","T"):e,Ph=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xo{constructor(t,r,n={},s=Th){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mu||(Mu={}));class In{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=In.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const p=i[c];if(p){const g=d.map(j=>j.presence_ref),w=p.map(j=>j.presence_ref),y=d.filter(j=>w.indexOf(j.presence_ref)<0),_=p.filter(j=>g.indexOf(j.presence_ref)<0);y.length>0&&(l[c]=y),_.length>0&&(u[c]=_)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const p=t[l].map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0);t[l].unshift(...g)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zu||(zu={}));var Fu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fu||(Fu={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class Nl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xo(this,ot.join,this.params,this.timeout),this.rejoinTimer=new Ch(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new In(this),this.broadcastEndpointURL=Ph(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(St.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(St.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(St.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let _=0;_<w;_++){const j=g[_],{filter:{event:m,schema:f,table:h,filter:v}}=j,S=d&&d[_];if(S&&S.event===m&&S.schema===f&&S.table===h&&S.filter===v)y.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),this.state=Ce.errored,t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(St.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ce.errored,t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new xo(this,ot.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=ot;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var y,_,j;return((y=w.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(_=w.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(w=>w.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var y,_,j,m,f,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const v=w.id,S=(y=w.filter)===null||y===void 0?void 0:y.event;return v&&((_=r.ids)===null||_===void 0?void 0:_.includes(v))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(f=(m=w==null?void 0:w.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:_,table:j,commit_timestamp:m,type:f,errors:h}=y;g=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:m,eventType:f,new:{},old:{},errors:h}),this._getPayloadRecords(y))}w.callback(g,n)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Uu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Uu(t.columns,t.old_record)),r}}const Bu=()=>{},ag=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Ym,this.params={},this.timeout=Th,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bu,this.ref=0,this.logger=Bu,this.conn=null,this.sendBuffer=[],this.serializer=new eg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ls(()=>Promise.resolve().then(()=>an),void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Sa.websocket}`,this.httpEndpoint=Ph(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ch(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qm),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ug(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xm}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return lr.Connecting;case Kr.open:return lr.Open;case Kr.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Nl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ot.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Zm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ag],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ug{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class El extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cg extends El{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ka extends El{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var dg=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Ah=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ls(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hg=()=>dg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ls(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),Na=e=>{if(Array.isArray(e))return e.map(r=>Na(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Na(n)}),t};var xr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const So=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fg=(e,t,r)=>xr(void 0,void 0,void 0,function*(){const n=yield hg();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new cg(So(s),e.status||500))}).catch(s=>{t(new ka(So(s),s))}):t(new ka(So(e),e))}),pg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function cs(e,t,r,n,s,i){return xr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,pg(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>fg(u,l,n))})})}function Si(e,t,r,n){return xr(this,void 0,void 0,function*(){return cs(e,"GET",t,r,n)})}function $t(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return cs(e,"POST",t,n,s,r)})}function mg(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return cs(e,"PUT",t,n,s,r)})}function gg(e,t,r,n){return xr(this,void 0,void 0,function*(){return cs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Oh(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return cs(e,"DELETE",t,n,s,r)})}var Le=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const vg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ah(s)}uploadOrUpdate(t,r,n,s){return Le(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Hu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Le(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Hu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield $t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new El("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}update(t,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Le(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield $t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Le(this,void 0,void 0,function*(){try{const s=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(t,r){return Le(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Si(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}info(t){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Si(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Na(n),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}exists(t){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield gg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ge(n)&&n instanceof ka){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return Le(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}list(t,r,n){return Le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vg),r),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const wg="2.7.1",_g={"X-Client-Info":`storage-js/${wg}`};var kr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class xg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},_g),r),this.fetch=Ah(n)}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kr(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}}class Sg extends xg{constructor(t,r={},n){super(t,r,n)}from(t){return new yg(this.url,this.headers,t,this.fetch)}}const jg="2.50.0";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const kg={"X-Client-Info":`supabase-js-${kn}/${jg}`},Ng={headers:kg},Eg={schema:"public"},Tg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cg={};var bg=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Pg=e=>{let t;return e?t=e:typeof fetch>"u"?t=gh:t=fetch,(...r)=>t(...r)},Ag=()=>typeof Headers>"u"?vh:Headers,Og=(e,t,r)=>{const n=Pg(r),s=Ag();return(i,o)=>bg(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Rg=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function Lg(e){return e.endsWith("/")?e:e+"/"}function Ig(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:p}=t,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Rg(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Rh="2.70.0",br=30*1e3,Ea=3,jo=Ea*br,$g="http://localhost:9999",Dg="supabase.auth.token",Ug={"X-Client-Info":`gotrue-js/${Rh}`},Ta="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zg=6e5;class Tl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fg extends Tl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Bg(e){return M(e)&&e.name==="AuthApiError"}class Ih extends Tl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class tr extends Tl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Rt extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hg(e){return M(e)&&e.name==="AuthSessionMissingError"}class Rs extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ls extends tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Is extends tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wg(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wu extends tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ca extends tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ko(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Vu extends tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $n extends tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qu=` 	
\r=`.split(""),Vg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qu.length;t+=1)e[qu[t].charCodeAt(0)]=-2;for(let t=0;t<ji.length;t+=1)e[ji[t].charCodeAt(0)]=t;return e})();function Gu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ji[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ji[n]),t.queuedBits-=6}}function $h(e,t,r){const n=Vg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ku(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Kg(o,n,r)};for(let o=0;o<e.length;o+=1)$h(e.charCodeAt(o),s,i);return t.join("")}function qg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Gg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qg(n,t)}}function Kg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$h(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Jg(e){const t=[];return Gg(e,r=>t.push(r)),new Uint8Array(t)}function Yg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Gu(s,r,n)),Gu(null,r,n),t.join("")}function Xg(e){return Math.round(Date.now()/1e3)+e}function Zg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},Dn=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function ev(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Dh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ls(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ds=async(e,t)=>{await e.removeItem(t)};class qi{constructor(){this.promise=new qi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qi.promiseConstructor=Promise;function No(e){const t=e.split(".");if(t.length!==3)throw new $n("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Mg.test(t[n]))throw new $n("JWT not in base64url format");return{header:JSON.parse(Ku(t[0])),payload:JSON.parse(Ku(t[1])),signature:Qg(t[2]),raw:{header:t[0],payload:t[1]}}}async function rv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function sv(e){return("0"+e.toString(16)).substr(-2)}function iv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,sv).join("")}async function ov(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function av(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ov(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(e,t,r=!1){const n=iv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Uh(e,`${t}-code-verifier`,s);const i=await av(n);return[i,n===i?"plain":"s256"]}const lv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uv(e){const t=e.headers.get(Ta);if(!t||!t.match(lv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(e){if(!hv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var fv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ar=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pv=[502,503,504];async function Qu(e){var t;if(!tv(e))throw new Ca(ar(e),0);if(pv.includes(e.status))throw new Ca(ar(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ih(ar(i),i)}let n;const s=uv(e);if(s&&s.getTime()>=Lh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vu(ar(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vu(ar(r),e.status,r.weak_password.reasons);throw new Fg(ar(r),e.status||500,n)}const mv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ta]||(i[Ta]=Lh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await gv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function gv(e,t,r,n,s,i){const o=mv(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Ca(ar(u),0)}if(l.ok||await Qu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Qu(u)}}function _t(e){var t;let r=null;_v(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Xg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ju(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vv(e){return{data:e,error:null}}function yv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=fv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function wv(e){return e}function _v(e){return e.access_token&&e.refresh_token&&e.expires_in}const Eo=["global","local","others"];var xv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Sv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Dh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Eo[0]){if(Eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eo.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wv});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return w.length>0&&(w.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);c[`${j}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Er(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Er(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Er(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Er(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Er(t.userId),Er(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}const jv={getItem:e=>Dn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dn()&&globalThis.localStorage.removeItem(e)}};function Yu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function kv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tr={debug:!!(globalThis&&Dn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nv extends Mh{}async function Ev(e,t,r){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kv();const Tv={url:$g,storageKey:Dg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ug,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xu(e,t,r){return await r()}class rs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Tv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Dh(s.fetch),this.lock=s.lock||Xu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ev:this.lock=Xu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Dn()?this.storage=jv:(this.memoryStorage={},this.storage=Yu(this.memoryStorage)):(this.memoryStorage={},this.storage=Yu(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ev(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),nt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Wg(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Ih("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:p,options:g}=t;let w=null,y=null;this.flowType==="pkce"&&([w,y]=await Nr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:y},xform:_t})}else if("phone"in t){const{phone:d,password:p,options:g}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_t})}else throw new Ls("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else throw new Ls("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,u,c,d,p,g,w;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:j,wallet:m,statement:f,options:h}=t;let v;if(nt())if(typeof m=="object")v=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))v=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const S=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const k=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let x;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")x=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)x=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)y=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),_=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((p=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...h.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const k=await v.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:j,error:m}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Yg(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:_t});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Rs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(M(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await Ds(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Rs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nr(this.storage,this.storageKey));const{error:p}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ls("You must provide either an email or phone number.")}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Nr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:vv})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ls("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(r){if(M(r))return Hg(r)&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Nr(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Mt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=No(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!nt())throw new Is("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Is(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wu("No code detected.");const{data:f,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Is("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let g=d+p;u&&(g=parseInt(u));const w=g-d;w*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const y=g-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Bg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Zg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:p,error:g}=i;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nv(async s=>(s>0&&await rv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ko(i)&&Date.now()+o-n<br})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $s(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${jo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ko(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),M(i)){const o={session:null,error:i};return ko(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Uh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ds(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${br}ms, refresh threshold is ${Ea} ticks`),s<=Ea&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=No(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+zg>Date.now()))return n;const{data:s,error:i}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new $n("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new $n("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:w,error:y}=await this.getSession();if(y||!w.session)return{data:null,error:y};n=w.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=No(n);if(cv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:s,signature:o},error:null}}const c=dv(s.alg),d=await this.fetchJwk(s.kid,r),p=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,o,Jg(`${l}.${u}`)))throw new $n("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}rs.nextInstanceID=0;const Cv=rs;class bv extends Cv{constructor(t){super(t)}}var Pv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Av{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Lg(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Eg,realtime:Cg,auth:Object.assign(Object.assign({},Tg),{storageKey:c}),global:Ng},p=Ig(n??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Og(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Km(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new km(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Pv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new lg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ov=(e,t,r)=>new Av(e,t,r),Rv="https://ycgzvqvszsjcsoffzaov.supabase.co",Lv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljZ3p2cXZzenNqY3NvZmZ6YW92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjQ1NzgsImV4cCI6MjA2NTE0MDU3OH0.WAotX-RdSQY-TRZ_Lal1v8Iw5nlijH36RoW0bXQ1Mrs",Q=Ov(Rv,Lv),Cr={signUp:async(e,t,r)=>{const{data:n,error:s}=await Q.auth.signUp({email:e,password:t,options:{data:r}});return{data:n,error:s}},signIn:async(e,t)=>{const{data:r,error:n}=await Q.auth.signInWithPassword({email:e,password:t});return{data:r,error:n}},signOut:async()=>{const{error:e}=await Q.auth.signOut();return{error:e}},getCurrentUser:()=>Q.auth.getUser(),onAuthStateChange:e=>Q.auth.onAuthStateChange(e)},J={getUsers:async()=>{const{data:e,error:t}=await Q.from("users").select("*").order("name");return{data:e,error:t}},getUserById:async e=>{const{data:t,error:r}=await Q.from("users").select("*").eq("id",e).maybeSingle();return{data:t,error:r}},createUserProfile:async(e,t)=>{const{data:r,error:n}=await Q.from("users").insert({id:e,email:t.email,name:t.name||"",surname:t.surname||"",handicap:t.handicap||18}).select().single();return{data:r,error:n}},updateUser:async(e,t)=>{const{data:r,error:n}=await Q.from("users").update(t).eq("id",e).select().single();return{data:r,error:n}},promoteToAdmin:async e=>{const{data:t,error:r}=await Q.rpc("promote_user_to_admin",{user_email:e});return{data:t,error:r}},getTours:async()=>{const{data:e,error:t}=await Q.from("tours").select("*").order("year",{ascending:!1});return{data:e,error:t}},getActiveTour:async()=>{const{data:e,error:t}=await Q.from("tours").select("*").eq("is_active",!0).maybeSingle();return{data:e,error:t}},createTour:async(e,t)=>{await Q.from("tours").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000");const{data:r,error:n}=await Q.from("tours").insert({name:e,year:t,is_active:!0}).select().single();return{data:r,error:n}},getCourses:async e=>{const{data:t,error:r}=await Q.from("courses").select("*").eq("tour_id",e).order("play_date");return{data:t,error:r}},createCourse:async(e,t,r,n,s)=>{const{data:i,error:o}=await Q.from("courses").insert({tour_id:e,name:t,par:r,holes:n,play_date:s}).select().single();return{data:i,error:o}},getTeams:async e=>{const{data:t,error:r}=await Q.from("teams").select(`
        *,
        captain:captain_id(name, surname),
        team_members(
          user:user_id(id, name, surname, handicap)
        )
      `).eq("tour_id",e).order("name");return{data:t,error:r}},createTeam:async(e,t,r)=>{const{data:n,error:s}=await Q.from("teams").insert({tour_id:e,name:t,captain_id:r}).select().single();return!s&&n&&await Q.from("team_members").insert({team_id:n.id,user_id:r}),{data:n,error:s}},addTeamMember:async(e,t)=>{const{data:r,error:n}=await Q.from("team_members").insert({team_id:e,user_id:t}).select().single();return{data:r,error:n}},removeTeamMember:async(e,t)=>{const{error:r}=await Q.from("team_members").delete().eq("team_id",e).eq("user_id",t);return{error:r}},getScores:async(e,t=null)=>{let r=Q.from("scores").select(`
        *,
        user:user_id(name, surname)
      `).eq("course_id",e).order("hole_number");t&&(r=r.eq("user_id",t));const{data:n,error:s}=await r;return{data:n,error:s}},saveScore:async(e,t,r,n,s,i=!1,o=!1)=>{const{data:l,error:u}=await Q.from("scores").upsert({user_id:e,course_id:t,hole_number:r,strokes:n,recorded_by:s,three_putt:i,ring:o}).select().single();return{data:l,error:u}},saveScorecard:async(e,t,r,n,s={})=>{const i=r.map((u,c)=>{const d=c+1,p=s[d]||{};return{user_id:e,course_id:t,hole_number:d,strokes:parseInt(u)||null,recorded_by:n,three_putt:p.threePutt||!1,ring:p.ring||!1}}).filter(u=>u.strokes!==null),{data:o,error:l}=await Q.from("scores").upsert(i,{onConflict:"user_id,course_id,hole_number"}).select();return{data:o,error:l}},deleteScorecard:async(e,t)=>{const{error:r}=await Q.from("scores").delete().eq("user_id",e).eq("course_id",t);return{error:r}},getScoreStatistics:async(e,t=null)=>{let r=Q.from("scores").select(`
        user_id,
        strokes,
        three_putt,
        ring,
        course:course_id(par, holes)
      `).eq("course_id",e);t&&(r=r.eq("user_id",t));const{data:n,error:s}=await r;return{data:n,error:s}},getFines:async e=>{const{data:t,error:r}=await Q.from("fines").select(`
        *,
        user:user_id(name, surname),
        recorded_by_user:recorded_by(name, surname)
      `).eq("tour_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},addFine:async(e,t,r,n,s,i)=>{const{data:o,error:l}=await Q.from("fines").insert({user_id:e,tour_id:t,amount:r,reason:n,description:s,recorded_by:i}).select().single();return{data:o,error:l}}},zh=L.createContext({}),un=()=>{const e=L.useContext(zh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wt=(e,t=1e4,r="Operation")=>Promise.race([e,new Promise((n,s)=>setTimeout(()=>s(new Error(`${r} timeout after ${t}ms`)),t))]);function Iv({children:e}){const[t,r]=L.useState(null),[n,s]=L.useState(null),[i,o]=L.useState(!0);L.useEffect(()=>{let y=!0;(async()=>{console.log(" Auth initialization starting...");try{console.log(" Calling auth.getCurrentUser()...");const{data:{user:m},error:f}=await wt(Cr.getCurrentUser(),3e4,"getCurrentUser");if(console.log(" auth.getCurrentUser() completed:",{hasUser:!!m,hasError:!!f,userId:m==null?void 0:m.id}),!y){console.log(" Component unmounted during auth check, aborting");return}m?(console.log(" User found, setting user and loading profile..."),r(m),await l(m.id,m.user_metadata)):(console.log(" No user found, setting null state"),r(null),s(null))}catch(m){if(console.error(" Error during auth initialization:",m),y){console.log(" Clearing potentially corrupted session...");try{await wt(Cr.signOut(),1e4,"signOut"),console.log(" Session cleared successfully")}catch(f){console.error(" Error clearing session:",f)}r(null),s(null)}}finally{y&&(console.log(" Auth initialization complete, setting loading to false"),o(!1))}})();const{data:{subscription:j}}=Cr.onAuthStateChange(async(m,f)=>{if(console.log(" Auth state change event:",m,{hasSession:!!f}),!y){console.log(" Component unmounted during auth state change, aborting");return}const h=(f==null?void 0:f.user)??null;console.log(" Setting user from auth state change:",{hasUser:!!h,userId:h==null?void 0:h.id}),r(h),h?(console.log(" Loading user profile for authenticated user..."),await l(h.id,h.user_metadata)):(console.log(" No user, clearing profile"),s(null)),console.log(" Auth state change complete, setting loading to false"),o(!1)});return()=>{console.log(" Cleaning up auth provider"),y=!1,j.unsubscribe()}},[]);const l=async(y,_={})=>{console.log(" Loading user profile for:",y);try{const{data:j,error:m}=await wt(J.getUserById(y),2e4,"getUserById");if(m){console.error(" Error loading user profile:",m);return}if(j)console.log(" User profile found:",j.name,j.surname),s(j);else{console.log(" Creating user profile for:",y);const f={email:(_==null?void 0:_.email)||"",name:(_==null?void 0:_.name)||"",surname:(_==null?void 0:_.surname)||"",handicap:parseInt(_==null?void 0:_.handicap)||18};console.log(" Creating profile with data:",f);const{data:h,error:v}=await wt(J.createUserProfile(y,f),2e4,"createUserProfile");!v&&h?(console.log(" User profile created successfully"),s(h)):console.error(" Error creating user profile:",v)}}catch(j){console.error(" Error in loadUserProfile (possibly timeout):",j),j.message.includes("timeout")&&(console.log(" Profile loading timed out, continuing without profile"),s(null))}},w={user:t,userProfile:n,loading:i,signIn:async(y,_)=>{console.log(" Signing in user:",y),o(!0);try{const{data:j,error:m}=await wt(Cr.signIn(y,_),1e4,"signIn");return console.log(" Sign in result:",{hasData:!!j,hasError:!!m}),{data:j,error:m}}catch(j){return console.error(" Sign in timeout or error:",j),{data:null,error:j}}finally{o(!1)}},signUp:async(y,_,j)=>{console.log(" Signing up user:",y),o(!0);try{const{data:m,error:f}=await wt(Cr.signUp(y,_,j),1e4,"signUp");return console.log(" Sign up result:",{hasData:!!m,hasError:!!f}),{data:m,error:f}}catch(m){return console.error(" Sign up timeout or error:",m),{data:null,error:m}}finally{o(!1)}},signOut:async()=>{console.log(" Signing out user"),o(!0);try{const{error:y}=await wt(Cr.signOut(),5e3,"signOut");return console.log(" Sign out result:",{hasError:!!y}),{error:y}}catch(y){return console.error(" Sign out timeout or error:",y),{error:y}}finally{o(!1)}},updateProfile:async y=>{if(!t)return{error:"No user logged in"};console.log(" Updating profile for:",t.id);try{const{data:_,error:j}=await wt(J.updateUser(t.id,y),2e4,"updateUser");return!j&&_&&(console.log(" Profile updated successfully"),s(_)),{data:_,error:j}}catch(_){return console.error(" Error updating profile:",_),{error:_.message}}},promoteToAdmin:async y=>{console.log(" Promoting user to admin:",y);try{const{data:_,error:j}=await wt(J.promoteToAdmin(y),2e4,"promoteToAdmin");return!j&&t&&(console.log(" User promoted to admin, reloading profile"),await l(t.id,t.user_metadata)),{data:_,error:j}}catch(_){return console.error(" Error promoting to admin:",_),{error:_.message}}},isAdmin:(n==null?void 0:n.is_admin)||!1};return a.jsx(zh.Provider,{value:w,children:e})}function $v({isOpen:e,onClose:t}){const[r,n]=L.useState(!1),[s,i]=L.useState({email:"",password:"",name:"",surname:"",handicap:18}),[o,l]=L.useState(!1),[u,c]=L.useState(""),{signIn:d,signUp:p}=un();if(!e)return null;const g=async y=>{y.preventDefault(),l(!0),c("");try{if(r){const{error:_}=await p(s.email,s.password,{name:s.name,surname:s.surname,handicap:s.handicap});if(_)throw _}else{const{error:_}=await d(s.email,s.password);if(_)throw _}t()}catch(_){c(_.message)}finally{l(!1)}},w=y=>{i({...s,[y.target.name]:y.target.value})};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:r?"Sign Up":"Sign In"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),u&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),a.jsxs("form",{onSubmit:g,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"form-control",value:s.email,onChange:w,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Password"}),a.jsx("input",{type:"password",name:"password",className:"form-control",value:s.password,onChange:w,required:!0})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",name:"name",className:"form-control",value:s.name,onChange:w,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",name:"surname",className:"form-control",value:s.surname,onChange:w,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap (0-54)"}),a.jsx("input",{type:"number",name:"handicap",className:"form-control",value:s.handicap,onChange:w,min:"0",max:"54",required:!0})]})]}),a.jsx("button",{type:"submit",className:"btn btn--primary btn--full-width",disabled:o,children:o?"Loading...":r?"Sign Up":"Sign In"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800",onClick:()=>n(!r),children:r?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}function Dv({current:e,onNavigate:t,onAuthClick:r}){const{user:n,userProfile:s,signOut:i}=un(),o=[{id:"home",label:"Home"},{id:"schedule",label:"Schedule"},{id:"courses",label:"Golf Courses"},{id:"fines",label:"Banter & Fines"},{id:"friday",label:"Friday Activities"},{id:"scorecard",label:"Scorecard"},{id:"teams",label:"Teams"},{id:"profile",label:"Profile"}],l=async()=>{await i()};return a.jsx("header",{className:"site-header",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"logo",children:a.jsxs("h1",{children:[a.jsx("i",{className:"fas fa-golf-ball"})," Portugal Golf Trip 2025"]})}),a.jsx("nav",{className:"main-nav",children:a.jsxs("ul",{className:"flex gap-8 items-center",children:[o.map(u=>a.jsx("li",{children:a.jsx("a",{href:`#${u.id}`,onClick:()=>t&&t(u.id),className:`nav-link${e===u.id?" active":""}`,children:u.label})},u.id)),a.jsx("li",{children:n?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm",children:["Welcome, ",(s==null?void 0:s.name)||n.email]}),a.jsx("button",{onClick:l,className:"btn btn--secondary btn--sm",children:"Sign Out"})]}):a.jsx("button",{onClick:r,className:"btn btn--primary btn--sm",children:"Sign In"})})]})})]})})})}function Zu(){const e=new Date("July 1, 2025 00:00:00").getTime(),t=Date.now(),r=e-t;if(r<0)return{days:0,hours:0,minutes:0,seconds:0};const n=Math.floor(r/(1e3*60*60*24)),s=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(r%(1e3*60*60)/(1e3*60)),o=Math.floor(r%(1e3*60)/1e3);return{days:n,hours:s,minutes:i,seconds:o}}function Uv(){const[e,t]=L.useState(Zu());return L.useEffect(()=>{const r=setInterval(()=>{t(Zu())},1e3);return()=>clearInterval(r)},[]),a.jsx("div",{className:"mt-8 card countdown-card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Countdown to Tee Off"}),a.jsxs("div",{className:"countdown",children:[a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.days}),a.jsx("span",{className:"countdown-label",children:"Days"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.hours}),a.jsx("span",{className:"countdown-label",children:"Hours"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.minutes}),a.jsx("span",{className:"countdown-label",children:"Minutes"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.seconds}),a.jsx("span",{className:"countdown-label",children:"Seconds"})]})]})]})})}const Un={morgado:{name:"NAU Morgado Course",par:73,courseRating:72.7,slopeRating:129},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",par:72,courseRating:74.5,slopeRating:142},quintadolago:{name:"Quinta do Lago South Course",par:71,courseRating:73.7,slopeRating:139}},Nn={morgado:{name:"NAU Morgado Course",par:73,holes:[{par:4,hcp:13},{par:5,hcp:3},{par:4,hcp:7},{par:5,hcp:1},{par:3,hcp:15},{par:4,hcp:11},{par:4,hcp:9},{par:3,hcp:17},{par:5,hcp:5},{par:4,hcp:12},{par:4,hcp:4},{par:3,hcp:16},{par:4,hcp:10},{par:4,hcp:2},{par:5,hcp:6},{par:3,hcp:18},{par:4,hcp:14},{par:4,hcp:8}]},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",par:72,holes:[{par:4,hcp:9},{par:4,hcp:5},{par:4,hcp:1},{par:5,hcp:7},{par:3,hcp:17},{par:4,hcp:13},{par:5,hcp:3},{par:3,hcp:15},{par:4,hcp:11},{par:4,hcp:10},{par:5,hcp:2},{par:4,hcp:6},{par:3,hcp:18},{par:4,hcp:14},{par:4,hcp:8},{par:5,hcp:4},{par:3,hcp:16},{par:4,hcp:12}]},quintadolago:{name:"Quinta do Lago South Course",par:71,holes:[{par:4,hcp:6},{par:5,hcp:12},{par:4,hcp:2},{par:4,hcp:16},{par:3,hcp:18},{par:4,hcp:8},{par:5,hcp:4},{par:3,hcp:14},{par:4,hcp:10},{par:4,hcp:7},{par:4,hcp:1},{par:3,hcp:17},{par:4,hcp:13},{par:4,hcp:3},{par:5,hcp:11},{par:3,hcp:15},{par:4,hcp:9},{par:4,hcp:5}]}};function Mv(){const[e,t]=L.useState([]),[r,n]=L.useState(null),[s,i]=L.useState([]),[o,l]=L.useState(!0),[u,c]=L.useState("all"),[d,p]=L.useState(!1);L.useEffect(()=>{j()},[u,d]);const g=(h,v)=>{const S=Un[v];if(!S)return Math.round(h);const k=h*(S.slopeRating/113);return Math.round(k)},w=(h,v)=>Math.max(1,h-v),y=h=>{const v=h.toLowerCase();return v.includes("morgado")?"morgado":v.includes("amendoeira")||v.includes("faldo")?"amendoeira":v.includes("quinta")||v.includes("lago")?"quintadolago":null},_=(h,v)=>{var x;const S={eagles:0,birdies:0,threePutts:0,rings:0},k=((x=Nn[v])==null?void 0:x.holes)||Array(18).fill({par:4});return h.forEach((N,I)=>{var C;const R=((C=k[I])==null?void 0:C.par)||4,ae=N.strokes-R;ae<=-2?S.eagles++:ae===-1&&S.birdies++,N.three_putt&&S.threePutts++,N.ring&&S.rings++}),S},j=async()=>{try{l(!0);const{data:h}=await J.getActiveTour();if(n(h),!h){l(!1);return}const{data:v}=await J.getCourses(h.id);i(v||[]);const{data:S}=await J.getTeams(h.id);if(!S||S.length===0){t([]),l(!1);return}const k=u==="all"?v||[]:(v==null?void 0:v.filter(N=>N.id===u))||[],x=[];for(const N of S){const I={id:N.id,name:N.name,captain:N.captain,members:[],totalGrossScore:0,totalNetScore:0,totalPar:0,coursesPlayed:0,totalStats:{eagles:0,birdies:0,threePutts:0,rings:0}};for(const R of N.team_members||[]){const W={id:R.user.id,name:`${R.user.name} ${R.user.surname}`,handicap:R.user.handicap,scores:[],totalGrossScore:0,totalNetScore:0,totalPar:0,coursesPlayed:0,totalStats:{eagles:0,birdies:0,threePutts:0,rings:0}};for(const ae of k){const{data:C}=await J.getScores(ae.id,R.user.id);if(C&&C.length>0){const U=ae.par||72,z=y(ae.name),F=g(R.user.handicap,z),q=C.reduce(($,Z)=>$+Z.strokes,0),b=w(q,F),P=_(C,z);W.scores.push({courseId:ae.id,courseName:ae.name,courseKey:z,grossTotal:q,netTotal:b,par:U,courseHandicap:F,grossToPar:q-U,netToPar:b-U,stats:P}),W.totalGrossScore+=q,W.totalNetScore+=b,W.totalPar+=U,W.coursesPlayed++,Object.keys(P).forEach($=>{W.totalStats[$]+=P[$]})}}I.members.push(W),I.totalGrossScore+=W.totalGrossScore,I.totalNetScore+=W.totalNetScore,I.totalPar+=W.totalPar,Object.keys(W.totalStats).forEach(ae=>{I.totalStats[ae]+=W.totalStats[ae]})}I.members.length>0&&(I.coursesPlayed=Math.max(...I.members.map(R=>R.coursesPlayed))),x.push(I)}x.sort((N,I)=>{const R=d?N.totalNetScore:N.totalGrossScore,W=d?I.totalNetScore:I.totalGrossScore;return R===0&&W===0?0:R===0?1:W===0?-1:R-W}),t(x)}catch(h){console.error("Error loading leaderboard data:",h)}finally{l(!1)}},m=(h,v,S,k=!1)=>{const x=k?v:h;if(x===0)return"-";const N=x-S;return N===0?`${x} (E)`:N>0?`${x} (+${N})`:`${x} (${N})`},f=(h,v)=>h===0&&e[0].totalGrossScore>0?a.jsx("span",{className:"text-2xl",title:"Best Team",children:""}):h===v-1&&e[h].totalGrossScore>0?a.jsx("span",{className:"text-2xl",title:"Needs Improvement",children:""}):null;return o?a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("div",{className:"text-xl text-gray-600",children:"Loading leaderboard..."})})}):r?e.length===0?a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"No team scores available yet."})})}):a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{children:["Team Leaderboard - ",r.name," ",r.year]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:h=>p(h.target.checked),className:"mr-2"}),"Show Net Scores"]})}),a.jsx("div",{className:"form-group mb-0",style:{minWidth:"200px"},children:a.jsxs("select",{className:"form-control",value:u,onChange:h=>c(h.target.value),children:[a.jsx("option",{value:"all",children:"All Courses"}),s.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})})]})]}),a.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"USGA Net Scoring:"}),a.jsx("br",{})," ",a.jsx("strong",{children:"Course Handicap"})," = Handicap Index  (Slope Rating  113)",a.jsx("br",{})," ",a.jsx("strong",{children:"Net Score"})," = Gross Score - Course Handicap (minimum 1)",a.jsx("br",{})," Course ratings: Morgado (Slope: 129), Amendoeira (Slope: 142), Quinta do Lago (Slope: 139)",a.jsx("br",{})," ",a.jsx("strong",{children:"Statistics:"}),"  Eagles,  Birdies, 3P = 3-Putts,  = Rings (Hit Pin)"]})}),a.jsx("div",{className:"space-y-6",children:e.map((h,v)=>{var S,k;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:["#",v+1]}),f(v,e.length)]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold",children:h.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Captain: ",(S=h.captain)==null?void 0:S.name," ",(k=h.captain)==null?void 0:k.surname]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:h.totalGrossScore>0?m(h.totalGrossScore,h.totalNetScore,h.totalPar,d):"-"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Team Total (",d?"Net":"Gross",")"]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["",h.totalStats.eagles," ",h.totalStats.birdies," | 3P:",h.totalStats.threePutts," ",h.totalStats.rings]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Player"}),a.jsx("th",{className:"text-center p-2",children:"HCP Index"}),u==="all"?s.map(x=>{const N=y(x.name),I=Un[N];return a.jsxs("th",{className:"text-center p-2 min-w-24",children:[x.name.split(" ")[0],I&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Slope: ",I.slopeRating]})]},x.id)}):a.jsxs("th",{className:"text-center p-2",children:[d?"Net":"Gross"," Score",u!=="all"&&(()=>{const x=s.find(R=>R.id===u),N=y((x==null?void 0:x.name)||""),I=Un[N];return I?a.jsxs("div",{className:"text-xs text-gray-500",children:["Slope: ",I.slopeRating]}):null})()]}),a.jsxs("th",{className:"text-center p-2 font-bold",children:["Total (",d?"Net":"Gross",")"]}),a.jsx("th",{className:"text-center p-2",children:"Stats"})]})}),a.jsx("tbody",{children:h.members.sort((x,N)=>{const I=d?x.totalNetScore:x.totalGrossScore,R=d?N.totalNetScore:N.totalGrossScore;return I===0&&R===0?0:I===0?1:R===0?-1:I-R}).map(x=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2 font-medium",children:x.name}),a.jsx("td",{className:"p-2 text-center",children:x.handicap}),u==="all"?s.map(N=>{const I=x.scores.find(R=>R.courseId===N.id);return a.jsx("td",{className:"p-2 text-center",children:I?a.jsxs("div",{children:[a.jsx("div",{children:m(I.grossTotal,I.netTotal,I.par,d)}),d&&I.courseHandicap&&a.jsxs("div",{className:"text-xs text-gray-500",children:["CH: ",I.courseHandicap]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["",I.stats.eagles," ",I.stats.birdies]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["3P:",I.stats.threePutts," ",I.stats.rings]})]}):"-"},N.id)}):a.jsx("td",{className:"p-2 text-center",children:x.scores.length>0?a.jsxs("div",{children:[a.jsx("div",{children:m(x.scores[0].grossTotal,x.scores[0].netTotal,x.scores[0].par,d)}),d&&x.scores[0].courseHandicap&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Course HCP: ",x.scores[0].courseHandicap]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["",x.scores[0].stats.eagles," ",x.scores[0].stats.birdies]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["3P:",x.scores[0].stats.threePutts," ",x.scores[0].stats.rings]})]}):"-"}),a.jsx("td",{className:"p-2 text-center font-bold",children:x.totalGrossScore>0?m(x.totalGrossScore,x.totalNetScore,x.totalPar,d):"-"}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{children:["",x.totalStats.eagles," ",x.totalStats.birdies]}),a.jsxs("div",{children:["3P:",x.totalStats.threePutts," ",x.totalStats.rings]})]})})]},x.id))})]})})]},h.id)})})]})}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"No active tour found."})})})}function zv(){return a.jsxs("section",{className:"page active",id:"home",children:[a.jsx("div",{className:"hero card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h2",{children:"Welcome to our Portugal Golf Trip 2025!"}),a.jsx("p",{children:"Get ready for an unforgettable golfing adventure in the beautiful Algarve region of Portugal."})]})}),a.jsx(Uv,{}),a.jsx("div",{className:"mt-8",children:a.jsx(Mv,{})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Hotel"}),a.jsx("p",{children:a.jsx("a",{href:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",children:"View Hotel Vila Gal Cerro Alagoa on Google Maps"})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body schedule-table-container",children:[a.jsx("h3",{children:"Course Metrics"}),a.jsxs("table",{className:"summary-table mt-4",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Metric"}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"NAU Morgado"})}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"Amendoeira Faldo"})}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"Quinta do Lago South"})})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Length (White/Black Tees)"}),a.jsx("td",{children:"6,399m"}),a.jsx("td",{children:"6,598m"}),a.jsx("td",{children:"6,488m"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Longest Hole"}),a.jsx("td",{children:"535m (Par 5, Hole 3)"}),a.jsx("td",{children:"613m (Par 5, Hole 13)"}),a.jsx("td",{children:"510m (Par 5, Hole 17)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Shortest Hole"}),a.jsx("td",{children:"166m (Par 3, Hole 11)"}),a.jsx("td",{children:"138m (Par 3, Hole 16)"}),a.jsx("td",{children:"171m (Par 3, Hole 4)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Green Size"}),a.jsx("td",{children:"600m"}),a.jsx("td",{children:"550m"}),a.jsx("td",{children:"650m"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Course Rating (Black)"}),a.jsx("td",{children:"72.7"}),a.jsx("td",{children:"74.5"}),a.jsx("td",{children:"73.7"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Slope Rating (Black)"}),a.jsx("td",{children:"129"}),a.jsx("td",{children:"142"}),a.jsx("td",{children:"139"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Bunkers"}),a.jsx("td",{children:"85+ (Scottish-style)"}),a.jsx("td",{children:"70+ (Desert scrub)"}),a.jsx("td",{children:"60+ (Strategic placement)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water Hazards"}),a.jsx("td",{children:"4 lakes"}),a.jsx("td",{children:"5 watercourses"}),a.jsx("td",{children:"3 lakes (incl. Hole 15)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Signature Hole"}),a.jsx("td",{children:"18th (Par 4, elevated tee)"}),a.jsx("td",{children:"18th (Par 5, narrow fairway)"}),a.jsx("td",{children:"15th (Par 3 over lake)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Year Opened"}),a.jsx("td",{children:"2003"}),a.jsx("td",{children:"2008"}),a.jsx("td",{children:"1974"})]})]})]})]})})]})}const Fv=[{date:"Tuesday July 1, 2025",course:"Travel from Faro Airport to Vila Gale Cerro Alagoa",departureTime:"Upon Arrival",travelTime:"45",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D"},{date:"Wednesday July 2, 2025",course:"NAU Morgado Course",departureTime:"08:30",travelTime:"35",preTeeOffTime:"1.12",teeTime:"10:12",golfDrinksHours:"6.80",pickUpTime:"17:00",link:"https://www.nauhotels.com/en/nau-morgado-golf-country-club"},{date:"Thursday July 3, 2025",course:"Amendoeira Golf Resort",departureTime:"08:30",travelTime:"25",preTeeOffTime:"1.25",teeTime:"10:10",golfDrinksHours:"6.83",pickUpTime:"17:00",link:"https://www.amendoeiraresort.com/en/"},{date:"Friday July 4, 2025",course:"Free Day",departureTime:"N/A",travelTime:"N/A",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"N/A"},{date:"Saturday July 5, 2025",course:"Quinta do Lago South Course",departureTime:"08:30",travelTime:"38",preTeeOffTime:"1.27",teeTime:"10:24",golfDrinksHours:"6.60",pickUpTime:"17:00",link:"https://www.quintadolagocc.com/en/quinta-do-lago"},{date:"Sunday July 6, 2025",course:"Travel from Vila Gale Cerro Alagoa to Faro Airport",departureTime:"TBC (based on flight)",travelTime:"45",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D"}];function Bv(){return a.jsxs("section",{className:"page active",id:"schedule",children:[a.jsx("h2",{children:"Schedule"}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Hotel"}),a.jsx("p",{children:a.jsx("a",{href:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",children:"View Hotel Vila Gal Cerro Alagoa on Google Maps"})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body schedule-table-container",children:a.jsxs("table",{className:"schedule-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Golf Course"}),a.jsx("th",{children:"Departure Time"}),a.jsx("th",{children:"Travel Time (mins)"}),a.jsx("th",{children:"Pre-Tee Off Time (hrs)"}),a.jsx("th",{children:"Tee Time"}),a.jsx("th",{children:"Golf & Drinks (hrs)"}),a.jsx("th",{children:"Pick Up Time"}),a.jsx("th",{children:"Link to Golf Course"})]})}),a.jsx("tbody",{children:Fv.map(e=>a.jsxs("tr",{children:[a.jsx("td",{children:e.date}),a.jsx("td",{children:e.course}),a.jsx("td",{children:e.departureTime}),a.jsx("td",{children:e.travelTime}),a.jsx("td",{children:e.preTeeOffTime}),a.jsx("td",{children:e.teeTime}),a.jsx("td",{children:e.golfDrinksHours}),a.jsx("td",{children:e.pickUpTime}),a.jsx("td",{children:e.link!=="N/A"?a.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.course}):"N/A"})]},e.date))})]})})})]})}const ec={morgado:{name:"NAU Morgado Course",description:"This superb course opened in 2003 and is one of the latest to open on the Algarve. Despite its young age, it feels surprisingly mature, a characteristic enhanced by the planting of 500 olive trees. Morgado features views of the Monchique Mountains and is set amongst valleys, rivers and woodland. With gently undulating fairways, deep bunkers and large tees and greens, Morgado is an excellent choice when travelling to the Algarve.",tips:["The greens are large with subtle breaks that can be difficult to read","Deep Scottish-inspired bunkers are strategically placed throughout the course","The course is relatively forgiving off the tee but demands good putting skills","Watch out for the wind which can make some holes play much longer"],website:"https://www.nauhotels.com/en/nau-morgado-golf-country-club"},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",description:"Designed by six-time Major winner Sir Nick Faldo, this course is a standout destination for those seeking a top-rated golf holiday in Portugal. With breathtaking views and a layout that rewards thoughtful play, the Faldo Course offers an unforgettable round of golf in one of Europe's premier golf regions. Unlike traditional parkland courses, the Faldo Course embraces its unique Mediterranean setting, featuring desert-style bunkers, wild herbs, cacti and olive trees in place of heather and dense woodland.",tips:[`As Sir Nick said: "The real skill is that when you stand on the tee, the golf hole tells you what to do, and if you do what it tells you there is reward, but if you don't you're penalised"`,"The course requires strategic play and careful positioning","Keep right of the fairway on the 1st hole for a better line into the green","Par 5 4th hole is reachable with a good drive but requires a demanding tee shot"],website:"https://www.amendoeiraresort.com/en/"},quintadolago:{name:"Quinta do Lago South Course",description:"A favorite among European Tour professionals, the South Course requires accurate drives and precise shots. The most famous hole is the 15th, a memorable Par 3 requiring a 200m shot over a lake. Flanked by the Atlantic and the Ria Formosa Natural Park, Quinta do Lago is a tourist resort characterized by the harmony achieved between man and nature. Golf is a lifestyle here - Europe's largest golf course with 72 holes shared by four excellent 18-hole courses, two of which are listed among the top 25 golf courses in Europe.",tips:["The course is well-maintained with fast and true running greens","Tee boxes are all very good, fairways a joy to play off","Bunkers contain lovely white sand allowing plenty of spin","There are plenty of dog leg holes where positioning your tee shots is crucial","The best holes are 14/15/16 and 17 with great photo opportunities"],website:"https://www.quintadolagocc.com/en/quinta-do-lago"}};function Hv(){const[e,t]=L.useState(null);if(e){const r=ec[e];return a.jsxs("section",{className:"page active",id:"courses",children:[a.jsx("button",{className:"btn mb-8",onClick:()=>t(null),children:"Back"}),a.jsx("h2",{children:r.name}),a.jsx("p",{className:"mt-8",children:r.description}),a.jsx("h3",{className:"mt-8",children:"Tips"}),a.jsx("ul",{className:"mt-4",children:r.tips.map(n=>a.jsx("li",{children:n},n))}),a.jsx("p",{className:"mt-8",children:a.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",children:"Visit website"})})]})}return a.jsxs("section",{className:"page active",id:"courses",children:[a.jsx("h2",{children:"Golf Courses"}),a.jsx("div",{className:"courses-grid mt-8",children:Object.entries(ec).map(([r,n])=>a.jsx("div",{className:"card course-card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{className:"course-title",children:n.name}),a.jsxs("p",{children:[n.description.substring(0,150),"..."]}),a.jsx("button",{className:"btn btn--primary btn--full-width view-course mt-8",onClick:()=>t(r),children:"View Details"})]})},r))})]})}const Us=[{name:"3 Putt",amount:1,description:"Taking 3 stabs with a putter"},{name:"Woody",amount:1,description:"Hitting a tree during your round"},{name:"Wetty",amount:1,description:"Ball landing in water hazard"},{name:"Sandy",amount:1,description:"Ball landing in bunker"},{name:"Lost Ball",amount:2,description:"Losing a ball during play"},{name:"Air Shot",amount:2,description:"Completely missing the ball on a swing"},{name:"Not clearing ladies tee",amount:5,description:"Drive that doesn't make it past the ladies tee box"},{name:"Club Throw",amount:2,description:"Throwing a club in frustration"},{name:"Late for Tee Time",amount:5,description:"Arriving late for scheduled tee time"},{name:"Phone Ringing",amount:2,description:"Phone going off during play"},{name:"Dress Code Violation",amount:2,description:"Not adhering to proper golf attire"}];function Wv(){return Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)}const tc="golf_trip_fines";function Vv(){const[e,t]=L.useState(()=>{try{const o=localStorage.getItem(tc);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to parse fines from storage",o),[]}}),[r,n]=L.useState({name:"",type:Us[0].name,description:""});L.useEffect(()=>{localStorage.setItem(tc,JSON.stringify(e))},[e]);const s=o=>{o.preventDefault();const l=Us.find(c=>c.name===r.type);if(!l)return;const u={id:Wv(),...r,amount:l.amount,date:new Date().toLocaleDateString()};t(c=>[...c,u]),n({name:"",type:Us[0].name,description:""})},i=e.reduce((o,l)=>o+l.amount,0);return a.jsxs("section",{className:"page active",id:"fines",children:[a.jsx("h2",{children:"Banter & Fines"}),a.jsxs("form",{className:"mt-8",onSubmit:s,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Name"}),a.jsx("input",{className:"form-control",value:r.name,onChange:o=>n({...r,name:o.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Fine Type"}),a.jsx("select",{className:"form-control",value:r.type,onChange:o=>n({...r,type:o.target.value}),children:Us.map(o=>a.jsxs("option",{value:o.name,children:[o.name," (",o.amount,")"]},o.name))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Description"}),a.jsx("input",{className:"form-control",value:r.description,onChange:o=>n({...r,description:o.target.value})})]}),a.jsx("button",{className:"btn btn--primary mt-4",children:"Add Fine"})]}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("table",{className:"fines-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Fine Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Date"})]})}),a.jsx("tbody",{children:e.map(o=>a.jsxs("tr",{children:[a.jsx("td",{children:o.name}),a.jsx("td",{children:o.type}),a.jsxs("td",{children:["",o.amount]}),a.jsx("td",{children:o.description||"-"}),a.jsx("td",{children:o.date})]},o.id))})]}),a.jsxs("p",{className:"mt-8",children:["Total fines: ",i.toFixed(2)]})]})})]})}const rc=[{category:"Beach",activities:[{name:"Praia dos Pescadores",description:"Beautiful fisherman's beach within walking distance of the hotel",votes:0},{name:"Praia da Oura",description:"Golden sand beach with water sports options",votes:0},{name:"Praia dos Alemes",description:"Popular beach with sun loungers and beachside bars",votes:0}]},{category:"Water Activities",activities:[{name:"Dolphin Watching",description:"2-hour speedboat cruise with chances to see wild dolphins",votes:0},{name:"Cave Tours",description:"Explore sea caves along the Algarve coast",votes:0},{name:"Jet Skiing",description:"Rent jet skis and explore the coastline",votes:0}]},{category:"Cultural",activities:[{name:"Silves Castle",description:"Visit the historic Moorish castle in nearby Silves",votes:0},{name:"Old Town Albufeira",description:"Explore the charming streets and shops of the old town",votes:0},{name:"Local Winery Tour",description:"Sample Portuguese wines at a local vineyard",votes:0}]},{category:"Adventure",activities:[{name:"Jeep Safari",description:"Off-road adventure through the Algarve countryside",votes:0},{name:"Karting",description:"Race go-karts at a local track",votes:0},{name:"Zoomarine",description:"Theme park with marine shows and attractions",votes:0}]}],nc="golf_trip_activities";function qv(){const[e,t]=L.useState(()=>{try{const n=localStorage.getItem(nc),s=n?JSON.parse(n):[];return rc.map(i=>{const o=s.find(l=>l.category===i.category);return{category:i.category,activities:i.activities.map(l=>{const u=o==null?void 0:o.activities.find(c=>c.name===l.name);return u?{...l,votes:u.votes}:l})}})}catch(n){return console.error("Failed to parse activities from storage",n),rc}});L.useEffect(()=>{localStorage.setItem(nc,JSON.stringify(e))},[e]);const r=(n,s)=>{t(i=>i.map(o=>o.category===n?{...o,activities:o.activities.map(l=>l.name===s?{...l,votes:l.votes+1}:l)}:o))};return a.jsxs("section",{className:"page active",id:"friday",children:[a.jsx("h2",{children:"Friday Activities"}),e.map(n=>a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{children:n.category}),n.activities.map(s=>a.jsx("div",{className:"card mt-4 activity-card",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"activity-title",children:[a.jsx("h4",{children:s.name}),a.jsxs("span",{className:"vote-count",children:[s.votes," votes"]})]}),a.jsx("p",{className:"mt-4",children:s.description}),a.jsxs("button",{className:"btn btn--secondary vote-btn mt-4",onClick:()=>r(n.category,s.name),children:[a.jsx("i",{className:"fas fa-thumbs-up"})," Vote"]})]})},s.name))]},n.category))]})}function Gv(){const{user:e,userProfile:t}=un(),[r,n]=L.useState(null),[s,i]=L.useState([]),[o,l]=L.useState(null),[u,c]=L.useState([]),[d,p]=L.useState([]),[g,w]=L.useState({}),[y,_]=L.useState({}),[j,m]=L.useState(!0),[f,h]=L.useState(!1),[v,S]=L.useState(!1),[k,x]=L.useState(!1),[N,I]=L.useState("stroke");L.useEffect(()=>{z()},[]),L.useEffect(()=>{o&&F()},[o,d]);const R=(E,A)=>{const D=Un[A];if(!D)return Math.round(E);const G=E*(D.slopeRating/113)+(D.courseRating-D.par);return Math.round(G)},W=(E,A)=>Math.max(1,E-A),ae=(E,A)=>{const D=E-A;return D<=-3?5:D===-2?4:D===-1?3:D===0?2:D===1?1:0},C=(E,A)=>{const D=Array(18).fill(0);if(E<=0)return D;const G=A.map((ee,Re)=>({holeNumber:Re,strokeIndex:ee.hcp||Re+1})).sort((ee,Re)=>ee.strokeIndex-Re.strokeIndex);let ce=Math.abs(E);for(let ee=0;ee<Math.min(18,ce);ee++)D[G[ee].holeNumber]=1;ce-=Math.min(18,ce);for(let ee=0;ee<Math.min(18,ce);ee++)D[G[ee].holeNumber]=2;ce-=Math.min(18,ce);for(let ee=0;ee<Math.min(18,ce);ee++)D[G[ee].holeNumber]=3;return D},U=E=>{const A=E.toLowerCase();return A.includes("morgado")?"morgado":A.includes("amendoeira")||A.includes("faldo")?"amendoeira":A.includes("quinta")||A.includes("lago")?"quintadolago":null},z=async()=>{try{const{data:E}=await J.getActiveTour();if(n(E),E){const{data:D}=await J.getCourses(E.id);i(D||[]),D&&D.length>0&&l(D[0])}const{data:A}=await J.getUsers();c(A||[])}catch(E){console.error("Error loading scorecard data:",E)}finally{m(!1)}},F=async()=>{if(!o||d.length===0){w({}),_({});return}try{const{data:E}=await J.getScores(o.id),A={},D={};d.forEach(G=>{A[G]=Array(18).fill(""),D[G]={}}),E==null||E.forEach(G=>{A[G.user_id]&&(A[G.user_id][G.hole_number-1]=G.strokes.toString(),D[G.user_id]||(D[G.user_id]={}),D[G.user_id][G.hole_number]={threePutt:G.three_putt||!1,ring:G.ring||!1})}),w(A),_(D)}catch(E){console.error("Error loading scores:",E)}},q=E=>{p(A=>A.includes(E)?A.filter(D=>D!==E):[...A,E])},b=(E,A,D)=>{const G=parseInt(D,10);D!==""&&(isNaN(G)||G<1||G>12)||w(ce=>{const Re=[...ce[E]||Array(18).fill("")];return Re[A]=D,{...ce,[E]:Re}})},P=(E,A,D,G)=>{_(ce=>{var ee;return{...ce,[E]:{...ce[E],[A]:{...(ee=ce[E])==null?void 0:ee[A],[D]:G}}}})},$=async()=>{if(!(!o||!e)){h(!0);try{for(const E of d){const A=g[E]||Array(18).fill(""),D=y[E]||{};await J.saveScorecard(E,o.id,A,e.id,D)}alert("Scorecard saved successfully!"),await F()}catch(E){console.error("Error saving scorecard:",E),alert("Error saving scorecard: "+E.message)}finally{h(!1)}}},Z=async()=>{if(!(!o||d.length===0||!window.confirm(`Are you sure you want to delete scorecards for ${d.length} player(s) on ${o.name}? This action cannot be undone.`))){S(!0);try{for(const A of d)await J.deleteScorecard(A,o.id);alert("Scorecard(s) deleted successfully!"),await F()}catch(A){console.error("Error deleting scorecard:",A),alert("Error deleting scorecard: "+A.message)}finally{S(!1)}}},le=(E,A,D,G=!1,ce=!1)=>{var cn;const ee=g[E]||[],Re=u.find(Fe=>Fe.id===E);if(!Re)return"";const ds=U((o==null?void 0:o.name)||""),gt=R(Re.handicap,ds),Gi=rr(),hs=C(gt,Gi);let vt=0,nr=0;for(let Fe=A;Fe<D;Fe++){const we=parseInt(ee[Fe],10);if(!isNaN(we)){if(ce){const fs=((cn=Gi[Fe])==null?void 0:cn.par)||4,tt=hs[Fe]||0,ps=Math.max(1,we-tt),yt=ae(ps,fs);vt+=yt}else vt+=we;nr++}}if(nr===0)return"";if(G&&!ce){const Fe=Math.round(gt*(nr/18));return W(vt,Fe)}return vt},rr=()=>{if(!o)return[];const E=Object.keys(Nn).find(A=>Nn[A].name.toLowerCase().includes(o.name.toLowerCase())||o.name.toLowerCase().includes(A.toLowerCase()));return E&&Nn[E]?Nn[E].holes:o.holes||Array(18).fill({par:4,hcp:1})};if(j)return a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading scorecard..."})});if(!r)return a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Scorecard"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"No active tour found. Please contact an administrator."})})})]});const Te=rr(),Sr=U((o==null?void 0:o.name)||""),fe=Un[Sr];return a.jsxs("section",{className:"page active",id:"scorecard",children:[a.jsxs("h2",{children:["Scorecard - ",r.name," ",r.year]}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Select Course"}),a.jsxs("select",{className:"form-control",value:(o==null?void 0:o.id)||"",onChange:E=>{const A=s.find(D=>D.id===E.target.value);l(A)},children:[a.jsx("option",{value:"",children:"Select a course"}),s.map(E=>a.jsxs("option",{value:E.id,children:[E.name," ",E.play_date?`- ${new Date(E.play_date).toLocaleDateString()}`:""]},E.id))]})]}),fe&&a.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Course Info:"})," Par ",fe.par," | Course Rating: ",fe.courseRating," | Slope Rating: ",fe.slopeRating]})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Select Players"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4",children:u.map(E=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.includes(E.id),onChange:()=>q(E.id)}),a.jsxs("span",{className:"text-sm",children:[E.name," ",E.surname," (HCP: ",E.handicap,")"]})]},E.id))})]})}),o&&d.length>0&&a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{children:o.name}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"radio",name:"scoringMode",value:"stroke",checked:N==="stroke",onChange:E=>I(E.target.value),className:"mr-2"}),"Stroke Play"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"radio",name:"scoringMode",value:"stableford",checked:N==="stableford",onChange:E=>I(E.target.value),className:"mr-2"}),"Stableford"]})}),N==="stroke"&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:E=>x(E.target.checked),className:"mr-2"}),"Show Net Scores"]})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"btn btn--secondary",onClick:Z,disabled:v,children:v?"Deleting...":"Delete Scorecard"}),a.jsx("button",{className:"btn btn--primary",onClick:$,disabled:f,children:f?"Saving...":"Save Scorecard"})]})]}),a.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:N==="stableford"?a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Stableford Scoring:"}),a.jsx("br",{})," ",a.jsx("strong",{children:"Points:"})," Albatross=5, Eagle=4, Birdie=3, Par=2, Bogey=1, Double+=0",a.jsx("br",{})," ",a.jsx("strong",{children:"Net Score per Hole:"})," Gross Strokes - Handicap Strokes on that hole",a.jsx("br",{})," ",a.jsx("strong",{children:"Handicap Strokes:"})," Allocated by hole difficulty (Stroke Index)",a.jsx("br",{})," ",a.jsx("strong",{children:"Course Handicap Formula:"})," Handicap Index  (Slope  113) + (Course Rating - Par)",a.jsx("br",{}),fe&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"This Course:"})," Example for 18 HCP = ",Math.round(18*(fe.slopeRating/113)+(fe.courseRating-fe.par))," strokes"]})]}):a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"USGA Net Scoring:"})," Net Score = Gross Score - Course Handicap (minimum 1)",a.jsx("br",{}),a.jsx("strong",{children:"Course Handicap"})," = Handicap Index  (Slope Rating  113) + (Course Rating - Par)",a.jsx("br",{}),fe&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"This Course:"})," Slope Rating ",fe.slopeRating,", Course Rating ",fe.courseRating]})]})}),a.jsx("div",{className:"scorecard-table-container",children:a.jsxs("table",{className:"scorecard-table",children:[a.jsxs("thead",{children:[a.jsxs("tr",{children:[a.jsx("th",{children:"Hole"}),Array.from({length:18},(E,A)=>a.jsx("th",{children:A+1},A)),a.jsx("th",{children:"Out"}),a.jsx("th",{children:"In"}),a.jsx("th",{children:"Total"})]}),a.jsxs("tr",{children:[a.jsx("th",{children:"Par"}),Te.map((E,A)=>a.jsx("th",{children:E.par},A)),a.jsx("th",{children:Te.slice(0,9).reduce((E,A)=>E+A.par,0)}),a.jsx("th",{children:Te.slice(9).reduce((E,A)=>E+A.par,0)}),a.jsx("th",{children:Te.reduce((E,A)=>E+A.par,0)})]}),a.jsxs("tr",{children:[a.jsx("th",{children:"HCP"}),Te.map((E,A)=>a.jsx("th",{children:E.hcp},A)),a.jsx("th",{}),a.jsx("th",{}),a.jsx("th",{})]})]}),a.jsx("tbody",{children:d.map(E=>{const A=u.find(ds=>ds.id===E),D=A?R(A.handicap,Sr):0,G=C(D,Te),ce=le(E,0,9,k&&N==="stroke",N==="stableford"),ee=le(E,9,18,k&&N==="stroke",N==="stableford"),Re=ce&&ee?ce+ee:"";return a.jsxs("tr",{children:[a.jsxs("td",{className:"font-medium",children:[A==null?void 0:A.name," ",A==null?void 0:A.surname,a.jsxs("div",{className:"text-xs text-gray-600",children:["HCP: ",A==null?void 0:A.handicap," | Course HCP: ",D]})]}),Array.from({length:18},(ds,gt)=>{var fs;const hs=(g[E]||[])[gt]||"",vt=parseInt(hs,10),nr=gt+1,cn=((fs=y[E])==null?void 0:fs[nr])||{},Fe=G[gt]||0;let we="score-par";if(!isNaN(vt)){const tt=Te[gt],ps=(tt==null?void 0:tt.par)||4;if(N==="stableford"){const yt=Math.max(1,vt-Fe),ms=ae(yt,ps);ms>=4?we="score-eagle":ms===3?we="score-birdie":ms===2?we="score-par":ms===1?we="score-bogey":we="score-double"}else{const yt=vt-ps;yt<=-2?we="score-eagle":yt===-1?we="score-birdie":yt===0?we="score-par":yt===1?we="score-bogey":yt>=2&&(we="score-double")}}return a.jsx("td",{className:we,children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("input",{type:"number",className:"form-control",value:hs,onChange:tt=>b(E,gt,tt.target.value),style:{width:"4rem",textAlign:"center"},min:"1",max:"12",placeholder:"1-12"}),N==="stableford"&&Fe>0&&a.jsxs("div",{className:"text-xs text-gray-600",children:["+",Fe]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("label",{className:"flex items-center text-xs cursor-pointer",title:"3-Putt",children:[a.jsx("input",{type:"checkbox",checked:cn.threePutt||!1,onChange:tt=>P(E,nr,"threePutt",tt.target.checked),className:"mr-1",style:{transform:"scale(0.8)"}}),"3P"]}),a.jsxs("label",{className:"flex items-center text-xs cursor-pointer",title:"Ring (Hit the Pin)",children:[a.jsx("input",{type:"checkbox",checked:cn.ring||!1,onChange:tt=>P(E,nr,"ring",tt.target.checked),className:"mr-1",style:{transform:"scale(0.8)"}}),a.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",border:"1px solid red",backgroundColor:"transparent"}})]})]})]})},gt)}),a.jsx("td",{className:"font-bold",children:ce}),a.jsx("td",{className:"font-bold",children:ee}),a.jsx("td",{className:"font-bold",children:N==="stableford"?a.jsx("div",{children:a.jsxs("div",{children:[Re," pts"]})}):k?a.jsxs("div",{children:[a.jsxs("div",{children:["Net: ",Re]}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Gross: ",le(E,0,18,!1,!1)]})]}):Re})]},E)})})]})})]})}),o&&d.length===0&&a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"Please select players to start recording scores."})})}),!o&&a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"Please select a course to start recording scores."})})})]})}function Kv(){const{userProfile:e,isAdmin:t}=un(),[r,n]=L.useState([]),[s,i]=L.useState([]),[o,l]=L.useState(null),[u,c]=L.useState(!0),[d,p]=L.useState(!1),[g,w]=L.useState(!1),[y,_]=L.useState(""),[j,m]=L.useState(""),[f,h]=L.useState({email:"",name:"",surname:"",handicap:18});L.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:C}=await J.getActiveTour();if(l(C),C){const{data:z}=await J.getTeams(C.id);n(z||[])}const{data:U}=await J.getUsers();i(U||[])}catch(C){console.error("Error loading teams data:",C)}finally{c(!1)}},S=async C=>{if(C.preventDefault(),!(!o||!y||!j))try{const{error:U}=await J.createTeam(o.id,y,j);U||(_(""),m(""),p(!1),v())}catch(U){console.error("Error creating team:",U)}},k=async C=>{C.preventDefault();try{const U=crypto.randomUUID(),{data:z,error:F}=await J.createUserProfile(U,f);F?(console.error("Error adding user:",F),alert("Error adding user: "+F.message)):(h({email:"",name:"",surname:"",handicap:18}),w(!1),v())}catch(U){console.error("Error adding user:",U),alert("Error adding user: "+U.message)}},x=async(C,U)=>{try{const z=r.find(q=>{var b;return(b=q.team_members)==null?void 0:b.some(P=>P.user.id===U)});if(z)if(window.confirm(`This user is already in team "${z.name}". Do you want to move them to this team?`))await J.removeTeamMember(z.id,U);else return;const{error:F}=await J.addTeamMember(C,U);F||v()}catch(z){console.error("Error adding team member:",z)}},N=async(C,U)=>{try{const{error:z}=await J.removeTeamMember(C,U);z||v()}catch(z){console.error("Error removing team member:",z)}},I=async(C,U)=>{try{const z=r.find(F=>{var q;return(q=F.team_members)==null?void 0:q.some(b=>b.user.id===C)});z&&await J.removeTeamMember(z.id,C),await J.addTeamMember(U,C),v()}catch(z){console.error("Error switching team:",z),alert("Error switching team: "+z.message)}},R=C=>{var z,F;const U=((F=(z=r.find(q=>q.id===C))==null?void 0:z.team_members)==null?void 0:F.map(q=>q.user.id))||[];return s.filter(q=>!U.includes(q.id))},W=C=>r.find(U=>{var z;return(z=U.team_members)==null?void 0:z.some(F=>F.user.id===C)}),ae=C=>r.filter(U=>{var q,b;const z=((q=U.team_members)==null?void 0:q.length)||0,F=(b=U.team_members)==null?void 0:b.some(P=>P.user.id===C);return z<4&&!F});return u?a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading teams..."})}):o?a.jsxs("section",{className:"page active",id:"teams",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h2",{children:["Teams - ",o.name," ",o.year]}),a.jsx("div",{className:"flex gap-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn--secondary",onClick:()=>w(!0),children:"Add User"}),a.jsx("button",{className:"btn btn--primary",onClick:()=>p(!0),children:"Create Team"})]})})]}),g&&a.jsx("div",{className:"card mb-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Add New User"}),a.jsxs("form",{onSubmit:k,className:"mt-4",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",value:f.email,onChange:C=>h({...f,email:C.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",className:"form-control",value:f.name,onChange:C=>h({...f,name:C.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",className:"form-control",value:f.surname,onChange:C=>h({...f,surname:C.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap (0-54)"}),a.jsx("input",{type:"number",className:"form-control",value:f.handicap,onChange:C=>h({...f,handicap:parseInt(C.target.value)}),min:"0",max:"54",required:!0})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Add User"}),a.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),d&&a.jsx("div",{className:"card mb-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Create New Team"}),a.jsxs("form",{onSubmit:S,className:"mt-4",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Team Name"}),a.jsx("input",{type:"text",className:"form-control",value:y,onChange:C=>_(C.target.value),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Captain"}),a.jsxs("select",{className:"form-control",value:j,onChange:C=>m(C.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select Captain"}),s.map(C=>a.jsxs("option",{value:C.id,children:[C.name," ",C.surname," (Handicap: ",C.handicap,")"]},C.id))]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Create Team"}),a.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(C=>{var U,z,F,q,b;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:C.name}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Captain"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium",children:[(U=C.captain)==null?void 0:U.name," ",(z=C.captain)==null?void 0:z.surname]}),a.jsx("span",{className:"text-sm text-gray-500",children:""})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:["Members (",((F=C.team_members)==null?void 0:F.length)||0,"/4)"]}),a.jsx("div",{className:"space-y-2",children:(q=C.team_members)==null?void 0:q.map(P=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm",children:[P.user.name," ",P.user.surname,a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",P.user.handicap,")"]})]}),(t||C.captain_id===(e==null?void 0:e.id))&&a.jsx("button",{className:"text-red-600 hover:text-red-800 text-sm",onClick:()=>N(C.id,P.user.id),children:"Remove"})]},P.user.id))})]}),(t||C.captain_id===(e==null?void 0:e.id))&&(((b=C.team_members)==null?void 0:b.length)||0)<4&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Add Member"}),a.jsxs("select",{className:"form-control text-sm",onChange:P=>{P.target.value&&(x(C.id,P.target.value),P.target.value="")},children:[a.jsx("option",{value:"",children:"Select player to add"}),R(C.id).map(P=>a.jsxs("option",{value:P.id,children:[P.name," ",P.surname," (Handicap: ",P.handicap,")"]},P.id))]})]})]})},C.id)})}),r.length===0&&a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body text-center",children:[a.jsx("p",{children:"No teams created yet."}),t&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'Click "Create Team" to get started.'})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("h3",{children:["All Users (",s.length,")"]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Name"}),a.jsx("th",{className:"text-left p-2",children:"Email"}),a.jsx("th",{className:"text-center p-2",children:"Handicap"}),a.jsx("th",{className:"text-left p-2",children:"Current Team"}),a.jsx("th",{className:"text-left p-2",children:"Switch Team"})]})}),a.jsx("tbody",{children:s.map(C=>{const U=W(C.id),z=ae(C.id);return a.jsxs("tr",{className:"border-b",children:[a.jsxs("td",{className:"p-2",children:[C.name," ",C.surname]}),a.jsx("td",{className:"p-2",children:C.email}),a.jsx("td",{className:"p-2 text-center",children:C.handicap}),a.jsx("td",{className:"p-2",children:U?a.jsx("span",{className:"text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded",children:U.name}):a.jsx("span",{className:"text-sm text-gray-500",children:"No team"})}),a.jsx("td",{className:"p-2",children:(t||(e==null?void 0:e.id)===C.id)&&z.length>0&&a.jsxs("select",{className:"form-control text-sm",onChange:F=>{F.target.value&&(I(C.id,F.target.value),F.target.value="")},children:[a.jsx("option",{value:"",children:U?"Switch to...":"Join team..."}),z.map(F=>{var q;return a.jsxs("option",{value:F.id,children:[F.name," (",((q=F.team_members)==null?void 0:q.length)||0,"/4)"]},F.id)})]})})]},C.id)})})]})})]})})]}):a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Teams"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"No active tour found. Please contact an administrator."})})})]})}function Qv(){const{userProfile:e,updateProfile:t}=un(),[r,n]=L.useState(!1),[s,i]=L.useState({name:"",surname:"",handicap:18}),[o,l]=L.useState([]),[u,c]=L.useState([]),[d,p]=L.useState(null),[g,w]=L.useState(!0);L.useEffect(()=>{e&&(i({name:e.name||"",surname:e.surname||"",handicap:e.handicap||18}),y())},[e]);const y=async()=>{try{const{data:f}=await J.getActiveTour();if(p(f),f&&e){const{data:h}=await J.getFines(f.id),v=(h==null?void 0:h.filter(x=>x.user_id===e.id))||[];c(v);const{data:S}=await J.getCourses(f.id),k=[];for(const x of S||[]){const{data:N}=await J.getScores(x.id,e.id);(N==null?void 0:N.length)>0&&k.push({course:x.name,scores:N,par:x.par})}l(k)}}catch(f){console.error("Error loading user data:",f)}finally{w(!1)}},_=async f=>{f.preventDefault();try{await t(s),n(!1)}catch(h){console.error("Error updating profile:",h)}},j=f=>{i({...s,[f.target.name]:f.target.value})},m=f=>f.reduce((h,v)=>h+v.strokes,0);return g?a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading profile..."})}):e?a.jsxs("section",{className:"page active",id:"profile",children:[a.jsx("h2",{children:"My Profile"}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{children:"Personal Information"}),a.jsx("button",{className:"btn btn--secondary",onClick:()=>n(!r),children:r?"Cancel":"Edit"})]}),r?a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",name:"name",className:"form-control",value:s.name,onChange:j,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",name:"surname",className:"form-control",value:s.surname,onChange:j,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap"}),a.jsx("input",{type:"number",name:"handicap",className:"form-control",value:s.handicap,onChange:j,min:"0",max:"54",required:!0})]}),a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Changes"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.name," ",e.surname]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",e.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Handicap:"})," ",e.handicap]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Member since:"})," ",new Date(e.created_at).toLocaleDateString()]})]})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Score History"}),o.length>0?a.jsx("div",{className:"mt-4 space-y-6",children:o.map((f,h)=>a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:f.course}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Hole"}),Array.from({length:18},(v,S)=>a.jsx("th",{className:"text-center p-1",children:S+1},S)),a.jsx("th",{className:"text-center p-2",children:"Total"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{className:"p-2 font-medium",children:"Score"}),Array.from({length:18},(v,S)=>{const k=f.scores.find(x=>x.hole_number===S+1);return a.jsx("td",{className:"text-center p-1",children:k?k.strokes:"-"},S)}),a.jsx("td",{className:"text-center p-2 font-bold",children:m(f.scores)})]})})]})})]},h))}):a.jsx("p",{className:"mt-4 text-gray-600",children:"No scores recorded yet."})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Fine History"}),u.length>0?a.jsxs("div",{className:"mt-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Date"}),a.jsx("th",{className:"text-left p-2",children:"Reason"}),a.jsx("th",{className:"text-left p-2",children:"Description"}),a.jsx("th",{className:"text-right p-2",children:"Amount"})]})}),a.jsx("tbody",{children:u.map(f=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:new Date(f.created_at).toLocaleDateString()}),a.jsx("td",{className:"p-2",children:f.reason}),a.jsx("td",{className:"p-2",children:f.description||"-"}),a.jsxs("td",{className:"p-2 text-right",children:["",f.amount]})]},f.id))})]}),a.jsx("div",{className:"mt-4 text-right",children:a.jsxs("strong",{children:["Total Fines: ",u.reduce((f,h)=>f+parseFloat(h.amount),0).toFixed(2)]})})]}):a.jsx("p",{className:"mt-4 text-gray-600",children:"No fines recorded yet. Keep it up!"})]})})]}):a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Profile"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"Please sign in to view your profile."})})})]})}function Jv(){const[e,t]=L.useState(()=>window.location.hash.replace("#","")||"home"),[r,n]=L.useState(!1),{user:s,loading:i}=un();if(L.useEffect(()=>{const l=()=>t(window.location.hash.replace("#","")||"home");return window.addEventListener("hashchange",l),()=>window.removeEventListener("hashchange",l)},[]),L.useEffect(()=>{window.location.hash=e},[e]),i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})]})});const o=()=>{switch(e){case"schedule":return a.jsx(Bv,{});case"courses":return a.jsx(Hv,{});case"fines":return s?a.jsx(Vv,{}):a.jsx(Ms,{});case"friday":return a.jsx(qv,{});case"scorecard":return s?a.jsx(Gv,{}):a.jsx(Ms,{});case"teams":return s?a.jsx(Kv,{}):a.jsx(Ms,{});case"profile":return s?a.jsx(Qv,{}):a.jsx(Ms,{});default:return a.jsx(zv,{})}};return a.jsxs(a.Fragment,{children:[a.jsx(Dv,{current:e,onNavigate:t,onAuthClick:()=>n(!0)}),a.jsx("main",{className:"container py-16",children:o()}),a.jsx($v,{isOpen:r,onClose:()=>n(!1)})]})}function Ms(){return a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body text-center",children:[a.jsx("h3",{className:"mb-4",children:"Authentication Required"}),a.jsx("p",{className:"text-gray-600",children:"Please sign in to access this page."})]})})}function Yv(){return a.jsx(Iv,{children:a.jsx(Jv,{})})}To.createRoot(document.getElementById("root")).render(a.jsx(sf.StrictMode,{children:a.jsx(Yv,{})}));
