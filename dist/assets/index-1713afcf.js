(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var gc={exports:{}},xi={},vc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),df=Symbol.for("react.portal"),hf=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),wf=Symbol.for("react.memo"),_f=Symbol.for("react.lazy"),zl=Symbol.iterator;function xf(e){return e===null||typeof e!="object"?null:(e=zl&&e[zl]||e["@@iterator"],typeof e=="function"?e:null)}var yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wc=Object.assign,_c={};function rr(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||yc}rr.prototype.isReactComponent={};rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xc(){}xc.prototype=rr.prototype;function Ta(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||yc}var Ca=Ta.prototype=new xc;Ca.constructor=Ta;wc(Ca,rr.prototype);Ca.isPureReactComponent=!0;var Fl=Array.isArray,Sc=Object.prototype.hasOwnProperty,Pa={current:null},jc={key:!0,ref:!0,__self:!0,__source:!0};function kc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Sc.call(t,r)&&!jc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ns,type:e,key:i,ref:o,props:s,_owner:Pa.current}}function Sf(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Aa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bl=/\/+/g;function Gi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jf(""+e.key):t.toString(36)}function Is(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case df:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Gi(o,0):r,Fl(s)?(n="",e!=null&&(n=e.replace(Bl,"$&/")+"/"),Is(s,t,n,"",function(c){return c})):s!=null&&(Aa(s)&&(s=Sf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Bl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Fl(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Gi(i,l);o+=Is(i,t,n,u,s)}else if(u=xf(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Gi(i,l++),o+=Is(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hs(e,t,n){if(e==null)return e;var r=[],s=0;return Is(e,r,"","",function(i){return t.call(n,i,s++)}),r}function kf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Ds={transition:null},Nf={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Pa};function Nc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:hs,forEach:function(e,t,n){hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hs(e,function(){t++}),t},toArray:function(e){return hs(e,function(t){return t})||[]},only:function(e){if(!Aa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=rr;G.Fragment=hf;G.Profiler=pf;G.PureComponent=Ta;G.StrictMode=ff;G.Suspense=yf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nf;G.act=Nc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Sc.call(t,u)&&!jc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ns,type:e.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mf,_context:e},e.Consumer=e};G.createElement=kc;G.createFactory=function(e){var t=kc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:vf,render:e}};G.isValidElement=Aa;G.lazy=function(e){return{$$typeof:_f,_payload:{_status:-1,_result:e},_init:kf}};G.memo=function(e,t){return{$$typeof:wf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};G.unstable_act=Nc;G.useCallback=function(e,t){return Pe.current.useCallback(e,t)};G.useContext=function(e){return Pe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Pe.current.useEffect(e,t)};G.useId=function(){return Pe.current.useId()};G.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Pe.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};G.useRef=function(e){return Pe.current.useRef(e)};G.useState=function(e){return Pe.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Pe.current.useTransition()};G.version="18.3.1";vc.exports=G;var A=vc.exports;const bf=uf(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=A,Tf=Symbol.for("react.element"),Cf=Symbol.for("react.fragment"),Pf=Object.prototype.hasOwnProperty,Af=Ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Of={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pf.call(t,r)&&!Of.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Tf,type:e,key:i,ref:o,props:s,_owner:Af.current}}xi.Fragment=Cf;xi.jsx=bc;xi.jsxs=bc;gc.exports=xi;var a=gc.exports,bo={},Ec={exports:{}},We={},Tc={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var B=C.length;C.push(O);e:for(;0<B;){var J=B-1>>>1,de=C[J];if(0<s(de,O))C[J]=O,C[B]=de,B=J;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],B=C.pop();if(B!==O){C[0]=B;e:for(var J=0,de=C.length,en=de>>>1;J<en;){var lt=2*(J+1)-1,Oe=C[lt],ut=lt+1,xn=C[ut];if(0>s(Oe,B))ut<de&&0>s(xn,Oe)?(C[J]=xn,C[ut]=B,J=ut):(C[J]=Oe,C[lt]=B,J=lt);else if(ut<de&&0>s(xn,B))C[J]=xn,C[ut]=B,J=ut;else break e}}return O}function s(C,O){var B=C.sortIndex-O.sortIndex;return B!==0?B:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,g=3,_=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=C)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function y(C){if(w=!1,h(C),!v)if(n(u)!==null)v=!0,M(j);else{var O=n(c);O!==null&&W(y,O.startTime-C)}}function j(C,O){v=!1,w&&(w=!1,m(E),E=-1),_=!0;var B=g;try{for(h(O),p=n(u);p!==null&&(!(p.expirationTime>O)||C&&!K());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var de=J(p.expirationTime<=O);O=e.unstable_now(),typeof de=="function"?p.callback=de:p===n(u)&&r(u),h(O)}else r(u);p=n(u)}if(p!==null)var en=!0;else{var lt=n(c);lt!==null&&W(y,lt.startTime-O),en=!1}return en}finally{p=null,g=B,_=!1}}var N=!1,x=null,E=-1,I=5,L=-1;function K(){return!(e.unstable_now()-L<I)}function ne(){if(x!==null){var C=e.unstable_now();L=C;var O=!0;try{O=x(!0,C)}finally{O?P():(N=!1,x=null)}}else N=!1}var P;if(typeof f=="function")P=function(){f(ne)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,z=R.port2;R.port1.onmessage=ne,P=function(){z.postMessage(null)}}else P=function(){k(ne,0)};function M(C){x=C,N||(N=!0,P())}function W(C,O){E=k(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||_||(v=!0,M(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var B=g;g=O;try{return C()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=g;g=C;try{return O()}finally{g=B}},e.unstable_scheduleCallback=function(C,O,B){var J=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,C){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=B+de,C={id:d++,callback:O,priorityLevel:C,startTime:B,expirationTime:de,sortIndex:-1},B>J?(C.sortIndex=B,t(c,C),n(u)===null&&C===n(c)&&(w?(m(E),E=-1):w=!0,W(y,B-J))):(C.sortIndex=de,t(u,C),v||_||(v=!0,M(j))),C},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(C){var O=g;return function(){var B=g;g=O;try{return C.apply(this,arguments)}finally{g=B}}}})(Cc);Tc.exports=Cc;var Rf=Tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=A,He=Rf;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pc=new Set,Ur={};function yn(e,t){Qn(e,t),Qn(e+"Capture",t)}function Qn(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Pc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=Object.prototype.hasOwnProperty,$f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hl={},Wl={};function If(e){return Eo.call(Wl,e)?!0:Eo.call(Hl,e)?!1:$f.test(e)?Wl[e]=!0:(Hl[e]=!0,!1)}function Df(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uf(e,t,n,r){if(t===null||typeof t>"u"||Df(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oa=/[\-:]([a-z])/g;function Ra(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oa,Ra);xe[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oa,Ra);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oa,Ra);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function La(e,t,n,r){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uf(t,n,s,r)&&(n=null),r||s===null?If(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),$a=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Ac=Symbol.for("react.provider"),Oc=Symbol.for("react.context"),Ia=Symbol.for("react.forward_ref"),Co=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Da=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Rc=Symbol.for("react.offscreen"),ql=Symbol.iterator;function dr(e){return e===null||typeof e!="object"?null:(e=ql&&e[ql]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ki;function _r(e){if(Ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ki=t&&t[1]||""}return`
`+Ki+e}var Qi=!1;function Ji(e,t){if(!e||Qi)return"";Qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function Mf(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=Ji(e.type,!1),e;case 11:return e=Ji(e.type.render,!1),e;case 1:return e=Ji(e.type,!0),e;default:return""}}function Ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Pn:return"Portal";case To:return"Profiler";case $a:return"StrictMode";case Co:return"Suspense";case Po:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oc:return(e.displayName||"Context")+".Consumer";case Ac:return(e._context.displayName||"Context")+".Provider";case Ia:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Da:return t=e.displayName||null,t!==null?t:Ao(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Ao(e(t))}catch{}}return null}function zf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ao(t);case 8:return t===$a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ff(e){var t=Lc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=Ff(e))}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Lc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oo(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ic(e,t){t=t.checked,t!=null&&La(e,"checked",t,!1)}function Ro(e,t){Ic(e,t);var n=Kt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lo(e,t,n){(t!=="number"||Qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function Bn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(xr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kt(n)}}function Dc(e,t){var n=Kt(t.value),r=Kt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ql(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Mc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bf=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){Bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});function zc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function Fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(e,t){if(t){if(Hf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=null;function Ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zo=null,Hn=null,Wn=null;function Jl(e){if(e=is(e)){if(typeof zo!="function")throw Error(T(280));var t=e.stateNode;t&&(t=bi(t),zo(e.stateNode,e.type,t))}}function Bc(e){Hn?Wn?Wn.push(e):Wn=[e]:Hn=e}function Hc(){if(Hn){var e=Hn,t=Wn;if(Wn=Hn=null,Jl(e),t)for(e=0;e<t.length;e++)Jl(t[e])}}function Wc(e,t){return e(t)}function qc(){}var Yi=!1;function Vc(e,t,n){if(Yi)return e(t,n);Yi=!0;try{return Wc(e,t,n)}finally{Yi=!1,(Hn!==null||Wn!==null)&&(qc(),Hc())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Fo=!1;if(kt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Fo=!1}function Wf(e,t,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Er=!1,Js=null,Ys=!1,Bo=null,qf={onError:function(e){Er=!0,Js=e}};function Vf(e,t,n,r,s,i,o,l,u){Er=!1,Js=null,Wf.apply(qf,arguments)}function Gf(e,t,n,r,s,i,o,l,u){if(Vf.apply(this,arguments),Er){if(Er){var c=Js;Er=!1,Js=null}else throw Error(T(198));Ys||(Ys=!0,Bo=c)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yl(e){if(wn(e)!==e)throw Error(T(188))}function Kf(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yl(s),e;if(i===r)return Yl(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Kc(e){return e=Kf(e),e!==null?Qc(e):null}function Qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qc(e);if(t!==null)return t;e=e.sibling}return null}var Jc=He.unstable_scheduleCallback,Xl=He.unstable_cancelCallback,Qf=He.unstable_shouldYield,Jf=He.unstable_requestPaint,ce=He.unstable_now,Yf=He.unstable_getCurrentPriorityLevel,Ma=He.unstable_ImmediatePriority,Yc=He.unstable_UserBlockingPriority,Xs=He.unstable_NormalPriority,Xf=He.unstable_LowPriority,Xc=He.unstable_IdlePriority,Si=null,ft=null;function Zf(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:np,ep=Math.log,tp=Math.LN2;function np(e){return e>>>=0,e===0?32:31-(ep(e)/tp|0)|0}var gs=64,vs=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Sr(l):(i&=o,i!==0&&(r=Sr(i)))}else o=n&~s,o!==0?r=Sr(o):i!==0&&(r=Sr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-it(t),s=1<<n,r|=e[n],t&=~s;return r}function rp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-it(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=rp(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function ip(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function za(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,Fa,nd,rd,sd,Wo=!1,ys=[],zt=null,Ft=null,Bt=null,Fr=new Map,Br=new Map,$t=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function fr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=is(t),t!==null&&Fa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ap(e,t,n,r,s){switch(t){case"focusin":return zt=fr(zt,e,t,n,r,s),!0;case"dragenter":return Ft=fr(Ft,e,t,n,r,s),!0;case"mouseover":return Bt=fr(Bt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fr.set(i,fr(Fr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Br.set(i,fr(Br.get(i)||null,e,t,n,r,s)),!0}return!1}function id(e){var t=ln(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Gc(n),t!==null){e.blockedOn=t,sd(e.priority,function(){nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mo=r,n.target.dispatchEvent(r),Mo=null}else return t=is(n),t!==null&&Fa(t),e.blockedOn=n,!1;t.shift()}return!0}function eu(e,t,n){Us(e)&&n.delete(t)}function lp(){Wo=!1,zt!==null&&Us(zt)&&(zt=null),Ft!==null&&Us(Ft)&&(Ft=null),Bt!==null&&Us(Bt)&&(Bt=null),Fr.forEach(eu),Br.forEach(eu)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,lp)))}function Hr(e){function t(s){return pr(s,e)}if(0<ys.length){pr(ys[0],e);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zt!==null&&pr(zt,e),Ft!==null&&pr(Ft,e),Bt!==null&&pr(Bt,e),Fr.forEach(t),Br.forEach(t),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)id(n),n.blockedOn===null&&$t.shift()}var qn=Tt.ReactCurrentBatchConfig,ei=!0;function up(e,t,n,r){var s=Y,i=qn.transition;qn.transition=null;try{Y=1,Ba(e,t,n,r)}finally{Y=s,qn.transition=i}}function cp(e,t,n,r){var s=Y,i=qn.transition;qn.transition=null;try{Y=4,Ba(e,t,n,r)}finally{Y=s,qn.transition=i}}function Ba(e,t,n,r){if(ei){var s=qo(e,t,n,r);if(s===null)lo(e,t,r,ti,n),Zl(e,r);else if(ap(s,e,t,n,r))r.stopPropagation();else if(Zl(e,r),t&4&&-1<op.indexOf(e)){for(;s!==null;){var i=is(s);if(i!==null&&td(i),i=qo(e,t,n,r),i===null&&lo(e,t,r,ti,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var ti=null;function qo(e,t,n,r){if(ti=null,e=Ua(r),e=ln(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yf()){case Ma:return 1;case Yc:return 4;case Xs:case Xf:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var Ut=null,Ha=null,Ms=null;function ad(){if(Ms)return Ms;var e,t=Ha,n=t.length,r,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ms=s.slice(e,1<r?1-r:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function tu(){return!1}function qe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ws:tu,this.isPropagationStopped=tu,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=qe(sr),ss=le({},sr,{view:0,detail:0}),dp=qe(ss),Zi,eo,mr,ji=le({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(Zi=e.screenX-mr.screenX,eo=e.screenY-mr.screenY):eo=Zi=0,mr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:eo}}),nu=qe(ji),hp=le({},ji,{dataTransfer:0}),fp=qe(hp),pp=le({},ss,{relatedTarget:0}),to=qe(pp),mp=le({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),gp=qe(mp),vp=le({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=qe(vp),wp=le({},sr,{data:0}),ru=qe(wp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sp[e])?!!t[e]:!1}function qa(){return jp}var kp=le({},ss,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Np=qe(kp),bp=le({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=qe(bp),Ep=le({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Tp=qe(Ep),Cp=le({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=qe(Cp),Ap=le({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=qe(Ap),Rp=[9,13,27,32],Va=kt&&"CompositionEvent"in window,Tr=null;kt&&"documentMode"in document&&(Tr=document.documentMode);var Lp=kt&&"TextEvent"in window&&!Tr,ld=kt&&(!Va||Tr&&8<Tr&&11>=Tr),iu=String.fromCharCode(32),ou=!1;function ud(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function $p(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(ou=!0,iu);case"textInput":return e=t.data,e===iu&&ou?null:e;default:return null}}function Ip(e,t){if(On)return e==="compositionend"||!Va&&ud(e,t)?(e=ad(),Ms=Ha=Ut=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dp[e.type]:t==="textarea"}function dd(e,t,n,r){Bc(r),t=ni(t,"onChange"),0<t.length&&(n=new Wa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cr=null,Wr=null;function Up(e){Sd(e,0)}function ki(e){var t=$n(e);if($c(t))return e}function Mp(e,t){if(e==="change")return t}var hd=!1;if(kt){var no;if(kt){var ro="oninput"in document;if(!ro){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),ro=typeof lu.oninput=="function"}no=ro}else no=!1;hd=no&&(!document.documentMode||9<document.documentMode)}function uu(){Cr&&(Cr.detachEvent("onpropertychange",fd),Wr=Cr=null)}function fd(e){if(e.propertyName==="value"&&ki(Wr)){var t=[];dd(t,Wr,e,Ua(e)),Vc(Up,t)}}function zp(e,t,n){e==="focusin"?(uu(),Cr=t,Wr=n,Cr.attachEvent("onpropertychange",fd)):e==="focusout"&&uu()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(Wr)}function Bp(e,t){if(e==="click")return ki(t)}function Hp(e,t){if(e==="input"||e==="change")return ki(t)}function Wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Wp;function qr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Eo.call(t,s)||!at(e[s],t[s]))return!1}return!0}function cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var n=cu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cu(n)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qp(e){var t=md(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pd(n.ownerDocument.documentElement,n)){if(r!==null&&Ga(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=du(n,i);var o=du(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vp=kt&&"documentMode"in document&&11>=document.documentMode,Rn=null,Vo=null,Pr=null,Go=!1;function hu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Go||Rn==null||Rn!==Qs(r)||(r=Rn,"selectionStart"in r&&Ga(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&qr(Pr,r)||(Pr=r,r=ni(Vo,"onSelect"),0<r.length&&(t=new Wa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function _s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},so={},gd={};kt&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function Ni(e){if(so[e])return so[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gd)return so[e]=t[n];return e}var vd=Ni("animationend"),yd=Ni("animationiteration"),wd=Ni("animationstart"),_d=Ni("transitionend"),xd=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){xd.set(e,t),yn(t,[e])}for(var io=0;io<fu.length;io++){var oo=fu[io],Gp=oo.toLowerCase(),Kp=oo[0].toUpperCase()+oo.slice(1);Jt(Gp,"on"+Kp)}Jt(vd,"onAnimationEnd");Jt(yd,"onAnimationIteration");Jt(wd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(_d,"onTransitionEnd");Qn("onMouseEnter",["mouseout","mouseover"]);Qn("onMouseLeave",["mouseout","mouseover"]);Qn("onPointerEnter",["pointerout","pointerover"]);Qn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gf(r,t,void 0,e),e.currentTarget=null}function Sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;pu(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;pu(s,l,c),i=u}}}if(Ys)throw e=Bo,Ys=!1,Bo=null,e}function re(e,t){var n=t[Xo];n===void 0&&(n=t[Xo]=new Set);var r=e+"__bubble";n.has(r)||(jd(t,e,2,!1),n.add(r))}function ao(e,t,n){var r=0;t&&(r|=4),jd(n,e,r,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[xs]){e[xs]=!0,Pc.forEach(function(n){n!=="selectionchange"&&(Qp.has(n)||ao(n,!1,e),ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,ao("selectionchange",!1,t))}}function jd(e,t,n,r){switch(od(t)){case 1:var s=up;break;case 4:s=cp;break;default:s=Ba}n=s.bind(null,t,n,e),s=void 0,!Fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ln(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Vc(function(){var c=i,d=Ua(n),p=[];e:{var g=xd.get(e);if(g!==void 0){var _=Wa,v=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":_=Np;break;case"focusin":v="focus",_=to;break;case"focusout":v="blur",_=to;break;case"beforeblur":case"afterblur":_=to;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Tp;break;case vd:case yd:case wd:_=gp;break;case _d:_=Pp;break;case"scroll":_=dp;break;case"wheel":_=Op;break;case"copy":case"cut":case"paste":_=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=su}var w=(t&4)!==0,k=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var f=c,h;f!==null;){h=f;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,m!==null&&(y=zr(f,m),y!=null&&w.push(Gr(f,y,h)))),k)break;f=f.return}0<w.length&&(g=new _(g,v,null,n,d),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==Mo&&(v=n.relatedTarget||n.fromElement)&&(ln(v)||v[Nt]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?ln(v):null,v!==null&&(k=wn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(w=nu,y="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=su,y="onPointerLeave",m="onPointerEnter",f="pointer"),k=_==null?g:$n(_),h=v==null?g:$n(v),g=new w(y,f+"leave",_,n,d),g.target=k,g.relatedTarget=h,y=null,ln(d)===c&&(w=new w(m,f+"enter",v,n,d),w.target=h,w.relatedTarget=k,y=w),k=y,_&&v)t:{for(w=_,m=v,f=0,h=w;h;h=jn(h))f++;for(h=0,y=m;y;y=jn(y))h++;for(;0<f-h;)w=jn(w),f--;for(;0<h-f;)m=jn(m),h--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=jn(w),m=jn(m)}w=null}else w=null;_!==null&&mu(p,g,_,w,!1),v!==null&&k!==null&&mu(p,k,v,w,!0)}}e:{if(g=c?$n(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var j=Mp;else if(au(g))if(hd)j=Hp;else{j=Fp;var N=zp}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=Bp);if(j&&(j=j(e,c))){dd(p,j,n,d);break e}N&&N(e,g,c),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Lo(g,"number",g.value)}switch(N=c?$n(c):window,e){case"focusin":(au(N)||N.contentEditable==="true")&&(Rn=N,Vo=c,Pr=null);break;case"focusout":Pr=Vo=Rn=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,hu(p,n,d);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":hu(p,n,d)}var x;if(Va)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else On?ud(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ld&&n.locale!=="ko"&&(On||E!=="onCompositionStart"?E==="onCompositionEnd"&&On&&(x=ad()):(Ut=d,Ha="value"in Ut?Ut.value:Ut.textContent,On=!0)),N=ni(c,E),0<N.length&&(E=new ru(E,e,null,n,d),p.push({event:E,listeners:N}),x?E.data=x:(x=cd(n),x!==null&&(E.data=x)))),(x=Lp?$p(e,n):Ip(e,n))&&(c=ni(c,"onBeforeInput"),0<c.length&&(d=new ru("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=x))}Sd(p,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zr(e,n),i!=null&&r.unshift(Gr(e,i,s)),i=zr(e,t),i!=null&&r.push(Gr(e,i,s))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=zr(n,i),u!=null&&o.unshift(Gr(n,u,l))):s||(u=zr(n,i),u!=null&&o.push(Gr(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Jp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function gu(e){return(typeof e=="string"?e:""+e).replace(Jp,`
`).replace(Yp,"")}function Ss(e,t,n){if(t=gu(t),gu(e)!==t&&n)throw Error(T(425))}function ri(){}var Ko=null,Qo=null;function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,Zp=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(e){return vu.resolve(null).then(e).catch(em)}:Yo;function em(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),ht="__reactFiber$"+ir,Kr="__reactProps$"+ir,Nt="__reactContainer$"+ir,Xo="__reactEvents$"+ir,tm="__reactListeners$"+ir,nm="__reactHandles$"+ir;function ln(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nt]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yu(e);e!==null;){if(n=e[ht])return n;e=yu(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[ht]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function bi(e){return e[Kr]||null}var Zo=[],In=-1;function Yt(e){return{current:e}}function se(e){0>In||(e.current=Zo[In],Zo[In]=null,In--)}function te(e,t){In++,Zo[In]=e.current,e.current=t}var Qt={},be=Yt(Qt),De=Yt(!1),fn=Qt;function Jn(e,t){var n=e.type.contextTypes;if(!n)return Qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function si(){se(De),se(be)}function wu(e,t,n){if(be.current!==Qt)throw Error(T(168));te(be,t),te(De,n)}function kd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,zf(e)||"Unknown",s));return le({},n,r)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,fn=be.current,te(be,e),te(De,De.current),!0}function _u(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=kd(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,se(De),se(be),te(be,e)):se(De),te(De,n)}var _t=null,Ei=!1,co=!1;function Nd(e){_t===null?_t=[e]:_t.push(e)}function rm(e){Ei=!0,Nd(e)}function Xt(){if(!co&&_t!==null){co=!0;var e=0,t=Y;try{var n=_t;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_t=null,Ei=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),Jc(Ma,Xt),s}finally{Y=t,co=!1}}return null}var Dn=[],Un=0,oi=null,ai=0,Ve=[],Ge=0,pn=null,xt=1,St="";function rn(e,t){Dn[Un++]=ai,Dn[Un++]=oi,oi=e,ai=t}function bd(e,t,n){Ve[Ge++]=xt,Ve[Ge++]=St,Ve[Ge++]=pn,pn=e;var r=xt;e=St;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xt=1<<32-it(t)+s|n<<s|r,St=i+e}else xt=1<<i|n<<s|r,St=e}function Ka(e){e.return!==null&&(rn(e,1),bd(e,1,0))}function Qa(e){for(;e===oi;)oi=Dn[--Un],Dn[Un]=null,ai=Dn[--Un],Dn[Un]=null;for(;e===pn;)pn=Ve[--Ge],Ve[Ge]=null,St=Ve[--Ge],Ve[Ge]=null,xt=Ve[--Ge],Ve[Ge]=null}var Be=null,Fe=null,ie=!1,st=null;function Ed(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Fe=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:xt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,Fe=null,!0):!1;default:return!1}}function ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ta(e){if(ie){var t=Fe;if(t){var n=t;if(!xu(e,t)){if(ea(e))throw Error(T(418));t=Ht(n.nextSibling);var r=Be;t&&xu(e,t)?Ed(r,n):(e.flags=e.flags&-4097|2,ie=!1,Be=e)}}else{if(ea(e))throw Error(T(418));e.flags=e.flags&-4097|2,ie=!1,Be=e}}}function Su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function js(e){if(e!==Be)return!1;if(!ie)return Su(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jo(e.type,e.memoizedProps)),t&&(t=Fe)){if(ea(e))throw Td(),Error(T(418));for(;t;)Ed(e,t),t=Ht(t.nextSibling)}if(Su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fe=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Be?Ht(e.stateNode.nextSibling):null;return!0}function Td(){for(var e=Fe;e;)e=Ht(e.nextSibling)}function Yn(){Fe=Be=null,ie=!1}function Ja(e){st===null?st=[e]:st.push(e)}var sm=Tt.ReactCurrentBatchConfig;function gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ju(e){var t=e._init;return t(e._payload)}function Cd(e){function t(m,f){if(e){var h=m.deletions;h===null?(m.deletions=[f],m.flags|=16):h.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Gt(m,f),m.index=0,m.sibling=null,m}function i(m,f,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<f?(m.flags|=2,f):h):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,h,y){return f===null||f.tag!==6?(f=yo(h,m.mode,y),f.return=m,f):(f=s(f,h),f.return=m,f)}function u(m,f,h,y){var j=h.type;return j===An?d(m,f,h.props.children,y,h.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ot&&ju(j)===f.type)?(y=s(f,h.props),y.ref=gr(m,f,h),y.return=m,y):(y=Gs(h.type,h.key,h.props,null,m.mode,y),y.ref=gr(m,f,h),y.return=m,y)}function c(m,f,h,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=wo(h,m.mode,y),f.return=m,f):(f=s(f,h.children||[]),f.return=m,f)}function d(m,f,h,y,j){return f===null||f.tag!==7?(f=hn(h,m.mode,y,j),f.return=m,f):(f=s(f,h),f.return=m,f)}function p(m,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=yo(""+f,m.mode,h),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fs:return h=Gs(f.type,f.key,f.props,null,m.mode,h),h.ref=gr(m,null,f),h.return=m,h;case Pn:return f=wo(f,m.mode,h),f.return=m,f;case Ot:var y=f._init;return p(m,y(f._payload),h)}if(xr(f)||dr(f))return f=hn(f,m.mode,h,null),f.return=m,f;ks(m,f)}return null}function g(m,f,h,y){var j=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return j!==null?null:l(m,f,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case fs:return h.key===j?u(m,f,h,y):null;case Pn:return h.key===j?c(m,f,h,y):null;case Ot:return j=h._init,g(m,f,j(h._payload),y)}if(xr(h)||dr(h))return j!==null?null:d(m,f,h,y,null);ks(m,h)}return null}function _(m,f,h,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(h)||null,l(f,m,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:return m=m.get(y.key===null?h:y.key)||null,u(f,m,y,j);case Pn:return m=m.get(y.key===null?h:y.key)||null,c(f,m,y,j);case Ot:var N=y._init;return _(m,f,h,N(y._payload),j)}if(xr(y)||dr(y))return m=m.get(h)||null,d(f,m,y,j,null);ks(f,y)}return null}function v(m,f,h,y){for(var j=null,N=null,x=f,E=f=0,I=null;x!==null&&E<h.length;E++){x.index>E?(I=x,x=null):I=x.sibling;var L=g(m,x,h[E],y);if(L===null){x===null&&(x=I);break}e&&x&&L.alternate===null&&t(m,x),f=i(L,f,E),N===null?j=L:N.sibling=L,N=L,x=I}if(E===h.length)return n(m,x),ie&&rn(m,E),j;if(x===null){for(;E<h.length;E++)x=p(m,h[E],y),x!==null&&(f=i(x,f,E),N===null?j=x:N.sibling=x,N=x);return ie&&rn(m,E),j}for(x=r(m,x);E<h.length;E++)I=_(x,m,E,h[E],y),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?E:I.key),f=i(I,f,E),N===null?j=I:N.sibling=I,N=I);return e&&x.forEach(function(K){return t(m,K)}),ie&&rn(m,E),j}function w(m,f,h,y){var j=dr(h);if(typeof j!="function")throw Error(T(150));if(h=j.call(h),h==null)throw Error(T(151));for(var N=j=null,x=f,E=f=0,I=null,L=h.next();x!==null&&!L.done;E++,L=h.next()){x.index>E?(I=x,x=null):I=x.sibling;var K=g(m,x,L.value,y);if(K===null){x===null&&(x=I);break}e&&x&&K.alternate===null&&t(m,x),f=i(K,f,E),N===null?j=K:N.sibling=K,N=K,x=I}if(L.done)return n(m,x),ie&&rn(m,E),j;if(x===null){for(;!L.done;E++,L=h.next())L=p(m,L.value,y),L!==null&&(f=i(L,f,E),N===null?j=L:N.sibling=L,N=L);return ie&&rn(m,E),j}for(x=r(m,x);!L.done;E++,L=h.next())L=_(x,m,E,L.value,y),L!==null&&(e&&L.alternate!==null&&x.delete(L.key===null?E:L.key),f=i(L,f,E),N===null?j=L:N.sibling=L,N=L);return e&&x.forEach(function(ne){return t(m,ne)}),ie&&rn(m,E),j}function k(m,f,h,y){if(typeof h=="object"&&h!==null&&h.type===An&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case fs:e:{for(var j=h.key,N=f;N!==null;){if(N.key===j){if(j=h.type,j===An){if(N.tag===7){n(m,N.sibling),f=s(N,h.props.children),f.return=m,m=f;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ot&&ju(j)===N.type){n(m,N.sibling),f=s(N,h.props),f.ref=gr(m,N,h),f.return=m,m=f;break e}n(m,N);break}else t(m,N);N=N.sibling}h.type===An?(f=hn(h.props.children,m.mode,y,h.key),f.return=m,m=f):(y=Gs(h.type,h.key,h.props,null,m.mode,y),y.ref=gr(m,f,h),y.return=m,m=y)}return o(m);case Pn:e:{for(N=h.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(m,f.sibling),f=s(f,h.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=wo(h,m.mode,y),f.return=m,m=f}return o(m);case Ot:return N=h._init,k(m,f,N(h._payload),y)}if(xr(h))return v(m,f,h,y);if(dr(h))return w(m,f,h,y);ks(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,h),f.return=m,m=f):(n(m,f),f=yo(h,m.mode,y),f.return=m,m=f),o(m)):n(m,f)}return k}var Xn=Cd(!0),Pd=Cd(!1),li=Yt(null),ui=null,Mn=null,Ya=null;function Xa(){Ya=Mn=ui=null}function Za(e){var t=li.current;se(li),e._currentValue=t}function na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vn(e,t){ui=e,Ya=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(Ya!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(ui===null)throw Error(T(308));Mn=e,ui.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var un=null;function el(e){un===null?un=[e]:un.push(e)}function Ad(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,el(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rt=!1;function tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,el(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,za(e,n)}}function ku(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,l=i;do{var g=l.lane,_=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(g=t,_=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(_,p,g);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(_,p,g):v,g==null)break e;p=le({},p,g);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=p):d=d.next=_,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gn|=o,e.lanes=o,e.memoizedState=p}}function Nu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var os={},pt=Yt(os),Qr=Yt(os),Jr=Yt(os);function cn(e){if(e===os)throw Error(T(174));return e}function nl(e,t){switch(te(Jr,t),te(Qr,e),te(pt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}se(pt),te(pt,t)}function Zn(){se(pt),se(Qr),se(Jr)}function Rd(e){cn(Jr.current);var t=cn(pt.current),n=Io(t,e.type);t!==n&&(te(Qr,e),te(pt,n))}function rl(e){Qr.current===e&&(se(pt),se(Qr))}var oe=Yt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function sl(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var Bs=Tt.ReactCurrentDispatcher,fo=Tt.ReactCurrentBatchConfig,mn=0,ae=null,fe=null,ge=null,hi=!1,Ar=!1,Yr=0,im=0;function je(){throw Error(T(321))}function il(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function ol(e,t,n,r,s,i){if(mn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bs.current=e===null||e.memoizedState===null?um:cm,e=n(r,s),Ar){i=0;do{if(Ar=!1,Yr=0,25<=i)throw Error(T(301));i+=1,ge=fe=null,t.updateQueue=null,Bs.current=dm,e=n(r,s)}while(Ar)}if(Bs.current=fi,t=fe!==null&&fe.next!==null,mn=0,ge=fe=ae=null,hi=!1,t)throw Error(T(300));return e}function al(){var e=Yr!==0;return Yr=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=e:ge=ge.next=e,ge}function Xe(){if(fe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ge===null?ae.memoizedState:ge.next;if(t!==null)ge=t,fe=e;else{if(e===null)throw Error(T(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?ae.memoizedState=ge=e:ge=ge.next=e}return ge}function Xr(e,t){return typeof t=="function"?t(e):t}function po(e){var t=Xe(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((mn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,ae.lanes|=d,gn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,at(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mo(e){var t=Xe(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);at(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ld(){}function $d(e,t){var n=ae,r=Xe(),s=t(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,ll(Ud.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Dd.bind(null,n,r,s,t),void 0,null),ve===null)throw Error(T(349));mn&30||Id(n,t,s)}return s}function Id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dd(e,t,n,r){t.value=n,t.getSnapshot=r,Md(t)&&zd(e)}function Ud(e,t,n){return n(function(){Md(t)&&zd(e)})}function Md(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function zd(e){var t=bt(e,1);t!==null&&ot(t,e,1,-1)}function bu(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},t.queue=e,e=e.dispatch=lm.bind(null,ae,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fd(){return Xe().memoizedState}function Hs(e,t,n,r){var s=dt();ae.flags|=e,s.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ti(e,t,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&il(r,o.deps)){s.memoizedState=Zr(t,n,i,r);return}}ae.flags|=e,s.memoizedState=Zr(1|t,n,i,r)}function Eu(e,t){return Hs(8390656,8,e,t)}function ll(e,t){return Ti(2048,8,e,t)}function Bd(e,t){return Ti(4,2,e,t)}function Hd(e,t){return Ti(4,4,e,t)}function Wd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4,4,Wd.bind(null,t,e),n)}function ul(){}function Vd(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&il(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gd(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&il(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kd(e,t,n){return mn&21?(at(n,t)||(n=Zc(),ae.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function om(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{Y=n,fo.transition=r}}function Qd(){return Xe().memoizedState}function am(e,t,n){var r=Vt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jd(e))Yd(t,n);else if(n=Ad(e,t,n,r),n!==null){var s=Ce();ot(n,e,r,s),Xd(n,t,r)}}function lm(e,t,n){var r=Vt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Yd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,at(l,o)){var u=t.interleaved;u===null?(s.next=s,el(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Ad(e,t,s,r),n!==null&&(s=Ce(),ot(n,e,r,s),Xd(n,t,r))}}function Jd(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Yd(e,t){Ar=hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,za(e,n)}}var fi={readContext:Ye,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},um={readContext:Ye,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:Eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hs(4194308,4,Wd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hs(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=am.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:bu,useDebugValue:ul,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=bu(!1),t=e[0];return e=om.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=dt();if(ie){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),ve===null)throw Error(T(349));mn&30||Id(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Eu(Ud.bind(null,r,i,e),[e]),r.flags|=2048,Zr(9,Dd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=ve.identifierPrefix;if(ie){var n=St,r=xt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=im++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cm={readContext:Ye,useCallback:Vd,useContext:Ye,useEffect:ll,useImperativeHandle:qd,useInsertionEffect:Bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:po,useRef:Fd,useState:function(){return po(Xr)},useDebugValue:ul,useDeferredValue:function(e){var t=Xe();return Kd(t,fe.memoizedState,e)},useTransition:function(){var e=po(Xr)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:Ld,useSyncExternalStore:$d,useId:Qd,unstable_isNewReconciler:!1},dm={readContext:Ye,useCallback:Vd,useContext:Ye,useEffect:ll,useImperativeHandle:qd,useInsertionEffect:Bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:mo,useRef:Fd,useState:function(){return mo(Xr)},useDebugValue:ul,useDeferredValue:function(e){var t=Xe();return fe===null?t.memoizedState=e:Kd(t,fe.memoizedState,e)},useTransition:function(){var e=mo(Xr)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:Ld,useSyncExternalStore:$d,useId:Qd,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ci={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Vt(e),i=jt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(ot(t,e,s,r),Fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Vt(e),i=jt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(ot(t,e,s,r),Fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Vt(e),s=jt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,r),t!==null&&(ot(t,e,r,n),Fs(t,e,r))}};function Tu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!qr(n,r)||!qr(s,i):!0}function Zd(e,t,n){var r=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ue(t)?fn:be.current,r=t.contextTypes,i=(r=r!=null)?Jn(e,s):Qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function sa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},tl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ue(t)?fn:be.current,s.context=Jn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ra(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ci.enqueueReplaceState(s,s.state,null),ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function er(e,t){try{var n="",r=t;do n+=Mf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hm=typeof WeakMap=="function"?WeakMap:Map;function eh(e,t,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){mi||(mi=!0,ma=r),ia(e,t)},n}function th(e,t,n){n=jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ia(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ia(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bm.bind(null,e,t,n),t.then(e,e))}function Au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ou(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var fm=Tt.ReactCurrentOwner,Ie=!1;function Te(e,t,n,r){t.child=e===null?Pd(t,null,n,r):Xn(t,e.child,n,r)}function Ru(e,t,n,r,s){n=n.render;var i=t.ref;return Vn(t,s),r=ol(e,t,n,r,i,s),n=al(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ie&&n&&Ka(t),t.flags|=1,Te(e,t,r,s),t.child)}function Lu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!vl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nh(e,t,i,r,s)):(e=Gs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(o,r)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(qr(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Et(e,t,s)}return oa(e,t,n,r,s)}function rh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Fn,ze),ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Fn,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(Fn,ze),ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(Fn,ze),ze|=r;return Te(e,t,s,n),t.child}function sh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,n,r,s){var i=Ue(n)?fn:be.current;return i=Jn(t,i),Vn(t,s),n=ol(e,t,n,r,i,s),r=al(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ie&&r&&Ka(t),t.flags|=1,Te(e,t,n,s),t.child)}function $u(e,t,n,r,s){if(Ue(n)){var i=!0;ii(t)}else i=!1;if(Vn(t,s),t.stateNode===null)Ws(e,t),Zd(t,n,r),sa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ue(n)?fn:be.current,c=Jn(t,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Cu(t,o,r,c),Rt=!1;var g=t.memoizedState;o.state=g,ci(t,r,o,s),u=t.memoizedState,l!==r||g!==u||De.current||Rt?(typeof d=="function"&&(ra(t,n,d,r),u=t.memoizedState),(l=Rt||Tu(t,n,l,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Od(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tt(t.type,l),o.props=c,p=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=Ue(n)?fn:be.current,u=Jn(t,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&Cu(t,o,r,u),Rt=!1,g=t.memoizedState,o.state=g,ci(t,r,o,s);var v=t.memoizedState;l!==p||g!==v||De.current||Rt?(typeof _=="function"&&(ra(t,n,_,r),v=t.memoizedState),(c=Rt||Tu(t,n,c,r,g,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return aa(e,t,n,r,i,s)}function aa(e,t,n,r,s,i){sh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_u(t,n,!1),Et(e,t,i);r=t.stateNode,fm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xn(t,e.child,null,i),t.child=Xn(t,null,l,i)):Te(e,t,l,i),t.memoizedState=r.state,s&&_u(t,n,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),nl(e,t.containerInfo)}function Iu(e,t,n,r,s){return Yn(),Ja(s),t.flags|=256,Te(e,t,n,r),t.child}var la={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,t,n){var r=t.pendingProps,s=oe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(oe,s&1),e===null)return ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oi(o,r,0,null),e=hn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ua(n),t.memoizedState=la,e):cl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gt(l,i):(i=hn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ua(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=la,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cl(e,t){return t=Oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,r){return r!==null&&Ja(r),Xn(t,e.child,null,n),e=cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=go(Error(T(422))),Ns(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Oi({mode:"visible",children:r.children},s,0,null),i=hn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Xn(t,e.child,null,o),t.child.memoizedState=ua(o),t.memoizedState=la,i);if(!(t.mode&1))return Ns(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=go(i,r,void 0),Ns(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ie||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),ot(r,e,s,-1))}return gl(),r=go(Error(T(421))),Ns(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Em.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=Ht(s.nextSibling),Be=t,ie=!0,st=null,e!==null&&(Ve[Ge++]=xt,Ve[Ge++]=St,Ve[Ge++]=pn,xt=e.id,St=e.overflow,pn=t),t=cl(t,r.children),t.flags|=4096,t)}function Du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),na(e.return,t,n)}function vo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ah(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Te(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Du(e,n,t);else if(e.tag===19)Du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(oe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&di(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&di(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vo(t,!0,n,null,i);break;case"together":vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mm(e,t,n){switch(t.tag){case 3:ih(t),Yn();break;case 5:Rd(t);break;case 1:Ue(t.type)&&ii(t);break;case 4:nl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?oh(e,t,n):(te(oe,oe.current&1),e=Et(e,t,n),e!==null?e.sibling:null);te(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ah(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,rh(e,t,n)}return Et(e,t,n)}var lh,ca,uh,ch;lh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ca=function(){};uh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cn(pt.current);var i=null;switch(n){case"input":s=Oo(e,s),r=Oo(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=$o(e,s),r=$o(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ri)}Do(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ur.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&re("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ch=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gm(e,t,n){var r=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Ue(t.type)&&si(),ke(t),null;case 3:return r=t.stateNode,Zn(),se(De),se(be),sl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(ya(st),st=null))),ca(e,t),ke(t),null;case 5:rl(t);var s=cn(Jr.current);if(n=t.type,e!==null&&t.stateNode!=null)uh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return ke(t),null}if(e=cn(pt.current),js(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[Kr]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)re(jr[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Vl(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":Kl(r,i),re("invalid",r)}Do(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,l,e),s=["children",""+l]):Ur.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":ps(r),Gl(r,i,!0);break;case"textarea":ps(r),Ql(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ri)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ht]=t,e[Kr]=r,lh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uo(n,r),n){case"dialog":re("cancel",e),re("close",e),s=r;break;case"iframe":case"object":case"embed":re("load",e),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)re(jr[s],e);s=r;break;case"source":re("error",e),s=r;break;case"img":case"image":case"link":re("error",e),re("load",e),s=r;break;case"details":re("toggle",e),s=r;break;case"input":Vl(e,r),s=Oo(e,r),re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),re("invalid",e);break;case"textarea":Kl(e,r),s=$o(e,r),re("invalid",e);break;default:s=r}Do(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Fc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Mc(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mr(e,u):typeof u=="number"&&Mr(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ur.hasOwnProperty(i)?u!=null&&i==="onScroll"&&re("scroll",e):u!=null&&La(e,i,u,o))}switch(n){case"input":ps(e),Gl(e,r,!1);break;case"textarea":ps(e),Ql(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Bn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Bn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)ch(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=cn(Jr.current),cn(pt.current),js(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:Ss(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return ke(t),null;case 13:if(se(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Fe!==null&&t.mode&1&&!(t.flags&128))Td(),Yn(),t.flags|=98560,i=!1;else if(i=js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[ht]=t}else Yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else st!==null&&(ya(st),st=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?pe===0&&(pe=3):gl())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Zn(),ca(e,t),e===null&&Vr(t.stateNode.containerInfo),ke(t),null;case 10:return Za(t.type._context),ke(t),null;case 17:return Ue(t.type)&&si(),ke(t),null;case 19:if(se(oe),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=di(e),o!==null){for(t.flags|=128,vr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>tr&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=di(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return ke(t),null}else 2*ce()-i.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=oe.current,te(oe,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return ml(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function vm(e,t){switch(Qa(t),t.tag){case 1:return Ue(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),se(De),se(be),sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rl(t),null;case 13:if(se(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(oe),null;case 4:return Zn(),null;case 10:return Za(t.type._context),null;case 22:case 23:return ml(),null;case 24:return null;default:return null}}var bs=!1,Ne=!1,ym=typeof WeakSet=="function"?WeakSet:Set,$=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Uu=!1;function wm(e,t){if(Ko=ei,e=md(),Ga(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=e,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===e)break t;if(g===n&&++c===s&&(l=o),g===i&&++d===r&&(u=o),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:e,selectionRange:n},ei=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:tt(t.type,w),k);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(y){ue(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Uu,Uu=!1,v}function Or(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&da(t,n,i)}s=s.next}while(s!==r)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ha(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Kr],delete t[Xo],delete t[tm],delete t[nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hh(e){return e.tag===5||e.tag===3||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(r!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}function pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}var we=null,nt=!1;function Pt(e,t,n){for(n=n.child;n!==null;)fh(e,t,n),n=n.sibling}function fh(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Si,n)}catch{}switch(n.tag){case 5:Ne||zn(n,t);case 6:var r=we,s=nt;we=null,Pt(e,t,n),we=r,nt=s,we!==null&&(nt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(nt?(e=we,n=n.stateNode,e.nodeType===8?uo(e.parentNode,n):e.nodeType===1&&uo(e,n),Hr(e)):uo(we,n.stateNode));break;case 4:r=we,s=nt,we=n.stateNode.containerInfo,nt=!0,Pt(e,t,n),we=r,nt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&da(n,t,o),s=s.next}while(s!==r)}Pt(e,t,n);break;case 1:if(!Ne&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,t,l)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Pt(e,t,n),Ne=r):Pt(e,t,n);break;default:Pt(e,t,n)}}function zu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ym),t.forEach(function(r){var s=Tm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,nt=!1;break e;case 3:we=l.stateNode.containerInfo,nt=!0;break e;case 4:we=l.stateNode.containerInfo,nt=!0;break e}l=l.return}if(we===null)throw Error(T(160));fh(i,o,s),we=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ue(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ph(t,e),t=t.sibling}function ph(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ct(e),r&4){try{Or(3,e,e.return),Pi(3,e)}catch(w){ue(e,e.return,w)}try{Or(5,e,e.return)}catch(w){ue(e,e.return,w)}}break;case 1:Ze(t,e),ct(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(Ze(t,e),ct(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var s=e.stateNode;try{Mr(s,"")}catch(w){ue(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ic(s,i),Uo(l,o);var c=Uo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?Fc(s,p):d==="dangerouslySetInnerHTML"?Mc(s,p):d==="children"?Mr(s,p):La(s,d,p,c)}switch(l){case"input":Ro(s,i);break;case"textarea":Dc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Bn(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?Bn(s,!!i.multiple,i.defaultValue,!0):Bn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kr]=i}catch(w){ue(e,e.return,w)}}break;case 6:if(Ze(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ue(e,e.return,w)}}break;case 3:if(Ze(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(w){ue(e,e.return,w)}break;case 4:Ze(t,e),ct(e);break;case 13:Ze(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fl=ce())),r&4&&zu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||d,Ze(t,e),Ne=c):Ze(t,e),ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(p=$=d;$!==null;){switch(g=$,_=g.child,g.tag){case 0:case 11:case 14:case 15:Or(4,g,g.return);break;case 1:zn(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ue(r,n,w)}}break;case 5:zn(g,g.return);break;case 22:if(g.memoizedState!==null){Bu(p);continue}}_!==null?(_.return=g,$=_):Bu(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=zc("display",o))}catch(w){ue(e,e.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){ue(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ze(t,e),ct(e),r&4&&zu(e);break;case 21:break;default:Ze(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hh(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mr(s,""),r.flags&=-33);var i=Mu(e);pa(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Mu(e);fa(e,l,o);break;default:throw Error(T(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _m(e,t,n){$=e,mh(e)}function mh(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bs;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ne;l=bs;var c=Ne;if(bs=o,(Ne=u)&&!c)for($=s;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?Hu(s):u!==null?(u.return=o,$=u):Hu(s);for(;i!==null;)$=i,mh(i),i=i.sibling;$=s,bs=l,Ne=c}Fu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Fu(e)}}function Fu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Hr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ne||t.flags&512&&ha(t)}catch(g){ue(t,t.return,g)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Bu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Hu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ue(t,s,u)}}var i=t.return;try{ha(t)}catch(u){ue(t,i,u)}break;case 5:var o=t.return;try{ha(t)}catch(u){ue(t,o,u)}}}catch(u){ue(t,t.return,u)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var xm=Math.ceil,pi=Tt.ReactCurrentDispatcher,dl=Tt.ReactCurrentOwner,Qe=Tt.ReactCurrentBatchConfig,Q=0,ve=null,he=null,_e=0,ze=0,Fn=Yt(0),pe=0,es=null,gn=0,Ai=0,hl=0,Rr=null,Le=null,fl=0,tr=1/0,yt=null,mi=!1,ma=null,qt=null,Es=!1,Mt=null,gi=0,Lr=0,ga=null,qs=-1,Vs=0;function Ce(){return Q&6?ce():qs!==-1?qs:qs=ce()}function Vt(e){return e.mode&1?Q&2&&_e!==0?_e&-_e:sm.transition!==null?(Vs===0&&(Vs=Zc()),Vs):(e=Y,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e):1}function ot(e,t,n,r){if(50<Lr)throw Lr=0,ga=null,Error(T(185));rs(e,n,r),(!(Q&2)||e!==ve)&&(e===ve&&(!(Q&2)&&(Ai|=n),pe===4&&It(e,_e)),Me(e,r),n===1&&Q===0&&!(t.mode&1)&&(tr=ce()+500,Ei&&Xt()))}function Me(e,t){var n=e.callbackNode;sp(e,t);var r=Zs(e,e===ve?_e:0);if(r===0)n!==null&&Xl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xl(n),t===1)e.tag===0?rm(Wu.bind(null,e)):Nd(Wu.bind(null,e)),Zp(function(){!(Q&6)&&Xt()}),n=null;else{switch(ed(r)){case 1:n=Ma;break;case 4:n=Yc;break;case 16:n=Xs;break;case 536870912:n=Xc;break;default:n=Xs}n=jh(n,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gh(e,t){if(qs=-1,Vs=0,Q&6)throw Error(T(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var r=Zs(e,e===ve?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vi(e,r);else{t=r;var s=Q;Q|=2;var i=yh();(ve!==e||_e!==t)&&(yt=null,tr=ce()+500,dn(e,t));do try{km();break}catch(l){vh(e,l)}while(1);Xa(),pi.current=i,Q=s,he!==null?t=0:(ve=null,_e=0,t=pe)}if(t!==0){if(t===2&&(s=Ho(e),s!==0&&(r=s,t=va(e,s))),t===1)throw n=es,dn(e,0),It(e,r),Me(e,ce()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!Sm(s)&&(t=vi(e,r),t===2&&(i=Ho(e),i!==0&&(r=i,t=va(e,i))),t===1))throw n=es,dn(e,0),It(e,r),Me(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:sn(e,Le,yt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=fl+500-ce(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yo(sn.bind(null,e,Le,yt),t);break}sn(e,Le,yt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xm(r/1960))-r,10<r){e.timeoutHandle=Yo(sn.bind(null,e,Le,yt),r);break}sn(e,Le,yt);break;case 5:sn(e,Le,yt);break;default:throw Error(T(329))}}}return Me(e,ce()),e.callbackNode===n?gh.bind(null,e):null}function va(e,t){var n=Rr;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=vi(e,t),e!==2&&(t=Le,Le=n,t!==null&&ya(t)),e}function ya(e){Le===null?Le=e:Le.push.apply(Le,e)}function Sm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~hl,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function Wu(e){if(Q&6)throw Error(T(327));Gn();var t=Zs(e,0);if(!(t&1))return Me(e,ce()),null;var n=vi(e,t);if(e.tag!==0&&n===2){var r=Ho(e);r!==0&&(t=r,n=va(e,r))}if(n===1)throw n=es,dn(e,0),It(e,t),Me(e,ce()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Le,yt),Me(e,ce()),null}function pl(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(tr=ce()+500,Ei&&Xt())}}function vn(e){Mt!==null&&Mt.tag===0&&!(Q&6)&&Gn();var t=Q;Q|=1;var n=Qe.transition,r=Y;try{if(Qe.transition=null,Y=1,e)return e()}finally{Y=r,Qe.transition=n,Q=t,!(Q&6)&&Xt()}}function ml(){ze=Fn.current,se(Fn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xp(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(Qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&si();break;case 3:Zn(),se(De),se(be),sl();break;case 5:rl(r);break;case 4:Zn();break;case 13:se(oe);break;case 19:se(oe);break;case 10:Za(r.type._context);break;case 22:case 23:ml()}n=n.return}if(ve=e,he=e=Gt(e.current,null),_e=ze=t,pe=0,es=null,hl=Ai=gn=0,Le=Rr=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}un=null}return e}function vh(e,t){do{var n=he;try{if(Xa(),Bs.current=fi,hi){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hi=!1}if(mn=0,ge=fe=ae=null,Ar=!1,Yr=0,dl.current=null,n===null||n.return===null){pe=1,es=t,he=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=_e,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Au(o);if(_!==null){_.flags&=-257,Ou(_,o,l,i,t),_.mode&1&&Pu(i,c,t),t=_,u=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(u),t.updateQueue=w}else v.add(u);break e}else{if(!(t&1)){Pu(i,c,t),gl();break e}u=Error(T(426))}}else if(ie&&l.mode&1){var k=Au(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ou(k,o,l,i,t),Ja(er(u,l));break e}}i=u=er(u,l),pe!==4&&(pe=2),Rr===null?Rr=[i]:Rr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=eh(i,u,t);ku(i,m);break e;case 1:l=u;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(qt===null||!qt.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=th(i,l,t);ku(i,y);break e}}i=i.return}while(i!==null)}_h(n)}catch(j){t=j,he===n&&n!==null&&(he=n=n.return);continue}break}while(1)}function yh(){var e=pi.current;return pi.current=fi,e===null?fi:e}function gl(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(gn&268435455)&&!(Ai&268435455)||It(ve,_e)}function vi(e,t){var n=Q;Q|=2;var r=yh();(ve!==e||_e!==t)&&(yt=null,dn(e,t));do try{jm();break}catch(s){vh(e,s)}while(1);if(Xa(),Q=n,pi.current=r,he!==null)throw Error(T(261));return ve=null,_e=0,pe}function jm(){for(;he!==null;)wh(he)}function km(){for(;he!==null&&!Qf();)wh(he)}function wh(e){var t=Sh(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?_h(e):he=t,dl.current=null}function _h(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vm(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,he=null;return}}else if(n=gm(n,t,ze),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);pe===0&&(pe=5)}function sn(e,t,n){var r=Y,s=Qe.transition;try{Qe.transition=null,Y=1,Nm(e,t,n,r)}finally{Qe.transition=s,Y=r}return null}function Nm(e,t,n,r){do Gn();while(Mt!==null);if(Q&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ip(e,i),e===ve&&(he=ve=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Es||(Es=!0,jh(Xs,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=Y;Y=1;var l=Q;Q|=4,dl.current=null,wm(e,n),ph(n,e),qp(Qo),ei=!!Ko,Qo=Ko=null,e.current=n,_m(n),Jf(),Q=l,Y=o,Qe.transition=i}else e.current=n;if(Es&&(Es=!1,Mt=e,gi=s),i=e.pendingLanes,i===0&&(qt=null),Zf(n.stateNode),Me(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mi)throw mi=!1,e=ma,ma=null,e;return gi&1&&e.tag!==0&&Gn(),i=e.pendingLanes,i&1?e===ga?Lr++:(Lr=0,ga=e):Lr=0,Xt(),null}function Gn(){if(Mt!==null){var e=ed(gi),t=Qe.transition,n=Y;try{if(Qe.transition=null,Y=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,gi=0,Q&6)throw Error(T(331));var s=Q;for(Q|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Or(8,d,i)}var p=d.child;if(p!==null)p.return=d,$=p;else for(;$!==null;){d=$;var g=d.sibling,_=d.return;if(dh(d),d===c){$=null;break}if(g!==null){g.return=_,$=g;break}$=_}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,$=m;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,$=h;else e:for(o=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pi(9,l)}}catch(j){ue(l,l.return,j)}if(l===o){$=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,$=y;break e}$=l.return}}if(Q=s,Xt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Si,e)}catch{}r=!0}return r}finally{Y=n,Qe.transition=t}}return!1}function qu(e,t,n){t=er(n,t),t=eh(e,t,1),e=Wt(e,t,1),t=Ce(),e!==null&&(rs(e,1,t),Me(e,t))}function ue(e,t,n){if(e.tag===3)qu(e,e,n);else for(;t!==null;){if(t.tag===3){qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=er(n,e),e=th(t,e,1),t=Wt(t,e,1),e=Ce(),t!==null&&(rs(t,1,e),Me(t,e));break}}t=t.return}}function bm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(_e&n)===n&&(pe===4||pe===3&&(_e&130023424)===_e&&500>ce()-fl?dn(e,0):hl|=n),Me(e,t)}function xh(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var n=Ce();e=bt(e,t),e!==null&&(rs(e,t,n),Me(e,n))}function Em(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xh(e,n)}function Tm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),xh(e,n)}var Sh;Sh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,mm(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,ie&&t.flags&1048576&&bd(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var s=Jn(t,be.current);Vn(t,n),s=ol(null,t,r,e,s,n);var i=al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(i=!0,ii(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tl(t),s.updater=Ci,t.stateNode=s,s._reactInternals=t,sa(t,r,e,n),t=aa(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&Ka(t),Te(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Pm(r),e=tt(r,e),s){case 0:t=oa(null,t,r,e,n);break e;case 1:t=$u(null,t,r,e,n);break e;case 11:t=Ru(null,t,r,e,n);break e;case 14:t=Lu(null,t,r,tt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),oa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),$u(e,t,r,s,n);case 3:e:{if(ih(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Od(e,t),ci(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=er(Error(T(423)),t),t=Iu(e,t,r,n,s);break e}else if(r!==s){s=er(Error(T(424)),t),t=Iu(e,t,r,n,s);break e}else for(Fe=Ht(t.stateNode.containerInfo.firstChild),Be=t,ie=!0,st=null,n=Pd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),r===s){t=Et(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return Rd(t),e===null&&ta(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jo(r,s)?o=null:i!==null&&Jo(r,i)&&(t.flags|=32),sh(e,t),Te(e,t,o,n),t.child;case 6:return e===null&&ta(t),null;case 13:return oh(e,t,n);case 4:return nl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xn(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Ru(e,t,r,s,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(li,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!De.current){t=Et(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=jt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),na(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),na(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vn(t,n),s=Ye(s),r=r(s),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,s=tt(r,t.pendingProps),s=tt(r.type,s),Lu(e,t,r,s,n);case 15:return nh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Ws(e,t),t.tag=1,Ue(r)?(e=!0,ii(t)):e=!1,Vn(t,n),Zd(t,r,s),sa(t,r,s,n),aa(null,t,r,!0,e,n);case 19:return ah(e,t,n);case 22:return rh(e,t,n)}throw Error(T(156,t.tag))};function jh(e,t){return Jc(e,t)}function Cm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new Cm(e,t,n,r)}function vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pm(e){if(typeof e=="function")return vl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ia)return 11;if(e===Da)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")vl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case An:return hn(n.children,s,i,t);case $a:o=8,s|=8;break;case To:return e=Ke(12,n,t,s|2),e.elementType=To,e.lanes=i,e;case Co:return e=Ke(13,n,t,s),e.elementType=Co,e.lanes=i,e;case Po:return e=Ke(19,n,t,s),e.elementType=Po,e.lanes=i,e;case Rc:return Oi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ac:o=10;break e;case Oc:o=9;break e;case Ia:o=11;break e;case Da:o=14;break e;case Ot:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ke(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hn(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function Oi(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=Rc,e.lanes=n,e.stateNode={isHidden:!1},e}function yo(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function wo(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Am(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yl(e,t,n,r,s,i,o,l,u){return e=new Am(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tl(i),e}function Om(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kh(e){if(!e)return Qt;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ue(n))return kd(e,n,t)}return t}function Nh(e,t,n,r,s,i,o,l,u){return e=yl(n,r,!0,e,s,i,o,l,u),e.context=kh(null),n=e.current,r=Ce(),s=Vt(n),i=jt(r,s),i.callback=t??null,Wt(n,i,s),e.current.lanes=s,rs(e,s,r),Me(e,r),e}function Ri(e,t,n,r){var s=t.current,i=Ce(),o=Vt(s);return n=kh(n),t.context===null?t.context=n:t.pendingContext=n,t=jt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wt(s,t,o),e!==null&&(ot(e,s,o,i),Fs(e,s,o)),o}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wl(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function Rm(){return null}var bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _l(e){this._internalRoot=e}Li.prototype.render=_l.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ri(e,t,null,null)};Li.prototype.unmount=_l.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){Ri(null,e,null,null)}),t[Nt]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&id(e)}};function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gu(){}function Lm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yi(o);i.call(c)}}var o=Nh(t,r,e,0,null,!1,!1,"",Gu);return e._reactRootContainer=o,e[Nt]=o.current,Vr(e.nodeType===8?e.parentNode:e),vn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=yi(u);l.call(c)}}var u=yl(e,0,!1,null,null,!1,!1,"",Gu);return e._reactRootContainer=u,e[Nt]=u.current,Vr(e.nodeType===8?e.parentNode:e),vn(function(){Ri(t,u,n,r)}),u}function Ii(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=yi(o);l.call(u)}}Ri(t,o,e,s)}else o=Lm(n,t,e,s,r);return yi(o)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(za(t,n|1),Me(t,ce()),!(Q&6)&&(tr=ce()+500,Xt()))}break;case 13:vn(function(){var r=bt(e,1);if(r!==null){var s=Ce();ot(r,e,1,s)}}),wl(e,1)}};Fa=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Ce();ot(t,e,134217728,n)}wl(e,134217728)}};nd=function(e){if(e.tag===13){var t=Vt(e),n=bt(e,t);if(n!==null){var r=Ce();ot(n,e,t,r)}wl(e,t)}};rd=function(){return Y};sd=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};zo=function(e,t,n){switch(t){case"input":if(Ro(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bi(r);if(!s)throw Error(T(90));$c(r),Ro(r,s)}}}break;case"textarea":Dc(e,n);break;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}};Wc=pl;qc=vn;var $m={usingClientEntryPoint:!1,Events:[is,$n,bi,Bc,Hc,pl]},yr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Im={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kc(e),e===null?null:e.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||Rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Si=Ts.inject(Im),ft=Ts}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$m;We.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xl(t))throw Error(T(200));return Om(e,t,null,n)};We.createRoot=function(e,t){if(!xl(e))throw Error(T(299));var n=!1,r="",s=bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=yl(e,1,!1,null,null,n,!1,r,s),e[Nt]=t.current,Vr(e.nodeType===8?e.parentNode:e),new _l(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Kc(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return vn(e)};We.hydrate=function(e,t,n){if(!$i(t))throw Error(T(200));return Ii(null,e,t,!0,n)};We.hydrateRoot=function(e,t,n){if(!xl(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Nh(t,null,e,1,n??null,s,!1,i,o),e[Nt]=t.current,Vr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Li(t)};We.render=function(e,t,n){if(!$i(t))throw Error(T(200));return Ii(null,e,t,!1,n)};We.unmountComponentAtNode=function(e){if(!$i(e))throw Error(T(40));return e._reactRootContainer?(vn(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};We.unstable_batchedUpdates=pl;We.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$i(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ii(e,t,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eh)}catch(e){console.error(e)}}Eh(),Ec.exports=We;var Dm=Ec.exports,Ku=Dm;bo.createRoot=Ku.createRoot,bo.hydrateRoot=Ku.hydrateRoot;const Um="modulepreload",Mm=function(e){return"/"+e},Qu={},as=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Mm(i),i in Qu)return;Qu[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const p=s[d];if(p.href===i&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Um,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},zm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>or),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fm extends Sl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bm extends Sl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hm extends Sl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wa||(wa={}));var Wm=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class qm{constructor(t,{headers:n={},customFetch:r,region:s=wa.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Wm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(v=>{throw new Fm(v)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new Bm(d);if(!d.ok)throw new Hm(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield d.json():g==="application/octet-stream"?_=yield d.blob():g==="text/event-stream"?_=d:g==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null}}catch(s){return{data:null,error:s}}})}}var $e={},jl={},Di={},ls={},Ui={},Mi={},Vm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nr=Vm();const Gm=nr.fetch,Th=nr.fetch.bind(nr),Ch=nr.Headers,Km=nr.Request,Qm=nr.Response,or=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ch,Request:Km,Response:Qm,default:Th,fetch:Gm},Symbol.toStringTag,{value:"Module"})),Jm=cf(or);var zi={};Object.defineProperty(zi,"__esModule",{value:!0});let Ym=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zi.default=Ym;var Ph=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const Xm=Ph(Jm),Zm=Ph(zi);let eg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Xm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,p=null,g=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&k&&k.length>1&&(p=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,g=200,_="OK")}catch{i.status===404&&w===""?(g=204,_="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,g=200,_="OK"),c&&this.shouldThrowOnError)throw new Zm.default(c)}return{error:c,data:d,count:p,status:g,statusText:_}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Mi.default=eg;var tg=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const ng=tg(Mi);let rg=class extends ng.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ui.default=rg;var sg=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});const ig=sg(Ui);let og=class extends ig.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ls.default=og;var ag=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const wr=ag(ls);let lg=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new wr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new wr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new wr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Di.default=lg;var Fi={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.version=void 0;Bi.version="0.0.0-automated";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.DEFAULT_HEADERS=void 0;const ug=Bi;Fi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ug.version}`};var Ah=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jl,"__esModule",{value:!0});const cg=Ah(Di),dg=Ah(ls),hg=Fi;let fg=class Oh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new cg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Oh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(o="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new dg.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};jl.default=fg;var ar=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const Rh=ar(jl);$e.PostgrestClient=Rh.default;const Lh=ar(Di);$e.PostgrestQueryBuilder=Lh.default;const $h=ar(ls);$e.PostgrestFilterBuilder=$h.default;const Ih=ar(Ui);$e.PostgrestTransformBuilder=Ih.default;const Dh=ar(Mi);$e.PostgrestBuilder=Dh.default;const Uh=ar(zi);$e.PostgrestError=Uh.default;var pg=$e.default={PostgrestClient:Rh.default,PostgrestQueryBuilder:Lh.default,PostgrestFilterBuilder:$h.default,PostgrestTransformBuilder:Ih.default,PostgrestBuilder:Dh.default,PostgrestError:Uh.default};const{PostgrestClient:mg,PostgrestQueryBuilder:ky,PostgrestFilterBuilder:Ny,PostgrestTransformBuilder:by,PostgrestBuilder:Ey,PostgrestError:Ty}=pg;let _a;typeof window>"u"?_a=require("ws"):_a=window.WebSocket;const gg=_a,vg="2.11.10",yg={"X-Client-Info":`realtime-js/${vg}`},wg="1.0.0",Mh=1e4,_g=1e3;var Kn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kn||(Kn={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var xa;(function(e){e.websocket="websocket"})(xa||(xa={}));var an;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(an||(an={}));class xg{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const u=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class zh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const Ju=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Sg(o,e,t,s),i),{})},Sg=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Fh(i,o):Sa(o)},Fh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return bg(t,n)}switch(e){case ee.bool:return jg(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return kg(t);case ee.json:case ee.jsonb:return Ng(t);case ee.timestamp:return Eg(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Sa(t);default:return Sa(t)}},Sa=e=>e,jg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ng=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Fh(t,l))}return e},Eg=e=>typeof e=="string"?e.replace(" ","T"):e,Bh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _o{constructor(t,n,r={},s=Mh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yu||(Yu={}));class $r{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=$r.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$r.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const p=i[c];if(p){const g=d.map(k=>k.presence_ref),_=p.map(k=>k.presence_ref),v=d.filter(k=>_.indexOf(k.presence_ref)<0),w=p.filter(k=>g.indexOf(k.presence_ref)<0);v.length>0&&(l[c]=v),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const p=t[l].map(_=>_.presence_ref),g=d.filter(_=>p.indexOf(_.presence_ref)<0);t[l].unshift(...g)}r(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xu||(Xu={}));var Zu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zu||(Zu={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class kl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _o(this,rt.join,this.params,this.timeout),this.rejoinTimer=new zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $r(this),this.broadcastEndpointURL=Bh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(wt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(wt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let w=0;w<_;w++){const k=g[w],{filter:{event:m,schema:f,table:h,filter:y}}=k,j=d&&d[w];if(j&&j.event===m&&j.schema===f&&j.table===h&&j.filter===y)v.push(Object.assign(Object.assign({},k),{id:j.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(wt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ee.errored,t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new _o(this,rt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _o(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=rt;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var v,w,k;return((v=_.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=_.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(_=>_.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var v,w,k,m,f,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const y=_.id,j=(v=_.filter)===null||v===void 0?void 0:v.event;return y&&((w=n.ids)===null||w===void 0?void 0:w.includes(y))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(f=(m=_==null?void 0:_.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((h=n==null?void 0:n.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:w,table:k,commit_timestamp:m,type:f,errors:h}=v;g=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:f,new:{},old:{},errors:h}),this._getPayloadRecords(v))}_.callback(g,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kl.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ju(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ju(t.columns,t.old_record)),n}}const ec=()=>{},Tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cg{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=yg,this.params={},this.timeout=Mh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ec,this.ref=0,this.logger=ec,this.conn=null,this.sendBuffer=[],this.serializer=new xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>as(()=>Promise.resolve().then(()=>or),void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${xa.websocket}`,this.httpEndpoint=Bh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Pg(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wg}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kn.connecting:return an.Connecting;case Kn.open:return an.Open;case Kn.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new kl(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_g,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Tg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Pg{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Nl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ag extends Nl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ja extends Nl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Og=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>or),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rg=()=>Og(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>or),void 0)).Response:Response}),ka=e=>{if(Array.isArray(e))return e.map(n=>ka(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ka(r)}),t};var _n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const xo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lg=(e,t,n)=>_n(void 0,void 0,void 0,function*(){const r=yield Rg();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Ag(xo(s),e.status||500))}).catch(s=>{t(new ja(xo(s),s))}):t(new ja(xo(e),e))}),$g=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function us(e,t,n,r,s,i){return _n(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,$g(t,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Lg(u,l,r))})})}function wi(e,t,n,r){return _n(this,void 0,void 0,function*(){return us(e,"GET",t,n,r)})}function Lt(e,t,n,r,s){return _n(this,void 0,void 0,function*(){return us(e,"POST",t,r,s,n)})}function Ig(e,t,n,r,s){return _n(this,void 0,void 0,function*(){return us(e,"PUT",t,r,s,n)})}function Dg(e,t,n,r){return _n(this,void 0,void 0,function*(){return us(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wh(e,t,n,r,s){return _n(this,void 0,void 0,function*(){return us(e,"DELETE",t,r,s,n)})}var Re=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mg{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hh(s)}uploadOrUpdate(t,n,r,s){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},tc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:tc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Nl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(t,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Re(this,void 0,void 0,function*(){try{const s=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(t,n){return Re(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield wi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}})}info(t){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ka(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(t){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Dg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof ja){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}list(t,n,r){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ug),n),{prefix:t||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const zg="2.7.1",Fg={"X-Client-Info":`storage-js/${zg}`};var kn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class Bg{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Fg),n),this.fetch=Hh(r)}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return kn(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}deleteBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}}class Hg extends Bg{constructor(t,n={},r){super(t,n,r)}from(t){return new Mg(this.url,this.headers,t,this.fetch)}}const Wg="2.50.0";let kr="";typeof Deno<"u"?kr="deno":typeof document<"u"?kr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kr="react-native":kr="node";const qg={"X-Client-Info":`supabase-js-${kr}/${Wg}`},Vg={headers:qg},Gg={schema:"public"},Kg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qg={};var Jg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Yg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Th:t=fetch,(...n)=>t(...n)},Xg=()=>typeof Headers>"u"?Ch:Headers,Zg=(e,t,n)=>{const r=Yg(n),s=Xg();return(i,o)=>Jg(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ev=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};function tv(e){return e.endsWith("/")?e:e+"/"}function nv(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:p}=t,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ev(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const qh="2.70.0",Cn=30*1e3,Na=3,So=Na*Cn,rv="http://localhost:9999",sv="supabase.auth.token",iv={"X-Client-Info":`gotrue-js/${qh}`},ba="X-Supabase-Api-Version",Vh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ov=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,av=6e5;class bl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lv extends bl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uv(e){return H(e)&&e.name==="AuthApiError"}class Gh extends bl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Zt extends bl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class At extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cv(e){return H(e)&&e.name==="AuthSessionMissingError"}class Cs extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends Zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends Zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dv(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class nc extends Zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ea extends Zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function jo(e){return H(e)&&e.name==="AuthRetryableFetchError"}class rc extends Zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ir extends Zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sc=` 	
\r=`.split(""),hv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sc.length;t+=1)e[sc[t].charCodeAt(0)]=-2;for(let t=0;t<_i.length;t+=1)e[_i[t].charCodeAt(0)]=t;return e})();function ic(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_i[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_i[r]),t.queuedBits-=6}}function Kh(e,t,n){const r=hv[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{mv(o,r,n)};for(let o=0;o<e.length;o+=1)Kh(e.charCodeAt(o),s,i);return t.join("")}function fv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pv(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fv(r,t)}}function mv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gv(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Kh(e.charCodeAt(s),n,r);return new Uint8Array(t)}function vv(e){const t=[];return pv(e,n=>t.push(n)),new Uint8Array(t)}function yv(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ic(s,n,r)),ic(null,n,r),t.join("")}function wv(e){return Math.round(Date.now()/1e3)+e}function _v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Dr=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function xv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>or),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Sv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Os=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rs=async(e,t)=>{await e.removeItem(t)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hi.promiseConstructor=Promise;function ko(e){const t=e.split(".");if(t.length!==3)throw new Ir("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ov.test(t[r]))throw new Ir("JWT not in base64url format");return{header:JSON.parse(oc(t[0])),payload:JSON.parse(oc(t[1])),signature:gv(t[2]),raw:{header:t[0],payload:t[1]}}}async function jv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kv(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Nv(e){return("0"+e.toString(16)).substr(-2)}function bv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Nv).join("")}async function Ev(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Tv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ev(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(e,t,n=!1){const r=bv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Jh(e,`${t}-code-verifier`,s);const i=await Tv(r);return[i,r===i?"plain":"s256"]}const Cv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pv(e){const t=e.headers.get(ba);if(!t||!t.match(Cv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Av(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ov(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bn(e){if(!Rv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Lv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$v=[502,503,504];async function ac(e){var t;if(!Sv(e))throw new Ea(on(e),0);if($v.includes(e.status))throw new Ea(on(e),e.status);let n;try{n=await e.json()}catch(i){throw new Gh(on(i),i)}let r;const s=Pv(e);if(s&&s.getTime()>=Vh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rc(on(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rc(on(n),e.status,n.weak_password.reasons);throw new lv(on(n),e.status||500,r)}const Iv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ba]||(i[ba]=Vh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Dv(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Dv(e,t,n,r,s,i){const o=Iv(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ea(on(u),0)}if(l.ok||await ac(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await ac(u)}}function vt(e){var t;let n=null;Fv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=wv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lc(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Uv(e){return{data:e,error:null}}function Mv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Lv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function zv(e){return e}function Fv(e){return e.access_token&&e.refresh_token&&e.expires_in}const No=["global","local","others"];var Bv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Hv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=No[0]){if(No.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${No.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Bv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Mv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zv});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return _.length>0&&(_.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){bn(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bn(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){bn(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bn(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bn(t.userId),bn(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const Wv={getItem:e=>Dr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dr()&&globalThis.localStorage.removeItem(e)}};function uc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function qv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&Dr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vv extends Yh{}async function Gv(e,t,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qv();const Kv={url:rv,storageKey:sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cc(e,t,n){return await n()}class ts{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Kv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Hv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qh(s.fetch),this.lock=s.lock||cc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gv:this.lock=cc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Dr()?this.storage=Wv:(this.memoryStorage={},this.storage=uc(this.memoryStorage)):(this.memoryStorage={},this.storage=uc(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new Gh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:p,options:g}=t;let _=null,v=null;this.flowType==="pkce"&&([_,v]=await Nn(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:v},xform:vt})}else if("phone"in t){const{phone:d,password:p,options:g}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:vt})}else throw new Ps("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lc})}else throw new Ps("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,l,u,c,d,p,g,_;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:k,wallet:m,statement:f,options:h}=t;let y;if(et())if(typeof m=="object")y=m;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))y=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const j=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const N=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let x;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")x=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)x=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)v=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),w=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=h==null?void 0:h.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((p=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...h.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const N=await y.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:k,error:m}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:yv(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:vt});if(m)throw m;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Cs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:m})}catch(k){if(H(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await Rs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Cs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nn(this.storage,this.storageKey));const{error:p}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ps("You must provide either an email or phone number.")}catch(l){if(H(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Nn(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Uv})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new At;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ps("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<So:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(n){if(H(n))return cv(n)&&(await this._removeSession(),await Rs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new At;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Nn(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ko(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!et())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nc("No code detected.");const{data:f,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let g=d+p;u&&(g=parseInt(u));const _=g-d;_*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);const v=g-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(uv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_v(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Nn(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:p,error:g}=i;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kv(async s=>(s>0&&await jv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&jo(i)&&Date.now()+o-r<Cn})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Os(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<So;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${So}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),jo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),H(i)){const o={session:null,error:i};return jo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Rs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${Na} ticks`),s<=Na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ko(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+av>Date.now()))return r;const{data:s,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ir("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Ir("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:_,error:v}=await this.getSession();if(v||!_.session)return{data:null,error:v};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=ko(r);if(Av(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ov(s.alg),d=await this.fetchJwk(s.kid,n),p=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,o,vv(`${l}.${u}`)))throw new Ir("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}ts.nextInstanceID=0;const Qv=ts;class Jv extends Qv{constructor(t){super(t)}}var Yv=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class Xv{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=tv(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Gg,realtime:Qg,auth:Object.assign(Object.assign({},Kg),{storageKey:c}),global:Vg},p=nv(r??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Zg(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new mg(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new qm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Hg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Yv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zv=(e,t,n)=>new Xv(e,t,n),ey="https://ycgzvqvszsjcsoffzaov.supabase.co",ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljZ3p2cXZzenNqY3NvZmZ6YW92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjQ1NzgsImV4cCI6MjA2NTE0MDU3OH0.WAotX-RdSQY-TRZ_Lal1v8Iw5nlijH36RoW0bXQ1Mrs",X=Zv(ey,ty),Tn={signUp:async(e,t,n)=>{const{data:r,error:s}=await X.auth.signUp({email:e,password:t,options:{data:n}});return{data:r,error:s}},signIn:async(e,t)=>{const{data:n,error:r}=await X.auth.signInWithPassword({email:e,password:t});return{data:n,error:r}},signOut:async()=>{const{error:e}=await X.auth.signOut();return{error:e}},getCurrentUser:()=>X.auth.getUser(),onAuthStateChange:e=>X.auth.onAuthStateChange(e)},Z={getUsers:async()=>{const{data:e,error:t}=await X.from("users").select("*").order("name");return{data:e,error:t}},getUserById:async e=>{const{data:t,error:n}=await X.from("users").select("*").eq("id",e).maybeSingle();return{data:t,error:n}},createUserProfile:async(e,t)=>{const{data:n,error:r}=await X.from("users").insert({id:e,email:t.email,name:t.name||"",surname:t.surname||"",handicap:t.handicap||18}).select().single();return{data:n,error:r}},updateUser:async(e,t)=>{const{data:n,error:r}=await X.from("users").update(t).eq("id",e).select().single();return{data:n,error:r}},promoteToAdmin:async e=>{const{data:t,error:n}=await X.rpc("promote_user_to_admin",{user_email:e});return{data:t,error:n}},getTours:async()=>{const{data:e,error:t}=await X.from("tours").select("*").order("year",{ascending:!1});return{data:e,error:t}},getActiveTour:async()=>{const{data:e,error:t}=await X.from("tours").select("*").eq("is_active",!0).maybeSingle();return{data:e,error:t}},createTour:async(e,t)=>{await X.from("tours").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000");const{data:n,error:r}=await X.from("tours").insert({name:e,year:t,is_active:!0}).select().single();return{data:n,error:r}},getCourses:async e=>{const{data:t,error:n}=await X.from("courses").select("*").eq("tour_id",e).order("play_date");return{data:t,error:n}},createCourse:async(e,t,n,r,s)=>{const{data:i,error:o}=await X.from("courses").insert({tour_id:e,name:t,par:n,holes:r,play_date:s}).select().single();return{data:i,error:o}},getTeams:async e=>{const{data:t,error:n}=await X.from("teams").select(`
        *,
        captain:captain_id(name, surname),
        team_members(
          user:user_id(id, name, surname, handicap)
        )
      `).eq("tour_id",e).order("name");return{data:t,error:n}},createTeam:async(e,t,n)=>{const{data:r,error:s}=await X.from("teams").insert({tour_id:e,name:t,captain_id:n}).select().single();return!s&&r&&await X.from("team_members").insert({team_id:r.id,user_id:n}),{data:r,error:s}},addTeamMember:async(e,t)=>{const{data:n,error:r}=await X.from("team_members").insert({team_id:e,user_id:t}).select().single();return{data:n,error:r}},removeTeamMember:async(e,t)=>{const{error:n}=await X.from("team_members").delete().eq("team_id",e).eq("user_id",t);return{error:n}},getScores:async(e,t=null)=>{let n=X.from("scores").select(`
        *,
        user:user_id(name, surname)
      `).eq("course_id",e).order("hole_number");t&&(n=n.eq("user_id",t));const{data:r,error:s}=await n;return{data:r,error:s}},saveScore:async(e,t,n,r,s,i=!1,o=!1)=>{const{data:l,error:u}=await X.from("scores").upsert({user_id:e,course_id:t,hole_number:n,strokes:r,recorded_by:s,three_putt:i,ring:o}).select().single();return{data:l,error:u}},saveScorecard:async(e,t,n,r,s={})=>{const i=n.map((u,c)=>{const d=c+1,p=s[d]||{};return{user_id:e,course_id:t,hole_number:d,strokes:parseInt(u)||null,recorded_by:r,three_putt:p.threePutt||!1,ring:p.ring||!1}}).filter(u=>u.strokes!==null),{data:o,error:l}=await X.from("scores").upsert(i,{onConflict:"user_id,course_id,hole_number"}).select();return{data:o,error:l}},deleteScorecard:async(e,t)=>{const{error:n}=await X.from("scores").delete().eq("user_id",e).eq("course_id",t);return{error:n}},getScoreStatistics:async(e,t=null)=>{let n=X.from("scores").select(`
        user_id,
        strokes,
        three_putt,
        ring,
        course:course_id(par, holes)
      `).eq("course_id",e);t&&(n=n.eq("user_id",t));const{data:r,error:s}=await n;return{data:r,error:s}},getFines:async e=>{const{data:t,error:n}=await X.from("fines").select(`
        *,
        user:user_id(name, surname),
        recorded_by_user:recorded_by(name, surname)
      `).eq("tour_id",e).order("created_at",{ascending:!1});return{data:t,error:n}},addFine:async(e,t,n,r,s,i)=>{const{data:o,error:l}=await X.from("fines").insert({user_id:e,tour_id:t,amount:n,reason:r,description:s,recorded_by:i}).select().single();return{data:o,error:l}}},Xh=A.createContext({}),lr=()=>{const e=A.useContext(Xh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},gt=(e,t=1e4,n="Operation")=>Promise.race([e,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timeout after ${t}ms`)),t))]);function ny({children:e}){const[t,n]=A.useState(null),[r,s]=A.useState(null),[i,o]=A.useState(!0);A.useEffect(()=>{let v=!0;(async()=>{console.log("🔄 Auth initialization starting...");try{console.log("📡 Calling auth.getCurrentUser()...");const{data:{user:m},error:f}=await gt(Tn.getCurrentUser(),3e4,"getCurrentUser");if(console.log("✅ auth.getCurrentUser() completed:",{hasUser:!!m,hasError:!!f,userId:m==null?void 0:m.id}),!v){console.log("⚠️ Component unmounted during auth check, aborting");return}m?(console.log("👤 User found, setting user and loading profile..."),n(m),await l(m.id,m.user_metadata)):(console.log("👤 No user found, setting null state"),n(null),s(null))}catch(m){if(console.error("❌ Error during auth initialization:",m),v){console.log("🧹 Clearing potentially corrupted session...");try{await gt(Tn.signOut(),1e4,"signOut"),console.log("✅ Session cleared successfully")}catch(f){console.error("❌ Error clearing session:",f)}n(null),s(null)}}finally{v&&(console.log("✅ Auth initialization complete, setting loading to false"),o(!1))}})();const{data:{subscription:k}}=Tn.onAuthStateChange(async(m,f)=>{if(console.log("🔔 Auth state change event:",m,{hasSession:!!f}),!v){console.log("⚠️ Component unmounted during auth state change, aborting");return}const h=(f==null?void 0:f.user)??null;console.log("👤 Setting user from auth state change:",{hasUser:!!h,userId:h==null?void 0:h.id}),n(h),h?(console.log("📋 Loading user profile for authenticated user..."),await l(h.id,h.user_metadata)):(console.log("🚫 No user, clearing profile"),s(null)),console.log("✅ Auth state change complete, setting loading to false"),o(!1)});return()=>{console.log("🧹 Cleaning up auth provider"),v=!1,k.unsubscribe()}},[]);const l=async(v,w={})=>{console.log("📋 Loading user profile for:",v);try{const{data:k,error:m}=await gt(Z.getUserById(v),3e4,"getUserById");if(m){console.error("❌ Error loading user profile:",m);return}if(k)console.log("✅ User profile found:",k.name,k.surname),s(k);else{console.log("🆕 Creating user profile for:",v);const f={email:(w==null?void 0:w.email)||"",name:(w==null?void 0:w.name)||"",surname:(w==null?void 0:w.surname)||"",handicap:parseInt(w==null?void 0:w.handicap)||18};console.log("📝 Creating profile with data:",f);const{data:h,error:y}=await gt(Z.createUserProfile(v,f),3e4,"createUserProfile");!y&&h?(console.log("✅ User profile created successfully"),s(h)):console.error("❌ Error creating user profile:",y)}}catch(k){console.error("❌ Error in loadUserProfile (possibly timeout):",k),k.message.includes("timeout")&&(console.log("⏰ Profile loading timed out, continuing without profile"),s(null))}},_={user:t,userProfile:r,loading:i,signIn:async(v,w)=>{console.log("🔐 Signing in user:",v),o(!0);try{const{data:k,error:m}=await gt(Tn.signIn(v,w),1e4,"signIn");return console.log("🔐 Sign in result:",{hasData:!!k,hasError:!!m}),{data:k,error:m}}catch(k){return console.error("❌ Sign in timeout or error:",k),{data:null,error:k}}finally{o(!1)}},signUp:async(v,w,k)=>{console.log("📝 Signing up user:",v),o(!0);try{const{data:m,error:f}=await gt(Tn.signUp(v,w,k),1e4,"signUp");return console.log("📝 Sign up result:",{hasData:!!m,hasError:!!f}),{data:m,error:f}}catch(m){return console.error("❌ Sign up timeout or error:",m),{data:null,error:m}}finally{o(!1)}},signOut:async()=>{console.log("🚪 Signing out user"),o(!0);try{const{error:v}=await gt(Tn.signOut(),5e3,"signOut");return console.log("🚪 Sign out result:",{hasError:!!v}),{error:v}}catch(v){return console.error("❌ Sign out timeout or error:",v),{error:v}}finally{o(!1)}},updateProfile:async v=>{if(!t)return{error:"No user logged in"};console.log("📝 Updating profile for:",t.id);try{const{data:w,error:k}=await gt(Z.updateUser(t.id,v),3e4,"updateUser");return!k&&w&&(console.log("✅ Profile updated successfully"),s(w)),{data:w,error:k}}catch(w){return console.error("❌ Error updating profile:",w),{error:w.message}}},promoteToAdmin:async v=>{console.log("👑 Promoting user to admin:",v);try{const{data:w,error:k}=await gt(Z.promoteToAdmin(v),3e4,"promoteToAdmin");return!k&&t&&(console.log("✅ User promoted to admin, reloading profile"),await l(t.id,t.user_metadata)),{data:w,error:k}}catch(w){return console.error("❌ Error promoting to admin:",w),{error:w.message}}},isAdmin:(r==null?void 0:r.is_admin)||!1};return a.jsx(Xh.Provider,{value:_,children:e})}function ry({isOpen:e,onClose:t}){const[n,r]=A.useState(!1),[s,i]=A.useState({email:"",password:"",name:"",surname:"",handicap:18}),[o,l]=A.useState(!1),[u,c]=A.useState(""),{signIn:d,signUp:p}=lr();if(!e)return null;const g=async v=>{v.preventDefault(),l(!0),c("");try{if(n){const{error:w}=await p(s.email,s.password,{name:s.name,surname:s.surname,handicap:s.handicap});if(w)throw w}else{const{error:w}=await d(s.email,s.password);if(w)throw w}t()}catch(w){c(w.message)}finally{l(!1)}},_=v=>{i({...s,[v.target.name]:v.target.value})};return a.jsx("div",{className:"modal-overlay",children:a.jsx("div",{className:"modal-container",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:n?"Sign Up":"Sign In"}),a.jsx("button",{onClick:t,className:"modal-close-btn","aria-label":"Close modal",children:a.jsx("i",{className:"fas fa-times"})})]}),a.jsxs("div",{className:"modal-body",children:[u&&a.jsx("div",{className:"error-message",children:u}),a.jsxs("form",{onSubmit:g,className:"auth-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"form-control",value:s.email,onChange:_,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Password"}),a.jsx("input",{type:"password",name:"password",className:"form-control",value:s.password,onChange:_,required:!0})]}),n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",name:"name",className:"form-control",value:s.name,onChange:_,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",name:"surname",className:"form-control",value:s.surname,onChange:_,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap (0-54)"}),a.jsx("input",{type:"number",name:"handicap",className:"form-control",value:s.handicap,onChange:_,min:"0",max:"54",required:!0})]})]}),a.jsx("button",{type:"submit",className:"btn btn--primary btn--full-width",disabled:o,children:o?"Loading...":n?"Sign Up":"Sign In"})]}),a.jsx("div",{className:"auth-switch",children:a.jsx("button",{type:"button",className:"auth-switch-btn",onClick:()=>r(!n),children:n?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})})}function sy({current:e,onNavigate:t,onAuthClick:n}){const{user:r,userProfile:s,signOut:i}=lr(),[o,l]=A.useState(!1),[u,c]=A.useState(!1);A.useEffect(()=>{const v=()=>{const w=navigator.userAgent||navigator.vendor||window.opera,k=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(w.toLowerCase()),m=window.innerWidth<=768,f="ontouchstart"in window||navigator.maxTouchPoints>0,h=k||m&&f||m;c(h),h?document.body.classList.add("mobile-device"):document.body.classList.remove("mobile-device")};return v(),window.addEventListener("resize",v),window.addEventListener("orientationchange",v),()=>{window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}},[]);const d=[{id:"home",label:"Home"},{id:"schedule",label:"Schedule"},{id:"courses",label:"Golf Courses"},{id:"fines",label:"Banter & Fines"},{id:"friday",label:"Friday Activities"},{id:"scorecard",label:"Scorecard"},{id:"teams",label:"Teams"},{id:"profile",label:"Profile"}],p=async()=>{await i(),l(!1)},g=(v,w)=>{w&&(w.preventDefault(),w.stopPropagation()),console.log("Navigation clicked:",v),l(!1),t&&typeof t=="function"&&t(v),window.location.hash=v},_=()=>{l(!o)};return A.useEffect(()=>{const v=w=>{o&&!w.target.closest(".mobile-nav")&&!w.target.closest(".mobile-menu-btn")&&l(!1)};return o?(document.addEventListener("click",v),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("click",v),document.body.style.overflow=""}},[o]),a.jsxs(a.Fragment,{children:[a.jsx("header",{className:`site-header ${u?"mobile-header":""}`,children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"header-content",children:[a.jsx("div",{className:"logo",children:a.jsxs("h1",{children:[a.jsx("i",{className:"fas fa-golf-ball"}),u?"Golf Trip 2025":"Portugal Golf Trip 2025"]})}),a.jsx("button",{className:"mobile-menu-btn",onClick:_,"aria-label":"Toggle navigation menu",style:{display:u?"flex":"none"},children:a.jsx("i",{className:`fas ${o?"fa-times":"fa-bars"}`})}),a.jsx("nav",{className:`main-nav ${u?"mobile-nav":"desktop-nav"} ${u&&o?"mobile-nav--open":""}`,children:a.jsxs("ul",{className:"nav-list",children:[d.map(v=>a.jsx("li",{children:a.jsx("a",{href:`#${v.id}`,onClick:w=>g(v.id,w),className:`nav-link${e===v.id?" active":""}`,children:v.label})},v.id)),a.jsx("li",{className:"auth-section",children:r?a.jsxs("div",{className:"user-menu",children:[a.jsx("span",{className:"user-greeting",children:u?(s==null?void 0:s.name)||"User":`Welcome, ${(s==null?void 0:s.name)||r.email}`}),a.jsx("button",{onClick:p,className:"btn btn--secondary btn--sm",children:"Sign Out"})]}):a.jsx("button",{onClick:()=>{n(),l(!1)},className:"btn btn--primary btn--sm",children:"Sign In"})})]})})]})})}),u&&a.jsx("div",{className:`mobile-menu-overlay ${o?"mobile-menu-overlay--visible":""}`,onClick:()=>l(!1)})]})}function dc(){const e=new Date("July 1, 2025 00:00:00").getTime(),t=Date.now(),n=e-t;if(n<0)return{days:0,hours:0,minutes:0,seconds:0};const r=Math.floor(n/(1e3*60*60*24)),s=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(n%(1e3*60*60)/(1e3*60)),o=Math.floor(n%(1e3*60)/1e3);return{days:r,hours:s,minutes:i,seconds:o}}function iy(){const[e,t]=A.useState(dc());return A.useEffect(()=>{const n=setInterval(()=>{t(dc())},1e3);return()=>clearInterval(n)},[]),a.jsx("div",{className:"mt-8 card countdown-card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Countdown to Tee Off"}),a.jsxs("div",{className:"countdown",children:[a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.days}),a.jsx("span",{className:"countdown-label",children:"Days"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.hours}),a.jsx("span",{className:"countdown-label",children:"Hours"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.minutes}),a.jsx("span",{className:"countdown-label",children:"Minutes"})]}),a.jsxs("div",{className:"countdown-item",children:[a.jsx("span",{className:"countdown-number",children:e.seconds}),a.jsx("span",{className:"countdown-label",children:"Seconds"})]})]})]})})}const Ks={morgado:{name:"NAU Morgado Course",par:73,courseRating:72.7,slopeRating:129},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",par:72,courseRating:74.5,slopeRating:142},quintadolago:{name:"Quinta do Lago South Course",par:71,courseRating:73.7,slopeRating:139}},Nr={morgado:{name:"NAU Morgado Course",par:73,holes:[{par:4,hcp:13},{par:5,hcp:3},{par:4,hcp:7},{par:5,hcp:1},{par:3,hcp:15},{par:4,hcp:11},{par:4,hcp:9},{par:3,hcp:17},{par:5,hcp:5},{par:4,hcp:12},{par:4,hcp:4},{par:3,hcp:16},{par:4,hcp:10},{par:4,hcp:2},{par:5,hcp:6},{par:3,hcp:18},{par:4,hcp:14},{par:4,hcp:8}]},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",par:72,holes:[{par:4,hcp:9},{par:4,hcp:5},{par:4,hcp:1},{par:5,hcp:7},{par:3,hcp:17},{par:4,hcp:13},{par:5,hcp:3},{par:3,hcp:15},{par:4,hcp:11},{par:4,hcp:10},{par:5,hcp:2},{par:4,hcp:6},{par:3,hcp:18},{par:4,hcp:14},{par:4,hcp:8},{par:5,hcp:4},{par:3,hcp:16},{par:4,hcp:12}]},quintadolago:{name:"Quinta do Lago South Course",par:71,holes:[{par:4,hcp:6},{par:5,hcp:12},{par:4,hcp:2},{par:4,hcp:16},{par:3,hcp:18},{par:4,hcp:8},{par:5,hcp:4},{par:3,hcp:14},{par:4,hcp:10},{par:4,hcp:7},{par:4,hcp:1},{par:3,hcp:17},{par:4,hcp:13},{par:4,hcp:3},{par:5,hcp:11},{par:3,hcp:15},{par:4,hcp:9},{par:4,hcp:5}]}};function oy(){const[e,t]=A.useState([]),[n,r]=A.useState(null),[s,i]=A.useState([]),[o,l]=A.useState(!0),[u,c]=A.useState("all"),[d,p]=A.useState(!1);A.useEffect(()=>{k()},[u,d]);const g=(h,y)=>{const j=Ks[y];if(!j)return Math.round(h);const N=h*(j.slopeRating/113);return Math.round(N)},_=(h,y)=>Math.max(1,h-y),v=h=>{const y=h.toLowerCase();return y.includes("morgado")?"morgado":y.includes("amendoeira")||y.includes("faldo")?"amendoeira":y.includes("quinta")||y.includes("lago")?"quintadolago":null},w=(h,y)=>{var x;const j={eagles:0,birdies:0,threePutts:0,rings:0},N=((x=Nr[y])==null?void 0:x.holes)||Array(18).fill({par:4});return h.forEach((E,I)=>{var P;const L=((P=N[I])==null?void 0:P.par)||4,ne=E.strokes-L;ne<=-2?j.eagles++:ne===-1&&j.birdies++,E.three_putt&&j.threePutts++,E.ring&&j.rings++}),j},k=async()=>{try{l(!0);const{data:h}=await Z.getActiveTour();if(r(h),!h){l(!1);return}const{data:y}=await Z.getCourses(h.id);i(y||[]);const{data:j}=await Z.getTeams(h.id);if(!j||j.length===0){t([]),l(!1);return}const N=u==="all"?y||[]:(y==null?void 0:y.filter(E=>E.id===u))||[],x=[];for(const E of j){const I={id:E.id,name:E.name,captain:E.captain,members:[],totalGrossScore:0,totalNetScore:0,totalPar:0,coursesPlayed:0,totalStats:{eagles:0,birdies:0,threePutts:0,rings:0}};for(const L of E.team_members||[]){const K={id:L.user.id,name:`${L.user.name} ${L.user.surname}`,handicap:L.user.handicap,scores:[],totalGrossScore:0,totalNetScore:0,totalPar:0,coursesPlayed:0,totalStats:{eagles:0,birdies:0,threePutts:0,rings:0}};for(const ne of N){const{data:P}=await Z.getScores(ne.id,L.user.id);if(P&&P.length>0){const R=ne.par||72,z=v(ne.name),M=g(L.user.handicap,z),W=P.reduce((B,J)=>B+J.strokes,0),C=_(W,M),O=w(P,z);K.scores.push({courseId:ne.id,courseName:ne.name,courseKey:z,grossTotal:W,netTotal:C,par:R,courseHandicap:M,grossToPar:W-R,netToPar:C-R,stats:O}),K.totalGrossScore+=W,K.totalNetScore+=C,K.totalPar+=R,K.coursesPlayed++,Object.keys(O).forEach(B=>{K.totalStats[B]+=O[B]})}}I.members.push(K),I.totalGrossScore+=K.totalGrossScore,I.totalNetScore+=K.totalNetScore,I.totalPar+=K.totalPar,Object.keys(K.totalStats).forEach(ne=>{I.totalStats[ne]+=K.totalStats[ne]})}I.members.length>0&&(I.coursesPlayed=Math.max(...I.members.map(L=>L.coursesPlayed))),x.push(I)}x.sort((E,I)=>{const L=d?E.totalNetScore:E.totalGrossScore,K=d?I.totalNetScore:I.totalGrossScore;return L===0&&K===0?0:L===0?1:K===0?-1:L-K}),t(x)}catch(h){console.error("Error loading leaderboard data:",h)}finally{l(!1)}},m=(h,y,j,N=!1)=>{const x=N?y:h;if(x===0)return"-";const E=x-j;return E===0?`${x} (E)`:E>0?`${x} (+${E})`:`${x} (${E})`},f=(h,y)=>h===0&&e[0].totalGrossScore>0?a.jsx("span",{className:"text-2xl",title:"Best Team",children:"👑"}):h===y-1&&e[h].totalGrossScore>0?a.jsx("span",{className:"text-2xl",title:"Needs Improvement",children:"👎"}):null;return o?a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("div",{className:"text-xl text-gray-600",children:"Loading leaderboard..."})})}):n?e.length===0?a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"No team scores available yet."})})}):a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{children:["Team Leaderboard - ",n.name," ",n.year]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:h=>p(h.target.checked),className:"mr-2"}),"Show Net Scores"]})}),a.jsx("div",{className:"form-group mb-0",style:{minWidth:"200px"},children:a.jsxs("select",{className:"form-control",value:u,onChange:h=>c(h.target.value),children:[a.jsx("option",{value:"all",children:"All Courses"}),s.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})})]})]}),a.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"USGA Net Scoring:"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"Course Handicap"})," = Handicap Index × (Slope Rating ÷ 113)",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Net Score"})," = Gross Score - Course Handicap (minimum 1)",a.jsx("br",{}),"• Course ratings: Morgado (Slope: 129), Amendoeira (Slope: 142), Quinta do Lago (Slope: 139)",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Statistics:"})," 🦅 Eagles, 🐦 Birdies, 3P = 3-Putts, ⭕ = Rings (Hit Pin)"]})}),a.jsx("div",{className:"space-y-6",children:e.map((h,y)=>{var j,N;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:["#",y+1]}),f(y,e.length)]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold",children:h.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Captain: ",(j=h.captain)==null?void 0:j.name," ",(N=h.captain)==null?void 0:N.surname]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:h.totalGrossScore>0?m(h.totalGrossScore,h.totalNetScore,h.totalPar,d):"-"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Team Total (",d?"Net":"Gross",")"]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["🦅",h.totalStats.eagles," 🐦",h.totalStats.birdies," | 3P:",h.totalStats.threePutts," ⭕",h.totalStats.rings]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Player"}),a.jsx("th",{className:"text-center p-2",children:"HCP Index"}),u==="all"?s.map(x=>{const E=v(x.name),I=Ks[E];return a.jsxs("th",{className:"text-center p-2 min-w-24",children:[x.name.split(" ")[0],I&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Slope: ",I.slopeRating]})]},x.id)}):a.jsxs("th",{className:"text-center p-2",children:[d?"Net":"Gross"," Score",u!=="all"&&(()=>{const x=s.find(L=>L.id===u),E=v((x==null?void 0:x.name)||""),I=Ks[E];return I?a.jsxs("div",{className:"text-xs text-gray-500",children:["Slope: ",I.slopeRating]}):null})()]}),a.jsxs("th",{className:"text-center p-2 font-bold",children:["Total (",d?"Net":"Gross",")"]}),a.jsx("th",{className:"text-center p-2",children:"Stats"})]})}),a.jsx("tbody",{children:h.members.sort((x,E)=>{const I=d?x.totalNetScore:x.totalGrossScore,L=d?E.totalNetScore:E.totalGrossScore;return I===0&&L===0?0:I===0?1:L===0?-1:I-L}).map(x=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2 font-medium",children:x.name}),a.jsx("td",{className:"p-2 text-center",children:x.handicap}),u==="all"?s.map(E=>{const I=x.scores.find(L=>L.courseId===E.id);return a.jsx("td",{className:"p-2 text-center",children:I?a.jsxs("div",{children:[a.jsx("div",{children:m(I.grossTotal,I.netTotal,I.par,d)}),d&&I.courseHandicap&&a.jsxs("div",{className:"text-xs text-gray-500",children:["CH: ",I.courseHandicap]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["🦅",I.stats.eagles," 🐦",I.stats.birdies]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["3P:",I.stats.threePutts," ⭕",I.stats.rings]})]}):"-"},E.id)}):a.jsx("td",{className:"p-2 text-center",children:x.scores.length>0?a.jsxs("div",{children:[a.jsx("div",{children:m(x.scores[0].grossTotal,x.scores[0].netTotal,x.scores[0].par,d)}),d&&x.scores[0].courseHandicap&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Course HCP: ",x.scores[0].courseHandicap]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["🦅",x.scores[0].stats.eagles," 🐦",x.scores[0].stats.birdies]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["3P:",x.scores[0].stats.threePutts," ⭕",x.scores[0].stats.rings]})]}):"-"}),a.jsx("td",{className:"p-2 text-center font-bold",children:x.totalGrossScore>0?m(x.totalGrossScore,x.totalNetScore,x.totalPar,d):"-"}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{children:["🦅",x.totalStats.eagles," 🐦",x.totalStats.birdies]}),a.jsxs("div",{children:["3P:",x.totalStats.threePutts," ⭕",x.totalStats.rings]})]})})]},x.id))})]})})]},h.id)})})]})}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"No active tour found."})})})}function ay(){return a.jsxs("section",{className:"page active",id:"home",children:[a.jsx("div",{className:"hero card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h2",{children:"Welcome to our Portugal Golf Trip 2025!"}),a.jsx("p",{children:"Get ready for an unforgettable golfing adventure in the beautiful Algarve region of Portugal."})]})}),a.jsx(iy,{}),a.jsx("div",{className:"mt-8",children:a.jsx(oy,{})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Hotel"}),a.jsx("p",{children:a.jsx("a",{href:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",children:"View Hotel Vila Galé Cerro Alagoa on Google Maps"})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body schedule-table-container",children:[a.jsx("h3",{children:"Course Metrics"}),a.jsxs("table",{className:"summary-table mt-4",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Metric"}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"NAU Morgado"})}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"Amendoeira Faldo"})}),a.jsx("th",{children:a.jsx("a",{href:"#courses",children:"Quinta do Lago South"})})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Length (White/Black Tees)"}),a.jsx("td",{children:"6,399m"}),a.jsx("td",{children:"6,598m"}),a.jsx("td",{children:"6,488m"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Longest Hole"}),a.jsx("td",{children:"535m (Par 5, Hole 3)"}),a.jsx("td",{children:"613m (Par 5, Hole 13)"}),a.jsx("td",{children:"510m (Par 5, Hole 17)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Shortest Hole"}),a.jsx("td",{children:"166m (Par 3, Hole 11)"}),a.jsx("td",{children:"138m (Par 3, Hole 16)"}),a.jsx("td",{children:"171m (Par 3, Hole 4)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Green Size"}),a.jsx("td",{children:"600m²"}),a.jsx("td",{children:"550m²"}),a.jsx("td",{children:"650m²"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Course Rating (Black)"}),a.jsx("td",{children:"72.7"}),a.jsx("td",{children:"74.5"}),a.jsx("td",{children:"73.7"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Slope Rating (Black)"}),a.jsx("td",{children:"129"}),a.jsx("td",{children:"142"}),a.jsx("td",{children:"139"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Bunkers"}),a.jsx("td",{children:"85+ (Scottish-style)"}),a.jsx("td",{children:"70+ (Desert scrub)"}),a.jsx("td",{children:"60+ (Strategic placement)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water Hazards"}),a.jsx("td",{children:"4 lakes"}),a.jsx("td",{children:"5 watercourses"}),a.jsx("td",{children:"3 lakes (incl. Hole 15)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Signature Hole"}),a.jsx("td",{children:"18th (Par 4, elevated tee)"}),a.jsx("td",{children:"18th (Par 5, narrow fairway)"}),a.jsx("td",{children:"15th (Par 3 over lake)"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Year Opened"}),a.jsx("td",{children:"2003"}),a.jsx("td",{children:"2008"}),a.jsx("td",{children:"1974"})]})]})]})]})})]})}const ly=[{date:"Tuesday July 1, 2025",course:"Travel from Faro Airport to Vila Gale Cerro Alagoa",departureTime:"Upon Arrival",travelTime:"45",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D"},{date:"Wednesday July 2, 2025",course:"NAU Morgado Course",departureTime:"08:30",travelTime:"35",preTeeOffTime:"1.12",teeTime:"10:12",golfDrinksHours:"6.80",pickUpTime:"17:00",link:"https://www.nauhotels.com/en/nau-morgado-golf-country-club"},{date:"Thursday July 3, 2025",course:"Amendoeira Golf Resort",departureTime:"08:30",travelTime:"25",preTeeOffTime:"1.25",teeTime:"10:10",golfDrinksHours:"6.83",pickUpTime:"17:00",link:"https://www.amendoeiraresort.com/en/"},{date:"Friday July 4, 2025",course:"Free Day",departureTime:"N/A",travelTime:"N/A",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"N/A"},{date:"Saturday July 5, 2025",course:"Quinta do Lago South Course",departureTime:"08:30",travelTime:"38",preTeeOffTime:"1.27",teeTime:"10:24",golfDrinksHours:"6.60",pickUpTime:"17:00",link:"https://www.quintadolagocc.com/en/quinta-do-lago"},{date:"Sunday July 6, 2025",course:"Travel from Vila Gale Cerro Alagoa to Faro Airport",departureTime:"TBC (based on flight)",travelTime:"45",preTeeOffTime:"N/A",teeTime:"N/A",golfDrinksHours:"N/A",pickUpTime:"N/A",link:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D"}];function uy(){return a.jsxs("section",{className:"page active",id:"schedule",children:[a.jsx("h2",{children:"Schedule"}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Hotel"}),a.jsx("p",{children:a.jsx("a",{href:"https://www.google.com/maps/place/Hotel+Vila+Gal%C3%A9+Cerro+Alagoa/@37.0902751,-8.2464811,1820m/data=!3m2!1e3!4b1!4m9!3m8!1s0xd1acc1ed02352b3:0x9b33e2804786b813!5m2!4m1!1i2!8m2!3d37.0902751!4d-8.2439008!16s%2Fg%2F1wb8vz6s?entry=ttu&g_ep=EgoyMDI1MDYwNC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",children:"View Hotel Vila Galé Cerro Alagoa on Google Maps"})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body schedule-table-container",children:a.jsxs("table",{className:"schedule-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Golf Course"}),a.jsx("th",{children:"Departure Time"}),a.jsx("th",{children:"Travel Time (mins)"}),a.jsx("th",{children:"Pre-Tee Off Time (hrs)"}),a.jsx("th",{children:"Tee Time"}),a.jsx("th",{children:"Golf & Drinks (hrs)"}),a.jsx("th",{children:"Pick Up Time"}),a.jsx("th",{children:"Link to Golf Course"})]})}),a.jsx("tbody",{children:ly.map(e=>a.jsxs("tr",{children:[a.jsx("td",{children:e.date}),a.jsx("td",{children:e.course}),a.jsx("td",{children:e.departureTime}),a.jsx("td",{children:e.travelTime}),a.jsx("td",{children:e.preTeeOffTime}),a.jsx("td",{children:e.teeTime}),a.jsx("td",{children:e.golfDrinksHours}),a.jsx("td",{children:e.pickUpTime}),a.jsx("td",{children:e.link!=="N/A"?a.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.course}):"N/A"})]},e.date))})]})})})]})}const hc={morgado:{name:"NAU Morgado Course",description:"This superb course opened in 2003 and is one of the latest to open on the Algarve. Despite its young age, it feels surprisingly mature, a characteristic enhanced by the planting of 500 olive trees. Morgado features views of the Monchique Mountains and is set amongst valleys, rivers and woodland. With gently undulating fairways, deep bunkers and large tees and greens, Morgado is an excellent choice when travelling to the Algarve.",tips:["The greens are large with subtle breaks that can be difficult to read","Deep Scottish-inspired bunkers are strategically placed throughout the course","The course is relatively forgiving off the tee but demands good putting skills","Watch out for the wind which can make some holes play much longer"],website:"https://www.nauhotels.com/en/nau-morgado-golf-country-club"},amendoeira:{name:"Amendoeira Golf Resort (Faldo Course)",description:"Designed by six-time Major winner Sir Nick Faldo, this course is a standout destination for those seeking a top-rated golf holiday in Portugal. With breathtaking views and a layout that rewards thoughtful play, the Faldo Course offers an unforgettable round of golf in one of Europe's premier golf regions. Unlike traditional parkland courses, the Faldo Course embraces its unique Mediterranean setting, featuring desert-style bunkers, wild herbs, cacti and olive trees in place of heather and dense woodland.",tips:[`As Sir Nick said: "The real skill is that when you stand on the tee, the golf hole tells you what to do, and if you do what it tells you there is reward, but if you don't you're penalised"`,"The course requires strategic play and careful positioning","Keep right of the fairway on the 1st hole for a better line into the green","Par 5 4th hole is reachable with a good drive but requires a demanding tee shot"],website:"https://www.amendoeiraresort.com/en/"},quintadolago:{name:"Quinta do Lago South Course",description:"A favorite among European Tour professionals, the South Course requires accurate drives and precise shots. The most famous hole is the 15th, a memorable Par 3 requiring a 200m shot over a lake. Flanked by the Atlantic and the Ria Formosa Natural Park, Quinta do Lago is a tourist resort characterized by the harmony achieved between man and nature. Golf is a lifestyle here - Europe's largest golf course with 72 holes shared by four excellent 18-hole courses, two of which are listed among the top 25 golf courses in Europe.",tips:["The course is well-maintained with fast and true running greens","Tee boxes are all very good, fairways a joy to play off","Bunkers contain lovely white sand allowing plenty of spin","There are plenty of dog leg holes where positioning your tee shots is crucial","The best holes are 14/15/16 and 17 with great photo opportunities"],website:"https://www.quintadolagocc.com/en/quinta-do-lago"}};function cy(){const[e,t]=A.useState(null);if(e){const n=hc[e];return a.jsxs("section",{className:"page active",id:"courses",children:[a.jsx("button",{className:"btn mb-8",onClick:()=>t(null),children:"Back"}),a.jsx("h2",{children:n.name}),a.jsx("p",{className:"mt-8",children:n.description}),a.jsx("h3",{className:"mt-8",children:"Tips"}),a.jsx("ul",{className:"mt-4",children:n.tips.map(r=>a.jsx("li",{children:r},r))}),a.jsx("p",{className:"mt-8",children:a.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:"Visit website"})})]})}return a.jsxs("section",{className:"page active",id:"courses",children:[a.jsx("h2",{children:"Golf Courses"}),a.jsx("div",{className:"courses-grid mt-8",children:Object.entries(hc).map(([n,r])=>a.jsx("div",{className:"card course-card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{className:"course-title",children:r.name}),a.jsxs("p",{children:[r.description.substring(0,150),"..."]}),a.jsx("button",{className:"btn btn--primary btn--full-width view-course mt-8",onClick:()=>t(n),children:"View Details"})]})},n))})]})}const Ls=[{name:"3 Putt",amount:1,description:"Taking 3 stabs with a putter"},{name:"Woody",amount:1,description:"Hitting a tree during your round"},{name:"Wetty",amount:1,description:"Ball landing in water hazard"},{name:"Sandy",amount:1,description:"Ball landing in bunker"},{name:"Lost Ball",amount:2,description:"Losing a ball during play"},{name:"Air Shot",amount:2,description:"Completely missing the ball on a swing"},{name:"Not clearing ladies tee",amount:5,description:"Drive that doesn't make it past the ladies tee box"},{name:"Club Throw",amount:2,description:"Throwing a club in frustration"},{name:"Late for Tee Time",amount:5,description:"Arriving late for scheduled tee time"},{name:"Phone Ringing",amount:2,description:"Phone going off during play"},{name:"Dress Code Violation",amount:2,description:"Not adhering to proper golf attire"}];function dy(){return Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)}const fc="golf_trip_fines";function hy(){const[e,t]=A.useState(()=>{try{const o=localStorage.getItem(fc);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to parse fines from storage",o),[]}}),[n,r]=A.useState({name:"",type:Ls[0].name,description:""});A.useEffect(()=>{localStorage.setItem(fc,JSON.stringify(e))},[e]);const s=o=>{o.preventDefault();const l=Ls.find(c=>c.name===n.type);if(!l)return;const u={id:dy(),...n,amount:l.amount,date:new Date().toLocaleDateString()};t(c=>[...c,u]),r({name:"",type:Ls[0].name,description:""})},i=e.reduce((o,l)=>o+l.amount,0);return a.jsxs("section",{className:"page active",id:"fines",children:[a.jsx("h2",{children:"Banter & Fines"}),a.jsxs("form",{className:"mt-8",onSubmit:s,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Name"}),a.jsx("input",{className:"form-control",value:n.name,onChange:o=>r({...n,name:o.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Fine Type"}),a.jsx("select",{className:"form-control",value:n.type,onChange:o=>r({...n,type:o.target.value}),children:Ls.map(o=>a.jsxs("option",{value:o.name,children:[o.name," (€",o.amount,")"]},o.name))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Description"}),a.jsx("input",{className:"form-control",value:n.description,onChange:o=>r({...n,description:o.target.value})})]}),a.jsx("button",{className:"btn btn--primary mt-4",children:"Add Fine"})]}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("table",{className:"fines-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Fine Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Date"})]})}),a.jsx("tbody",{children:e.map(o=>a.jsxs("tr",{children:[a.jsx("td",{children:o.name}),a.jsx("td",{children:o.type}),a.jsxs("td",{children:["€",o.amount]}),a.jsx("td",{children:o.description||"-"}),a.jsx("td",{children:o.date})]},o.id))})]}),a.jsxs("p",{className:"mt-8",children:["Total fines: €",i.toFixed(2)]})]})})]})}const pc=[{category:"Beach",activities:[{name:"Praia dos Pescadores",description:"Beautiful fisherman's beach within walking distance of the hotel",votes:0},{name:"Praia da Oura",description:"Golden sand beach with water sports options",votes:0},{name:"Praia dos Alemães",description:"Popular beach with sun loungers and beachside bars",votes:0}]},{category:"Water Activities",activities:[{name:"Dolphin Watching",description:"2-hour speedboat cruise with chances to see wild dolphins",votes:0},{name:"Cave Tours",description:"Explore sea caves along the Algarve coast",votes:0},{name:"Jet Skiing",description:"Rent jet skis and explore the coastline",votes:0}]},{category:"Cultural",activities:[{name:"Silves Castle",description:"Visit the historic Moorish castle in nearby Silves",votes:0},{name:"Old Town Albufeira",description:"Explore the charming streets and shops of the old town",votes:0},{name:"Local Winery Tour",description:"Sample Portuguese wines at a local vineyard",votes:0}]},{category:"Adventure",activities:[{name:"Jeep Safari",description:"Off-road adventure through the Algarve countryside",votes:0},{name:"Karting",description:"Race go-karts at a local track",votes:0},{name:"Zoomarine",description:"Theme park with marine shows and attractions",votes:0}]}],mc="golf_trip_activities";function fy(){const[e,t]=A.useState(()=>{try{const r=localStorage.getItem(mc),s=r?JSON.parse(r):[];return pc.map(i=>{const o=s.find(l=>l.category===i.category);return{category:i.category,activities:i.activities.map(l=>{const u=o==null?void 0:o.activities.find(c=>c.name===l.name);return u?{...l,votes:u.votes}:l})}})}catch(r){return console.error("Failed to parse activities from storage",r),pc}});A.useEffect(()=>{localStorage.setItem(mc,JSON.stringify(e))},[e]);const n=(r,s)=>{t(i=>i.map(o=>o.category===r?{...o,activities:o.activities.map(l=>l.name===s?{...l,votes:l.votes+1}:l)}:o))};return a.jsxs("section",{className:"page active",id:"friday",children:[a.jsx("h2",{children:"Friday Activities"}),e.map(r=>a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{children:r.category}),r.activities.map(s=>a.jsx("div",{className:"card mt-4 activity-card",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"activity-title",children:[a.jsx("h4",{children:s.name}),a.jsxs("span",{className:"vote-count",children:[s.votes," votes"]})]}),a.jsx("p",{className:"mt-4",children:s.description}),a.jsxs("button",{className:"btn btn--secondary vote-btn mt-4",onClick:()=>n(r.category,s.name),children:[a.jsx("i",{className:"fas fa-thumbs-up"})," Vote"]})]})},s.name))]},r.category))]})}function py(){var Ll,$l,Il,Dl,Ul;const{user:e,userProfile:t}=lr(),[n,r]=A.useState(null),[s,i]=A.useState([]),[o,l]=A.useState(null),[u,c]=A.useState([]),[d,p]=A.useState([]),[g,_]=A.useState({}),[v,w]=A.useState({}),[k,m]=A.useState(!0),[f,h]=A.useState(!1),[y,j]=A.useState(!1),[N,x]=A.useState(!1),[E,I]=A.useState("stroke"),[L,K]=A.useState(!1),[ne,P]=A.useState("overview"),[R,z]=A.useState(1),[M,W]=A.useState(0),[C,O]=A.useState(null),[B,J]=A.useState(!1),[de,en]=A.useState(""),[lt,Oe]=A.useState(!1);A.useEffect(()=>{const S=()=>{const b=navigator.userAgent||navigator.vendor||window.opera,D=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(b.toLowerCase()),U=window.innerWidth<=768,q="ontouchstart"in window||navigator.maxTouchPoints>0,F=D||U&&q||U;K(F),F&&o&&d.length>0&&ne==="overview"&&(P("hole-entry"),z(1),W(0),O(null),Oe(!1))};return S(),window.addEventListener("resize",S),window.addEventListener("orientationchange",S),()=>{window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S)}},[o,d,ne]),A.useEffect(()=>{xn()},[]),A.useEffect(()=>{o&&Wi()},[o,d]),A.useEffect(()=>{L&&o&&d.length>0&&ne==="overview"&&setTimeout(()=>{P("hole-entry"),z(1),W(0),O(null),Oe(!1)},100)},[L,o,d]);const ut=S=>{const b=S.toLowerCase();return b.includes("morgado")?"morgado":b.includes("amendoeira")||b.includes("faldo")?"amendoeira":b.includes("quinta")||b.includes("lago")?"quintadolago":null},xn=async()=>{try{const{data:S}=await Z.getActiveTour();if(r(S),S){const{data:D}=await Z.getCourses(S.id);i(D||[]),D&&D.length>0&&l(D[0])}const{data:b}=await Z.getUsers();c(b||[])}catch(S){console.error("Error loading scorecard data:",S)}finally{m(!1)}},Wi=async()=>{if(!o||d.length===0){_({}),w({});return}try{const{data:S}=await Z.getScores(o.id),b={},D={};d.forEach(U=>{b[U]=Array(18).fill(""),D[U]={}}),S==null||S.forEach(U=>{b[U.user_id]&&(b[U.user_id][U.hole_number-1]=U.strokes.toString(),D[U.user_id]||(D[U.user_id]={}),D[U.user_id][U.hole_number]={threePutt:U.three_putt||!1,ring:U.ring||!1})}),_(b),w(D)}catch(S){console.error("Error loading scores:",S)}},Zh=S=>{p(b=>b.includes(S)?b.filter(D=>D!==S):[...b,S])},qi=(S,b,D)=>{const U=parseInt(D,10);D!==""&&(isNaN(U)||U<1||U>12)||_(q=>{const ye=[...q[S]||Array(18).fill("")];return ye[b]=D,{...q,[S]:ye}})},ef=S=>{var U;const b=Vi();if(!b)return;if(((U=g[b.id])==null?void 0:U[R-1])&&!lt){en('Tap "Edit" to change this score'),J(!0),setTimeout(()=>J(!1),2e3);return}O(S)},tf=()=>{if(d.length===0||C===null)return;const S=d[M],b=R-1;qi(S,b,C.toString()),O(null),Oe(!1),M<d.length-1?W(M+1):R<18?(W(0),z(R+1)):P("overview")},cs=(S,b,D,U)=>{w(q=>{var F;return{...q,[S]:{...q[S],[b]:{...(F=q[S])==null?void 0:F[b],[D]:U}}}})},El=async()=>{if(!(!o||!e)){h(!0);try{for(const S of d){const b=g[S]||Array(18).fill(""),D=v[S]||{};await Z.saveScorecard(S,o.id,b,e.id,D)}alert("Scorecard saved successfully!"),await Wi()}catch(S){console.error("Error saving scorecard:",S),alert("Error saving scorecard: "+S.message)}finally{h(!1)}}},Tl=async()=>{if(!(!o||d.length===0||!window.confirm(`Are you sure you want to delete scorecards for ${d.length} player(s) on ${o.name}? This action cannot be undone.`))){j(!0);try{for(const b of d)await Z.deleteScorecard(b,o.id);alert("Scorecard(s) deleted successfully!"),await Wi()}catch(b){console.error("Error deleting scorecard:",b),alert("Error deleting scorecard: "+b.message)}finally{j(!1)}}},Cl=()=>{if(!o)return[];const S=Object.keys(Nr).find(b=>Nr[b].name.toLowerCase().includes(o.name.toLowerCase())||o.name.toLowerCase().includes(b.toLowerCase()));return S&&Nr[S]?Nr[S].holes:o.holes||Array(18).fill({par:4,hcp:1})},Vi=()=>d.length===0?null:u.find(S=>S.id===d[M]),nf=()=>Cl()[R-1]||{par:4,hcp:1},Pl=(S,b)=>{const D=S-b;return D<=-3?"Albatross":D===-2?"Eagle":D===-1?"Birdie":D===0?"Par":D===1?"Bogey":D===2?"Double Bogey":`+${D}`},ur=(S,b,D)=>{const U=g[S]||[];let q=0,F=0;for(let ye=b;ye<D;ye++){const Se=parseInt(U[ye],10);isNaN(Se)||(q+=Se,F++)}return F===0?0:q},Al=S=>ur(S,0,18),rf=()=>{var D;const S=Vi();if(!S)return!1;const b=(D=g[S.id])==null?void 0:D[R-1];return!b||b===""},sf=S=>{if(rf()){en(`Please enter a score for Hole ${R} before moving to another hole.`),J(!0),setTimeout(()=>J(!1),3e3);return}z(S),W(0),O(null),Oe(!1)},Ol=S=>{S==="next"?M<d.length-1?W(M+1):R<18?(z(R+1),W(0)):P("overview"):M>0?W(M-1):R>1&&(z(R-1),W(d.length-1)),O(null),Oe(!1)},of=S=>{const b={morgado:[385,520,535,410,166,380,395,175,485,370,415,180,390,425,510,155,365,440],amendoeira:[410,395,425,613,138,380,520,165,405,385,545,415,175,390,420,580,160,450],quintadolago:[395,510,415,171,385,520,180,405,370,425,195,390,545,160,380,440,185,420]},D=ut((o==null?void 0:o.name)||"");return(b[D]||Array(18).fill(400))[S-1]||400},Rl=()=>{P("overview"),O(null),Oe(!1),J(!1)};if(k)return a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading scorecard..."})});if(!n)return a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Scorecard"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"No active tour found. Please contact an administrator."})})})]});const Ct=Cl(),af=ut((o==null?void 0:o.name)||""),ds=Ks[af];if(L&&ne==="hole-entry"&&o&&d.length>0){const S=Vi(),b=nf();if(!S)return a.jsxs("section",{className:"page active mobile-scorecard",children:[a.jsxs("div",{className:"mobile-header",children:[a.jsx("button",{className:"mobile-back-btn",onClick:Rl,children:a.jsx("i",{className:"fas fa-arrow-left"})}),a.jsx("div",{className:"mobile-hole-info",children:a.jsxs("h2",{children:["HOLE ",R," | PAR ",b.par]})})]}),a.jsx("div",{className:"mobile-error",children:a.jsx("p",{children:"No player selected"})})]});const D=(Ll=g[S.id])==null?void 0:Ll[R-1];return Al(S.id),a.jsxs("section",{className:"page active mobile-scorecard",children:[B&&a.jsxs("div",{className:"mobile-warning",children:[a.jsx("i",{className:"fas fa-exclamation-triangle"}),a.jsx("span",{children:de})]}),a.jsx("div",{className:"mobile-header",children:a.jsx("button",{className:"mobile-back-btn",onClick:Rl,children:a.jsx("i",{className:"fas fa-arrow-left"})})}),a.jsx("div",{className:"mobile-hole-strip",children:a.jsx("div",{className:"hole-strip-container",children:Array.from({length:18},(U,q)=>{var Se,tn;const F=q+1,ye=(Se=g[S.id])==null?void 0:Se[q];return a.jsxs("button",{className:`hole-strip-btn ${R===F?"hole-strip-btn--active":""} ${ye?"hole-strip-btn--completed":""}`,onClick:()=>sf(F),children:[a.jsx("span",{className:"hole-number",children:F}),a.jsxs("span",{className:"hole-par",children:["Par ",((tn=Ct[q])==null?void 0:tn.par)||4]})]},F)})})}),a.jsxs("div",{className:"mobile-hole-details",children:[a.jsxs("h2",{children:["HOLE ",R," | PAR ",b.par]}),a.jsxs("div",{className:"hole-meta",children:[a.jsxs("span",{className:"hole-length",children:[of(R),"m"]}),a.jsxs("span",{className:"hole-hcp",children:["HCP ",b.hcp]})]})]}),a.jsx("div",{className:"mobile-player-section",children:a.jsx("div",{className:"player-scroll-container",children:d.map((U,q)=>{const F=u.find(tn=>tn.id===U),ye=q===M,Se=Al(U);return a.jsxs("div",{className:`player-scroll-item ${ye?"player-scroll-item--active":""}`,onClick:()=>{W(q),O(null),Oe(!1)},children:[a.jsxs("div",{className:"player-name",children:[F==null?void 0:F.name," ",F==null?void 0:F.surname]}),a.jsxs("div",{className:"player-handicap",children:["HCP ",F==null?void 0:F.handicap]}),a.jsxs("div",{className:"player-total",children:["Total: ",Se||0]})]},U)})})}),a.jsx("div",{className:"mobile-player-info",children:a.jsx("div",{className:"player-score-display",children:D?a.jsxs("div",{className:"current-score",children:[a.jsx("span",{className:"score-number",children:D}),a.jsx("span",{className:"score-label",children:Pl(parseInt(D),b.par)})]}):C?a.jsxs("div",{className:"current-score",children:[a.jsx("span",{className:"score-number",children:C}),a.jsxs("span",{className:"score-label",children:[Pl(C,b.par)," (Selected)"]})]}):a.jsx("span",{className:"no-score",children:"Tap to select score"})})}),D&&!lt&&a.jsx("div",{className:"mobile-actions",children:a.jsxs("button",{className:"mobile-action-btn btn btn--secondary",onClick:()=>Oe(!0),children:[a.jsx("i",{className:"fas fa-edit"}),"Edit Score"]})}),a.jsx("div",{className:"mobile-score-grid",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(U=>{const q=U-b.par;let F="",ye=!1;q<=-3?F="Albatross":q===-2?F="Eagle":q===-1?F="Birdie":q===0?(F="Par",ye=!0):q===1?F="Bogey":q===2?F="Double Bogey":q>=3&&(F=`+${q}`);const Se=C===U;return a.jsxs("button",{className:`mobile-score-btn ${ye&&!Se?"mobile-score-btn--par":""} ${Se?"mobile-score-btn--selected":""}`,onClick:()=>ef(U),children:[a.jsx("span",{className:"score-number",children:U}),F&&a.jsx("span",{className:"score-label",children:F})]},U)})}),C&&a.jsx("div",{className:"mobile-actions",children:a.jsxs("button",{className:"mobile-action-btn btn btn--primary",onClick:tf,children:[a.jsx("i",{className:"fas fa-check"}),"Enter Score: ",C]})}),a.jsxs("div",{className:"mobile-extras",children:[a.jsx("h4",{children:"Track Additional Stats"}),a.jsxs("div",{className:"extras-grid",children:[a.jsxs("button",{className:`extra-btn ${(Il=($l=v[S.id])==null?void 0:$l[R])!=null&&Il.threePutt?"extra-btn--active":""}`,onClick:()=>{var q,F;const U=((F=(q=v[S.id])==null?void 0:q[R])==null?void 0:F.threePutt)||!1;cs(S.id,R,"threePutt",!U)},children:[a.jsx("i",{className:"fas fa-golf-ball"}),a.jsx("span",{children:"3-Putt"})]}),a.jsxs("button",{className:`extra-btn ${(Ul=(Dl=v[S.id])==null?void 0:Dl[R])!=null&&Ul.ring?"extra-btn--active":""}`,onClick:()=>{var q,F;const U=((F=(q=v[S.id])==null?void 0:q[R])==null?void 0:F.ring)||!1;cs(S.id,R,"ring",!U)},children:[a.jsx("i",{className:"fas fa-bullseye"}),a.jsx("span",{children:"Ring (Hit Pin)"})]}),a.jsxs("button",{className:"extra-btn",children:[a.jsx("i",{className:"fas fa-flag"}),a.jsx("span",{children:"GIR"})]}),a.jsxs("button",{className:"extra-btn",children:[a.jsx("i",{className:"fas fa-mountain"}),a.jsx("span",{children:"Bunker"})]}),a.jsxs("button",{className:"extra-btn",children:[a.jsx("i",{className:"fas fa-tint"}),a.jsx("span",{children:"Water"})]}),a.jsxs("button",{className:"extra-btn",children:[a.jsx("i",{className:"fas fa-search"}),a.jsx("span",{children:"Lost Ball"})]})]})]}),a.jsx("div",{className:"mobile-actions",children:a.jsx("button",{className:"mobile-action-btn mobile-action-btn--clear",onClick:()=>{const U=d[M],q=R-1;qi(U,q,""),O(null),Oe(!1)},children:"Clear Score"})}),a.jsxs("div",{className:"mobile-navigation",children:[a.jsxs("button",{className:"mobile-nav-btn",onClick:()=>Ol("prev"),disabled:R===1&&M===0,children:[a.jsx("i",{className:"fas fa-chevron-left"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"mobile-nav-info",children:[a.jsxs("div",{className:"player-indicator",children:["Player ",M+1," of ",d.length]}),a.jsxs("div",{className:"hole-indicator",children:["Hole ",R," of 18"]})]}),a.jsxs("button",{className:"mobile-nav-btn",onClick:()=>Ol("next"),disabled:R===18&&M===d.length-1,children:[a.jsx("span",{children:R===18&&M===d.length-1?"Finish":"Next"}),a.jsx("i",{className:"fas fa-chevron-right"})]})]})]})}return a.jsxs("section",{className:"page active",id:"scorecard",children:[a.jsxs("h2",{children:["Scorecard - ",n.name," ",n.year]}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Select Course"}),a.jsxs("select",{className:"form-control",value:(o==null?void 0:o.id)||"",onChange:S=>{const b=s.find(D=>D.id===S.target.value);l(b)},children:[a.jsx("option",{value:"",children:"Select a course"}),s.map(S=>a.jsxs("option",{value:S.id,children:[S.name," ",S.play_date?`- ${new Date(S.play_date).toLocaleDateString()}`:""]},S.id))]})]}),ds&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Course Info:"})," Par ",ds.par," | Course Rating: ",ds.courseRating," | Slope Rating: ",ds.slopeRating]})})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Select Players"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4",children:u.map(S=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.includes(S.id),onChange:()=>Zh(S.id)}),a.jsxs("span",{className:"text-sm",children:[S.name," ",S.surname," (HCP: ",S.handicap,")"]})]},S.id))})]})}),L&&o&&d.length>0&&ne==="overview"&&a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body text-center",children:[a.jsx("p",{className:"mb-4 text-lg",children:"Ready to start scoring!"}),a.jsxs("button",{className:"btn btn--primary btn--lg btn--full-width mobile-start-btn",onClick:()=>{z(1),W(0),O(null),Oe(!1),P("hole-entry")},children:[a.jsx("i",{className:"fas fa-golf-ball"}),a.jsx("span",{children:"Start Mobile Scoring"})]}),a.jsxs("div",{className:"mobile-actions-row",children:[a.jsx("button",{className:"btn btn--secondary",onClick:Tl,disabled:y,children:y?"Deleting...":"Delete Scores"}),a.jsx("button",{className:"btn btn--primary",onClick:El,disabled:f,children:f?"Saving...":"Save Scores"})]}),d.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h4",{className:"mb-4",children:"Full Scorecard"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"w-full text-sm border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"p-2 border text-left",children:"Hole"}),d.map(S=>{const b=u.find(D=>D.id===S);return a.jsxs("th",{className:"p-2 border text-center min-w-20",children:[a.jsxs("div",{children:[b==null?void 0:b.name," ",b==null?void 0:b.surname]}),a.jsxs("div",{className:"text-xs text-gray-600",children:["HCP: ",b==null?void 0:b.handicap]})]},S)})]})}),a.jsxs("tbody",{children:[Array.from({length:18},(S,b)=>{var q;const D=b+1,U=((q=Ct[b])==null?void 0:q.par)||4;return a.jsxs("tr",{className:"border-b",children:[a.jsxs("td",{className:"p-2 border font-medium",children:[a.jsxs("div",{children:["Hole ",D]}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Par ",U]})]}),d.map(F=>{const Se=(g[F]||Array(18).fill(""))[b];return a.jsx("td",{className:"p-2 border text-center",children:Se||"-"},F)})]},D)}),a.jsxs("tr",{className:"bg-gray-100 font-bold",children:[a.jsx("td",{className:"p-2 border",children:"Total"}),d.map(S=>{const b=ur(S,0,18);return a.jsx("td",{className:"p-2 border text-center",children:b||"-"},S)})]})]})]})})]})]})}),!L&&o&&d.length>0&&a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{children:o.name}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"radio",name:"scoringMode",value:"stroke",checked:E==="stroke",onChange:S=>I(S.target.value),className:"mr-2"}),"Stroke Play"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"radio",name:"scoringMode",value:"stableford",checked:E==="stableford",onChange:S=>I(S.target.value),className:"mr-2"}),"Stableford"]})}),E==="stroke"&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"form-label mb-0",children:[a.jsx("input",{type:"checkbox",checked:N,onChange:S=>x(S.target.checked),className:"mr-2"}),"Show Net Scores"]})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"btn btn--secondary",onClick:Tl,disabled:y,children:y?"Deleting...":"Delete Scorecard"}),a.jsx("button",{className:"btn btn--primary",onClick:El,disabled:f,children:f?"Saving...":"Save Scorecard"})]})]}),a.jsx("div",{className:"scorecard-table-container",children:a.jsxs("table",{className:"scorecard-table",children:[a.jsxs("thead",{children:[a.jsxs("tr",{children:[a.jsx("th",{children:"Hole"}),Array.from({length:18},(S,b)=>a.jsx("th",{children:b+1},b)),a.jsx("th",{children:"Out"}),a.jsx("th",{children:"In"}),a.jsx("th",{children:"Total"})]}),a.jsxs("tr",{children:[a.jsx("th",{children:"Par"}),Ct.map((S,b)=>a.jsx("th",{children:S.par},b)),a.jsx("th",{children:Ct.slice(0,9).reduce((S,b)=>S+b.par,0)}),a.jsx("th",{children:Ct.slice(9).reduce((S,b)=>S+b.par,0)}),a.jsx("th",{children:Ct.reduce((S,b)=>S+b.par,0)})]}),a.jsxs("tr",{children:[a.jsx("th",{children:"HCP"}),Ct.map((S,b)=>a.jsx("th",{children:S.hcp},b)),a.jsx("th",{}),a.jsx("th",{}),a.jsx("th",{})]})]}),a.jsx("tbody",{children:d.map(S=>{const b=u.find(D=>D.id===S);return a.jsxs("tr",{children:[a.jsxs("td",{className:"font-medium",children:[b==null?void 0:b.name," ",b==null?void 0:b.surname,a.jsxs("div",{className:"text-xs text-gray-600",children:["HCP: ",b==null?void 0:b.handicap]})]}),Array.from({length:18},(D,U)=>{var Ml;const F=(g[S]||[])[U]||"",ye=parseInt(F,10),Se=U+1,tn=((Ml=v[S])==null?void 0:Ml[Se])||{};let Sn="score-par";if(!isNaN(ye)){const mt=Ct[U],lf=(mt==null?void 0:mt.par)||4,cr=ye-lf;cr<=-2?Sn="score-eagle":cr===-1?Sn="score-birdie":cr===0?Sn="score-par":cr===1?Sn="score-bogey":cr>=2&&(Sn="score-double")}return a.jsx("td",{className:Sn,children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("input",{type:"number",className:"form-control",value:F,onChange:mt=>qi(S,U,mt.target.value),style:{width:"4rem",textAlign:"center"},min:"1",max:"12",placeholder:"1-12"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("label",{className:"flex items-center text-xs cursor-pointer",title:"3-Putt",children:[a.jsx("input",{type:"checkbox",checked:tn.threePutt||!1,onChange:mt=>cs(S,Se,"threePutt",mt.target.checked),className:"mr-1",style:{transform:"scale(0.8)"}}),"3P"]}),a.jsxs("label",{className:"flex items-center text-xs cursor-pointer",title:"Ring (Hit the Pin)",children:[a.jsx("input",{type:"checkbox",checked:tn.ring||!1,onChange:mt=>cs(S,Se,"ring",mt.target.checked),className:"mr-1",style:{transform:"scale(0.8)"}}),a.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",border:"1px solid red",backgroundColor:"transparent"}})]})]})]})},U)}),a.jsx("td",{className:"font-bold",children:ur(S,0,9)}),a.jsx("td",{className:"font-bold",children:ur(S,9,18)}),a.jsx("td",{className:"font-bold",children:ur(S,0,18)})]},S)})})]})})]})}),o&&d.length===0&&a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"Please select players to start recording scores."})})}),!o&&a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body text-center",children:a.jsx("p",{children:"Please select a course to start recording scores."})})})]})}function my(){const{userProfile:e,isAdmin:t}=lr(),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState(null),[u,c]=A.useState(!0),[d,p]=A.useState(!1),[g,_]=A.useState(!1),[v,w]=A.useState(""),[k,m]=A.useState(""),[f,h]=A.useState({email:"",name:"",surname:"",handicap:18});A.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:P}=await Z.getActiveTour();if(l(P),P){const{data:z}=await Z.getTeams(P.id);r(z||[])}const{data:R}=await Z.getUsers();i(R||[])}catch(P){console.error("Error loading teams data:",P)}finally{c(!1)}},j=async P=>{if(P.preventDefault(),!(!o||!v||!k))try{const{error:R}=await Z.createTeam(o.id,v,k);R||(w(""),m(""),p(!1),y())}catch(R){console.error("Error creating team:",R)}},N=async P=>{P.preventDefault();try{const R=crypto.randomUUID(),{data:z,error:M}=await Z.createUserProfile(R,f);M?(console.error("Error adding user:",M),alert("Error adding user: "+M.message)):(h({email:"",name:"",surname:"",handicap:18}),_(!1),y())}catch(R){console.error("Error adding user:",R),alert("Error adding user: "+R.message)}},x=async(P,R)=>{try{const z=n.find(W=>{var C;return(C=W.team_members)==null?void 0:C.some(O=>O.user.id===R)});if(z)if(window.confirm(`This user is already in team "${z.name}". Do you want to move them to this team?`))await Z.removeTeamMember(z.id,R);else return;const{error:M}=await Z.addTeamMember(P,R);M||y()}catch(z){console.error("Error adding team member:",z)}},E=async(P,R)=>{try{const{error:z}=await Z.removeTeamMember(P,R);z||y()}catch(z){console.error("Error removing team member:",z)}},I=async(P,R)=>{try{const z=n.find(M=>{var W;return(W=M.team_members)==null?void 0:W.some(C=>C.user.id===P)});z&&await Z.removeTeamMember(z.id,P),await Z.addTeamMember(R,P),y()}catch(z){console.error("Error switching team:",z),alert("Error switching team: "+z.message)}},L=P=>{var z,M;const R=((M=(z=n.find(W=>W.id===P))==null?void 0:z.team_members)==null?void 0:M.map(W=>W.user.id))||[];return s.filter(W=>!R.includes(W.id))},K=P=>n.find(R=>{var z;return(z=R.team_members)==null?void 0:z.some(M=>M.user.id===P)}),ne=P=>n.filter(R=>{var W,C;const z=((W=R.team_members)==null?void 0:W.length)||0,M=(C=R.team_members)==null?void 0:C.some(O=>O.user.id===P);return z<4&&!M});return u?a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading teams..."})}):o?a.jsxs("section",{className:"page active",id:"teams",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h2",{children:["Teams - ",o.name," ",o.year]}),a.jsx("div",{className:"flex gap-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn--secondary",onClick:()=>_(!0),children:"Add User"}),a.jsx("button",{className:"btn btn--primary",onClick:()=>p(!0),children:"Create Team"})]})})]}),g&&a.jsx("div",{className:"card mb-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Add New User"}),a.jsxs("form",{onSubmit:N,className:"mt-4",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",value:f.email,onChange:P=>h({...f,email:P.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",className:"form-control",value:f.name,onChange:P=>h({...f,name:P.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",className:"form-control",value:f.surname,onChange:P=>h({...f,surname:P.target.value}),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap (0-54)"}),a.jsx("input",{type:"number",className:"form-control",value:f.handicap,onChange:P=>h({...f,handicap:parseInt(P.target.value)}),min:"0",max:"54",required:!0})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Add User"}),a.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>_(!1),children:"Cancel"})]})]})]})}),d&&a.jsx("div",{className:"card mb-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Create New Team"}),a.jsxs("form",{onSubmit:j,className:"mt-4",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Team Name"}),a.jsx("input",{type:"text",className:"form-control",value:v,onChange:P=>w(P.target.value),required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Captain"}),a.jsxs("select",{className:"form-control",value:k,onChange:P=>m(P.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select Captain"}),s.map(P=>a.jsxs("option",{value:P.id,children:[P.name," ",P.surname," (Handicap: ",P.handicap,")"]},P.id))]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Create Team"}),a.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(P=>{var R,z,M,W,C;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:P.name}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Captain"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium",children:[(R=P.captain)==null?void 0:R.name," ",(z=P.captain)==null?void 0:z.surname]}),a.jsx("span",{className:"text-sm text-gray-500",children:"👑"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:["Members (",((M=P.team_members)==null?void 0:M.length)||0,"/4)"]}),a.jsx("div",{className:"space-y-2",children:(W=P.team_members)==null?void 0:W.map(O=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm",children:[O.user.name," ",O.user.surname,a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",O.user.handicap,")"]})]}),(t||P.captain_id===(e==null?void 0:e.id))&&a.jsx("button",{className:"text-red-600 hover:text-red-800 text-sm",onClick:()=>E(P.id,O.user.id),children:"Remove"})]},O.user.id))})]}),(t||P.captain_id===(e==null?void 0:e.id))&&(((C=P.team_members)==null?void 0:C.length)||0)<4&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Add Member"}),a.jsxs("select",{className:"form-control text-sm",onChange:O=>{O.target.value&&(x(P.id,O.target.value),O.target.value="")},children:[a.jsx("option",{value:"",children:"Select player to add"}),L(P.id).map(O=>a.jsxs("option",{value:O.id,children:[O.name," ",O.surname," (Handicap: ",O.handicap,")"]},O.id))]})]})]})},P.id)})}),n.length===0&&a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card__body text-center",children:[a.jsx("p",{children:"No teams created yet."}),t&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'Click "Create Team" to get started.'})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("h3",{children:["All Users (",s.length,")"]}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Name"}),a.jsx("th",{className:"text-left p-2",children:"Email"}),a.jsx("th",{className:"text-center p-2",children:"Handicap"}),a.jsx("th",{className:"text-left p-2",children:"Current Team"}),a.jsx("th",{className:"text-left p-2",children:"Switch Team"})]})}),a.jsx("tbody",{children:s.map(P=>{const R=K(P.id),z=ne(P.id);return a.jsxs("tr",{className:"border-b",children:[a.jsxs("td",{className:"p-2",children:[P.name," ",P.surname]}),a.jsx("td",{className:"p-2",children:P.email}),a.jsx("td",{className:"p-2 text-center",children:P.handicap}),a.jsx("td",{className:"p-2",children:R?a.jsx("span",{className:"text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded",children:R.name}):a.jsx("span",{className:"text-sm text-gray-500",children:"No team"})}),a.jsx("td",{className:"p-2",children:(t||(e==null?void 0:e.id)===P.id)&&z.length>0&&a.jsxs("select",{className:"form-control text-sm",onChange:M=>{M.target.value&&(I(P.id,M.target.value),M.target.value="")},children:[a.jsx("option",{value:"",children:R?"Switch to...":"Join team..."}),z.map(M=>{var W;return a.jsxs("option",{value:M.id,children:[M.name," (",((W=M.team_members)==null?void 0:W.length)||0,"/4)"]},M.id)})]})})]},P.id)})})]})})]})})]}):a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Teams"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"No active tour found. Please contact an administrator."})})})]})}function gy(){const{userProfile:e,updateProfile:t}=lr(),[n,r]=A.useState(!1),[s,i]=A.useState({name:"",surname:"",handicap:18}),[o,l]=A.useState([]),[u,c]=A.useState([]),[d,p]=A.useState(null),[g,_]=A.useState(!0);A.useEffect(()=>{e&&(i({name:e.name||"",surname:e.surname||"",handicap:e.handicap||18}),v())},[e]);const v=async()=>{try{const{data:f}=await Z.getActiveTour();if(p(f),f&&e){const{data:h}=await Z.getFines(f.id),y=(h==null?void 0:h.filter(x=>x.user_id===e.id))||[];c(y);const{data:j}=await Z.getCourses(f.id),N=[];for(const x of j||[]){const{data:E}=await Z.getScores(x.id,e.id);(E==null?void 0:E.length)>0&&N.push({course:x.name,scores:E,par:x.par})}l(N)}}catch(f){console.error("Error loading user data:",f)}finally{_(!1)}},w=async f=>{f.preventDefault();try{await t(s),r(!1)}catch(h){console.error("Error updating profile:",h)}},k=f=>{i({...s,[f.target.name]:f.target.value})},m=f=>f.reduce((h,y)=>h+y.strokes,0);return g?a.jsx("section",{className:"page active",children:a.jsx("div",{className:"text-center",children:"Loading profile..."})}):e?a.jsxs("section",{className:"page active",id:"profile",children:[a.jsx("h2",{children:"My Profile"}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{children:"Personal Information"}),a.jsx("button",{className:"btn btn--secondary",onClick:()=>r(!n),children:n?"Cancel":"Edit"})]}),n?a.jsxs("form",{onSubmit:w,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"First Name"}),a.jsx("input",{type:"text",name:"name",className:"form-control",value:s.name,onChange:k,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Last Name"}),a.jsx("input",{type:"text",name:"surname",className:"form-control",value:s.surname,onChange:k,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Handicap"}),a.jsx("input",{type:"number",name:"handicap",className:"form-control",value:s.handicap,onChange:k,min:"0",max:"54",required:!0})]}),a.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Changes"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.name," ",e.surname]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",e.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Handicap:"})," ",e.handicap]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Member since:"})," ",new Date(e.created_at).toLocaleDateString()]})]})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Score History"}),o.length>0?a.jsx("div",{className:"mt-4 space-y-6",children:o.map((f,h)=>a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:f.course}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Hole"}),Array.from({length:18},(y,j)=>a.jsx("th",{className:"text-center p-1",children:j+1},j)),a.jsx("th",{className:"text-center p-2",children:"Total"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{className:"p-2 font-medium",children:"Score"}),Array.from({length:18},(y,j)=>{const N=f.scores.find(x=>x.hole_number===j+1);return a.jsx("td",{className:"text-center p-1",children:N?N.strokes:"-"},j)}),a.jsx("td",{className:"text-center p-2 font-bold",children:m(f.scores)})]})})]})})]},h))}):a.jsx("p",{className:"mt-4 text-gray-600",children:"No scores recorded yet."})]})}),a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body",children:[a.jsx("h3",{children:"Fine History"}),u.length>0?a.jsxs("div",{className:"mt-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Date"}),a.jsx("th",{className:"text-left p-2",children:"Reason"}),a.jsx("th",{className:"text-left p-2",children:"Description"}),a.jsx("th",{className:"text-right p-2",children:"Amount"})]})}),a.jsx("tbody",{children:u.map(f=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:new Date(f.created_at).toLocaleDateString()}),a.jsx("td",{className:"p-2",children:f.reason}),a.jsx("td",{className:"p-2",children:f.description||"-"}),a.jsxs("td",{className:"p-2 text-right",children:["€",f.amount]})]},f.id))})]}),a.jsx("div",{className:"mt-4 text-right",children:a.jsxs("strong",{children:["Total Fines: €",u.reduce((f,h)=>f+parseFloat(h.amount),0).toFixed(2)]})})]}):a.jsx("p",{className:"mt-4 text-gray-600",children:"No fines recorded yet. Keep it up!"})]})})]}):a.jsxs("section",{className:"page active",children:[a.jsx("h2",{children:"Profile"}),a.jsx("div",{className:"card mt-8",children:a.jsx("div",{className:"card__body",children:a.jsx("p",{children:"Please sign in to view your profile."})})})]})}function vy(){const[e,t]=A.useState(()=>window.location.hash.replace("#","")||"home"),[n,r]=A.useState(!1),{user:s,loading:i}=lr();if(A.useEffect(()=>{const l=()=>t(window.location.hash.replace("#","")||"home");return window.addEventListener("hashchange",l),()=>window.removeEventListener("hashchange",l)},[]),A.useEffect(()=>{window.location.hash=e},[e]),i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})]})});const o=()=>{switch(e){case"schedule":return a.jsx(uy,{});case"courses":return a.jsx(cy,{});case"fines":return s?a.jsx(hy,{}):a.jsx($s,{});case"friday":return a.jsx(fy,{});case"scorecard":return s?a.jsx(py,{}):a.jsx($s,{});case"teams":return s?a.jsx(my,{}):a.jsx($s,{});case"profile":return s?a.jsx(gy,{}):a.jsx($s,{});default:return a.jsx(ay,{})}};return a.jsxs(a.Fragment,{children:[a.jsx(sy,{current:e,onNavigate:t,onAuthClick:()=>r(!0)}),a.jsx("main",{className:"container py-16",children:o()}),a.jsx(ry,{isOpen:n,onClose:()=>r(!1)})]})}function $s(){return a.jsx("div",{className:"card mt-8",children:a.jsxs("div",{className:"card__body text-center",children:[a.jsx("h3",{className:"mb-4",children:"Authentication Required"}),a.jsx("p",{className:"text-gray-600",children:"Please sign in to access this page."})]})})}function yy(){return a.jsx(ny,{children:a.jsx(vy,{})})}bo.createRoot(document.getElementById("root")).render(a.jsx(bf.StrictMode,{children:a.jsx(yy,{})}));
